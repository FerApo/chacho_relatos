var zS=Object.defineProperty;var WS=(e,t,n)=>t in e?zS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yh=(e,t,n)=>(WS(e,typeof t!="symbol"?t+"":t,n),n);function HS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var _t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function KS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Wg={exports:{}},ol={},Hg={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),GS=Symbol.for("react.portal"),qS=Symbol.for("react.fragment"),YS=Symbol.for("react.strict_mode"),XS=Symbol.for("react.profiler"),JS=Symbol.for("react.provider"),QS=Symbol.for("react.context"),ZS=Symbol.for("react.forward_ref"),eb=Symbol.for("react.suspense"),tb=Symbol.for("react.memo"),nb=Symbol.for("react.lazy"),wh=Symbol.iterator;function rb(e){return e===null||typeof e!="object"?null:(e=wh&&e[wh]||e["@@iterator"],typeof e=="function"?e:null)}var Kg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gg=Object.assign,qg={};function Io(e,t,n){this.props=e,this.context=t,this.refs=qg,this.updater=n||Kg}Io.prototype.isReactComponent={};Io.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Io.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yg(){}Yg.prototype=Io.prototype;function Rd(e,t,n){this.props=e,this.context=t,this.refs=qg,this.updater=n||Kg}var Ad=Rd.prototype=new Yg;Ad.constructor=Rd;Gg(Ad,Io.prototype);Ad.isPureReactComponent=!0;var xh=Array.isArray,Xg=Object.prototype.hasOwnProperty,$d={current:null},Jg={key:!0,ref:!0,__self:!0,__source:!0};function Qg(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Xg.call(t,r)&&!Jg.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:rs,type:e,key:i,ref:s,props:o,_owner:$d.current}}function ob(e,t){return{$$typeof:rs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Od(e){return typeof e=="object"&&e!==null&&e.$$typeof===rs}function ib(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sh=/\/+/g;function Yl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ib(""+e.key):t.toString(36)}function ea(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case rs:case GS:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Yl(s,0):r,xh(o)?(n="",e!=null&&(n=e.replace(Sh,"$&/")+"/"),ea(o,t,n,"",function(c){return c})):o!=null&&(Od(o)&&(o=ob(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Sh,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",xh(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Yl(i,a);s+=ea(i,t,n,l,o)}else if(l=rb(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Yl(i,a++),s+=ea(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ys(e,t,n){if(e==null)return e;var r=[],o=0;return ea(e,r,"","",function(i){return t.call(n,i,o++)}),r}function sb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},ta={transition:null},ab={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:ta,ReactCurrentOwner:$d};function Zg(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:ys,forEach:function(e,t,n){ys(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ys(e,function(){t++}),t},toArray:function(e){return ys(e,function(t){return t})||[]},only:function(e){if(!Od(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=Io;K.Fragment=qS;K.Profiler=XS;K.PureComponent=Rd;K.StrictMode=YS;K.Suspense=eb;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ab;K.act=Zg;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gg({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=$d.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Xg.call(t,l)&&!Jg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:rs,type:e.type,key:o,ref:i,props:r,_owner:s}};K.createContext=function(e){return e={$$typeof:QS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:JS,_context:e},e.Consumer=e};K.createElement=Qg;K.createFactory=function(e){var t=Qg.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:ZS,render:e}};K.isValidElement=Od;K.lazy=function(e){return{$$typeof:nb,_payload:{_status:-1,_result:e},_init:sb}};K.memo=function(e,t){return{$$typeof:tb,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=ta.transition;ta.transition={};try{e()}finally{ta.transition=t}};K.unstable_act=Zg;K.useCallback=function(e,t){return Ke.current.useCallback(e,t)};K.useContext=function(e){return Ke.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};K.useEffect=function(e,t){return Ke.current.useEffect(e,t)};K.useId=function(){return Ke.current.useId()};K.useImperativeHandle=function(e,t,n){return Ke.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Ke.current.useMemo(e,t)};K.useReducer=function(e,t,n){return Ke.current.useReducer(e,t,n)};K.useRef=function(e){return Ke.current.useRef(e)};K.useState=function(e){return Ke.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return Ke.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return Ke.current.useTransition()};K.version="18.3.1";Hg.exports=K;var h=Hg.exports;const te=zg(h),jd=HS({__proto__:null,default:te},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb=h,cb=Symbol.for("react.element"),ub=Symbol.for("react.fragment"),db=Object.prototype.hasOwnProperty,fb=lb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hb={key:!0,ref:!0,__self:!0,__source:!0};function ev(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)db.call(t,r)&&!hb.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:cb,type:e,key:i,ref:s,props:o,_owner:fb.current}}ol.Fragment=ub;ol.jsx=ev;ol.jsxs=ev;Wg.exports=ol;var S=Wg.exports,Qc={},tv={exports:{}},gt={},nv={exports:{}},rv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,j){var M=P.length;P.push(j);e:for(;0<M;){var L=M-1>>>1,W=P[L];if(0<o(W,j))P[L]=j,P[M]=W,M=L;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var j=P[0],M=P.pop();if(M!==j){P[0]=M;e:for(var L=0,W=P.length,X=W>>>1;L<X;){var ve=2*(L+1)-1,Ne=P[ve],oe=ve+1,B=P[oe];if(0>o(Ne,M))oe<W&&0>o(B,Ne)?(P[L]=B,P[oe]=M,L=oe):(P[L]=Ne,P[ve]=M,L=ve);else if(oe<W&&0>o(B,M))P[L]=B,P[oe]=M,L=oe;else break e}}return j}function o(P,j){var M=P.sortIndex-j.sortIndex;return M!==0?M:P.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,w=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=P)r(c),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(c)}}function b(P){if(g=!1,y(P),!w)if(n(l)!==null)w=!0,I(E);else{var j=n(c);j!==null&&U(b,j.startTime-P)}}function E(P,j){w=!1,g&&(g=!1,v(_),_=-1),p=!0;var M=f;try{for(y(j),d=n(l);d!==null&&(!(d.expirationTime>j)||P&&!N());){var L=d.callback;if(typeof L=="function"){d.callback=null,f=d.priorityLevel;var W=L(d.expirationTime<=j);j=e.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),y(j)}else r(l);d=n(l)}if(d!==null)var X=!0;else{var ve=n(c);ve!==null&&U(b,ve.startTime-j),X=!1}return X}finally{d=null,f=M,p=!1}}var k=!1,C=null,_=-1,R=5,O=-1;function N(){return!(e.unstable_now()-O<R)}function A(){if(C!==null){var P=e.unstable_now();O=P;var j=!0;try{j=C(!0,P)}finally{j?F():(k=!1,C=null)}}else k=!1}var F;if(typeof m=="function")F=function(){m(A)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,V=T.port2;T.port1.onmessage=A,F=function(){V.postMessage(null)}}else F=function(){x(A,0)};function I(P){C=P,k||(k=!0,F())}function U(P,j){_=x(function(){P(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,I(E))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var M=f;f=j;try{return P()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,j){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var M=f;f=P;try{return j()}finally{f=M}},e.unstable_scheduleCallback=function(P,j,M){var L=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?L+M:L):M=L,P){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=M+W,P={id:u++,callback:j,priorityLevel:P,startTime:M,expirationTime:W,sortIndex:-1},M>L?(P.sortIndex=M,t(c,P),n(l)===null&&P===n(c)&&(g?(v(_),_=-1):g=!0,U(b,M-L))):(P.sortIndex=W,t(l,P),w||p||(w=!0,I(E))),P},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(P){var j=f;return function(){var M=f;f=j;try{return P.apply(this,arguments)}finally{f=M}}}})(rv);nv.exports=rv;var pb=nv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb=h,ht=pb;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ov=new Set,Ai={};function jr(e,t){So(e,t),So(e+"Capture",t)}function So(e,t){for(Ai[e]=t,e=0;e<t.length;e++)ov.add(t[e])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zc=Object.prototype.hasOwnProperty,gb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bh={},Eh={};function vb(e){return Zc.call(Eh,e)?!0:Zc.call(bh,e)?!1:gb.test(e)?Eh[e]=!0:(bh[e]=!0,!1)}function yb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wb(e,t,n,r){if(t===null||typeof t>"u"||yb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nd=/[\-:]([a-z])/g;function Id(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nd,Id);je[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nd,Id);je[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nd,Id);je[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ld(e,t,n,r){var o=je.hasOwnProperty(t)?je[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wb(t,n,o,r)&&(n=null),r||o===null?vb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Sn=mb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ws=Symbol.for("react.element"),Yr=Symbol.for("react.portal"),Xr=Symbol.for("react.fragment"),Dd=Symbol.for("react.strict_mode"),eu=Symbol.for("react.profiler"),iv=Symbol.for("react.provider"),sv=Symbol.for("react.context"),Md=Symbol.for("react.forward_ref"),tu=Symbol.for("react.suspense"),nu=Symbol.for("react.suspense_list"),Fd=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),av=Symbol.for("react.offscreen"),Ch=Symbol.iterator;function Ko(e){return e===null||typeof e!="object"?null:(e=Ch&&e[Ch]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,Xl;function ai(e){if(Xl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xl=t&&t[1]||""}return`
`+Xl+e}var Jl=!1;function Ql(e,t){if(!e||Jl)return"";Jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Jl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ai(e):""}function xb(e){switch(e.tag){case 5:return ai(e.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 2:case 15:return e=Ql(e.type,!1),e;case 11:return e=Ql(e.type.render,!1),e;case 1:return e=Ql(e.type,!0),e;default:return""}}function ru(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xr:return"Fragment";case Yr:return"Portal";case eu:return"Profiler";case Dd:return"StrictMode";case tu:return"Suspense";case nu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sv:return(e.displayName||"Context")+".Consumer";case iv:return(e._context.displayName||"Context")+".Provider";case Md:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fd:return t=e.displayName||null,t!==null?t:ru(e.type)||"Memo";case Tn:t=e._payload,e=e._init;try{return ru(e(t))}catch{}}return null}function Sb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ru(t);case 8:return t===Dd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bb(e){var t=lv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xs(e){e._valueTracker||(e._valueTracker=bb(e))}function cv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=lv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function va(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ou(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _h(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uv(e,t){t=t.checked,t!=null&&Ld(e,"checked",t,!1)}function iu(e,t){uv(e,t);var n=qn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?su(e,t.type,n):t.hasOwnProperty("defaultValue")&&su(e,t.type,qn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function su(e,t,n){(t!=="number"||va(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var li=Array.isArray;function fo(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function au(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ph(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(li(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qn(n)}}function dv(e,t){var n=qn(t.value),r=qn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Th(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ss,hv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ss=Ss||document.createElement("div"),Ss.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ss.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $i(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Eb=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(e){Eb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hi[t]=hi[e]})});function pv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hi.hasOwnProperty(e)&&hi[e]?(""+t).trim():t+"px"}function mv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=pv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Cb=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cu(e,t){if(t){if(Cb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function uu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=null;function Vd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fu=null,ho=null,po=null;function Rh(e){if(e=ss(e)){if(typeof fu!="function")throw Error($(280));var t=e.stateNode;t&&(t=cl(t),fu(e.stateNode,e.type,t))}}function gv(e){ho?po?po.push(e):po=[e]:ho=e}function vv(){if(ho){var e=ho,t=po;if(po=ho=null,Rh(e),t)for(e=0;e<t.length;e++)Rh(t[e])}}function yv(e,t){return e(t)}function wv(){}var Zl=!1;function xv(e,t,n){if(Zl)return e(t,n);Zl=!0;try{return yv(e,t,n)}finally{Zl=!1,(ho!==null||po!==null)&&(wv(),vv())}}function Oi(e,t){var n=e.stateNode;if(n===null)return null;var r=cl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var hu=!1;if(fn)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){hu=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{hu=!1}function _b(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var pi=!1,ya=null,wa=!1,pu=null,kb={onError:function(e){pi=!0,ya=e}};function Pb(e,t,n,r,o,i,s,a,l){pi=!1,ya=null,_b.apply(kb,arguments)}function Tb(e,t,n,r,o,i,s,a,l){if(Pb.apply(this,arguments),pi){if(pi){var c=ya;pi=!1,ya=null}else throw Error($(198));wa||(wa=!0,pu=c)}}function Nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ah(e){if(Nr(e)!==e)throw Error($(188))}function Rb(e){var t=e.alternate;if(!t){if(t=Nr(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Ah(o),e;if(i===r)return Ah(o),t;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function bv(e){return e=Rb(e),e!==null?Ev(e):null}function Ev(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ev(e);if(t!==null)return t;e=e.sibling}return null}var Cv=ht.unstable_scheduleCallback,$h=ht.unstable_cancelCallback,Ab=ht.unstable_shouldYield,$b=ht.unstable_requestPaint,be=ht.unstable_now,Ob=ht.unstable_getCurrentPriorityLevel,Bd=ht.unstable_ImmediatePriority,_v=ht.unstable_UserBlockingPriority,xa=ht.unstable_NormalPriority,jb=ht.unstable_LowPriority,kv=ht.unstable_IdlePriority,il=null,Ht=null;function Nb(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(il,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Db,Ib=Math.log,Lb=Math.LN2;function Db(e){return e>>>=0,e===0?32:31-(Ib(e)/Lb|0)|0}var bs=64,Es=4194304;function ci(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=ci(a):(i&=s,i!==0&&(r=ci(i)))}else s=n&~o,s!==0?r=ci(s):i!==0&&(r=ci(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nt(t),o=1<<n,r|=e[n],t&=~o;return r}function Mb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Nt(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=Mb(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function mu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pv(){var e=bs;return bs<<=1,!(bs&4194240)&&(bs=64),e}function ec(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function os(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function Vb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Nt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Ud(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ee=0;function Tv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rv,zd,Av,$v,Ov,gu=!1,Cs=[],Mn=null,Fn=null,Vn=null,ji=new Map,Ni=new Map,On=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oh(e,t){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(t.pointerId)}}function qo(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=ss(t),t!==null&&zd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ub(e,t,n,r,o){switch(t){case"focusin":return Mn=qo(Mn,e,t,n,r,o),!0;case"dragenter":return Fn=qo(Fn,e,t,n,r,o),!0;case"mouseover":return Vn=qo(Vn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return ji.set(i,qo(ji.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ni.set(i,qo(Ni.get(i)||null,e,t,n,r,o)),!0}return!1}function jv(e){var t=vr(e.target);if(t!==null){var n=Nr(t);if(n!==null){if(t=n.tag,t===13){if(t=Sv(n),t!==null){e.blockedOn=t,Ov(e.priority,function(){Av(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);du=r,n.target.dispatchEvent(r),du=null}else return t=ss(n),t!==null&&zd(t),e.blockedOn=n,!1;t.shift()}return!0}function jh(e,t,n){na(e)&&n.delete(t)}function zb(){gu=!1,Mn!==null&&na(Mn)&&(Mn=null),Fn!==null&&na(Fn)&&(Fn=null),Vn!==null&&na(Vn)&&(Vn=null),ji.forEach(jh),Ni.forEach(jh)}function Yo(e,t){e.blockedOn===t&&(e.blockedOn=null,gu||(gu=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,zb)))}function Ii(e){function t(o){return Yo(o,e)}if(0<Cs.length){Yo(Cs[0],e);for(var n=1;n<Cs.length;n++){var r=Cs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mn!==null&&Yo(Mn,e),Fn!==null&&Yo(Fn,e),Vn!==null&&Yo(Vn,e),ji.forEach(t),Ni.forEach(t),n=0;n<On.length;n++)r=On[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<On.length&&(n=On[0],n.blockedOn===null);)jv(n),n.blockedOn===null&&On.shift()}var mo=Sn.ReactCurrentBatchConfig,ba=!0;function Wb(e,t,n,r){var o=ee,i=mo.transition;mo.transition=null;try{ee=1,Wd(e,t,n,r)}finally{ee=o,mo.transition=i}}function Hb(e,t,n,r){var o=ee,i=mo.transition;mo.transition=null;try{ee=4,Wd(e,t,n,r)}finally{ee=o,mo.transition=i}}function Wd(e,t,n,r){if(ba){var o=vu(e,t,n,r);if(o===null)uc(e,t,r,Ea,n),Oh(e,r);else if(Ub(o,e,t,n,r))r.stopPropagation();else if(Oh(e,r),t&4&&-1<Bb.indexOf(e)){for(;o!==null;){var i=ss(o);if(i!==null&&Rv(i),i=vu(e,t,n,r),i===null&&uc(e,t,r,Ea,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else uc(e,t,r,null,n)}}var Ea=null;function vu(e,t,n,r){if(Ea=null,e=Vd(r),e=vr(e),e!==null)if(t=Nr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Sv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ea=e,null}function Nv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ob()){case Bd:return 1;case _v:return 4;case xa:case jb:return 16;case kv:return 536870912;default:return 16}default:return 16}}var In=null,Hd=null,ra=null;function Iv(){if(ra)return ra;var e,t=Hd,n=t.length,r,o="value"in In?In.value:In.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return ra=o.slice(e,1<r?1-r:void 0)}function oa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function Nh(){return!1}function vt(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_s:Nh,this.isPropagationStopped=Nh,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),t}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kd=vt(Lo),is=ge({},Lo,{view:0,detail:0}),Kb=vt(is),tc,nc,Xo,sl=ge({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xo&&(Xo&&e.type==="mousemove"?(tc=e.screenX-Xo.screenX,nc=e.screenY-Xo.screenY):nc=tc=0,Xo=e),tc)},movementY:function(e){return"movementY"in e?e.movementY:nc}}),Ih=vt(sl),Gb=ge({},sl,{dataTransfer:0}),qb=vt(Gb),Yb=ge({},is,{relatedTarget:0}),rc=vt(Yb),Xb=ge({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),Jb=vt(Xb),Qb=ge({},Lo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zb=vt(Qb),e1=ge({},Lo,{data:0}),Lh=vt(e1),t1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=r1[e])?!!t[e]:!1}function Gd(){return o1}var i1=ge({},is,{key:function(e){if(e.key){var t=t1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gd,charCode:function(e){return e.type==="keypress"?oa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),s1=vt(i1),a1=ge({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dh=vt(a1),l1=ge({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gd}),c1=vt(l1),u1=ge({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),d1=vt(u1),f1=ge({},sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),h1=vt(f1),p1=[9,13,27,32],qd=fn&&"CompositionEvent"in window,mi=null;fn&&"documentMode"in document&&(mi=document.documentMode);var m1=fn&&"TextEvent"in window&&!mi,Lv=fn&&(!qd||mi&&8<mi&&11>=mi),Mh=String.fromCharCode(32),Fh=!1;function Dv(e,t){switch(e){case"keyup":return p1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function g1(e,t){switch(e){case"compositionend":return Mv(t);case"keypress":return t.which!==32?null:(Fh=!0,Mh);case"textInput":return e=t.data,e===Mh&&Fh?null:e;default:return null}}function v1(e,t){if(Jr)return e==="compositionend"||!qd&&Dv(e,t)?(e=Iv(),ra=Hd=In=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lv&&t.locale!=="ko"?null:t.data;default:return null}}var y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!y1[e.type]:t==="textarea"}function Fv(e,t,n,r){gv(r),t=Ca(t,"onChange"),0<t.length&&(n=new Kd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gi=null,Li=null;function w1(e){Xv(e,0)}function al(e){var t=eo(e);if(cv(t))return e}function x1(e,t){if(e==="change")return t}var Vv=!1;if(fn){var oc;if(fn){var ic="oninput"in document;if(!ic){var Bh=document.createElement("div");Bh.setAttribute("oninput","return;"),ic=typeof Bh.oninput=="function"}oc=ic}else oc=!1;Vv=oc&&(!document.documentMode||9<document.documentMode)}function Uh(){gi&&(gi.detachEvent("onpropertychange",Bv),Li=gi=null)}function Bv(e){if(e.propertyName==="value"&&al(Li)){var t=[];Fv(t,Li,e,Vd(e)),xv(w1,t)}}function S1(e,t,n){e==="focusin"?(Uh(),gi=t,Li=n,gi.attachEvent("onpropertychange",Bv)):e==="focusout"&&Uh()}function b1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(Li)}function E1(e,t){if(e==="click")return al(t)}function C1(e,t){if(e==="input"||e==="change")return al(t)}function _1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:_1;function Di(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Zc.call(t,o)||!Lt(e[o],t[o]))return!1}return!0}function zh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wh(e,t){var n=zh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zh(n)}}function Uv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zv(){for(var e=window,t=va();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=va(e.document)}return t}function Yd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function k1(e){var t=zv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Uv(n.ownerDocument.documentElement,n)){if(r!==null&&Yd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Wh(n,i);var s=Wh(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var P1=fn&&"documentMode"in document&&11>=document.documentMode,Qr=null,yu=null,vi=null,wu=!1;function Hh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wu||Qr==null||Qr!==va(r)||(r=Qr,"selectionStart"in r&&Yd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vi&&Di(vi,r)||(vi=r,r=Ca(yu,"onSelect"),0<r.length&&(t=new Kd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qr)))}function ks(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zr={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},sc={},Wv={};fn&&(Wv=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function ll(e){if(sc[e])return sc[e];if(!Zr[e])return e;var t=Zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wv)return sc[e]=t[n];return e}var Hv=ll("animationend"),Kv=ll("animationiteration"),Gv=ll("animationstart"),qv=ll("transitionend"),Yv=new Map,Kh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){Yv.set(e,t),jr(t,[e])}for(var ac=0;ac<Kh.length;ac++){var lc=Kh[ac],T1=lc.toLowerCase(),R1=lc[0].toUpperCase()+lc.slice(1);tr(T1,"on"+R1)}tr(Hv,"onAnimationEnd");tr(Kv,"onAnimationIteration");tr(Gv,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(qv,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ui));function Gh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Tb(r,t,void 0,e),e.currentTarget=null}function Xv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Gh(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Gh(o,a,c),i=l}}}if(wa)throw e=pu,wa=!1,pu=null,e}function ce(e,t){var n=t[Cu];n===void 0&&(n=t[Cu]=new Set);var r=e+"__bubble";n.has(r)||(Jv(t,e,2,!1),n.add(r))}function cc(e,t,n){var r=0;t&&(r|=4),Jv(n,e,r,t)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function Mi(e){if(!e[Ps]){e[Ps]=!0,ov.forEach(function(n){n!=="selectionchange"&&(A1.has(n)||cc(n,!1,e),cc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ps]||(t[Ps]=!0,cc("selectionchange",!1,t))}}function Jv(e,t,n,r){switch(Nv(t)){case 1:var o=Wb;break;case 4:o=Hb;break;default:o=Wd}n=o.bind(null,t,n,e),o=void 0,!hu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function uc(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=vr(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}xv(function(){var c=i,u=Vd(n),d=[];e:{var f=Yv.get(e);if(f!==void 0){var p=Kd,w=e;switch(e){case"keypress":if(oa(n)===0)break e;case"keydown":case"keyup":p=s1;break;case"focusin":w="focus",p=rc;break;case"focusout":w="blur",p=rc;break;case"beforeblur":case"afterblur":p=rc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=c1;break;case Hv:case Kv:case Gv:p=Jb;break;case qv:p=d1;break;case"scroll":p=Kb;break;case"wheel":p=h1;break;case"copy":case"cut":case"paste":p=Zb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dh}var g=(t&4)!==0,x=!g&&e==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var m=c,y;m!==null;){y=m;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,v!==null&&(b=Oi(m,v),b!=null&&g.push(Fi(m,b,y)))),x)break;m=m.return}0<g.length&&(f=new p(f,w,null,n,u),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==du&&(w=n.relatedTarget||n.fromElement)&&(vr(w)||w[hn]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=c,w=w?vr(w):null,w!==null&&(x=Nr(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=c),p!==w)){if(g=Ih,b="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=Dh,b="onPointerLeave",v="onPointerEnter",m="pointer"),x=p==null?f:eo(p),y=w==null?f:eo(w),f=new g(b,m+"leave",p,n,u),f.target=x,f.relatedTarget=y,b=null,vr(u)===c&&(g=new g(v,m+"enter",w,n,u),g.target=y,g.relatedTarget=x,b=g),x=b,p&&w)t:{for(g=p,v=w,m=0,y=g;y;y=Br(y))m++;for(y=0,b=v;b;b=Br(b))y++;for(;0<m-y;)g=Br(g),m--;for(;0<y-m;)v=Br(v),y--;for(;m--;){if(g===v||v!==null&&g===v.alternate)break t;g=Br(g),v=Br(v)}g=null}else g=null;p!==null&&qh(d,f,p,g,!1),w!==null&&x!==null&&qh(d,x,w,g,!0)}}e:{if(f=c?eo(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=x1;else if(Vh(f))if(Vv)E=C1;else{E=b1;var k=S1}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=E1);if(E&&(E=E(e,c))){Fv(d,E,n,u);break e}k&&k(e,f,c),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&su(f,"number",f.value)}switch(k=c?eo(c):window,e){case"focusin":(Vh(k)||k.contentEditable==="true")&&(Qr=k,yu=c,vi=null);break;case"focusout":vi=yu=Qr=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,Hh(d,n,u);break;case"selectionchange":if(P1)break;case"keydown":case"keyup":Hh(d,n,u)}var C;if(qd)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Jr?Dv(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Lv&&n.locale!=="ko"&&(Jr||_!=="onCompositionStart"?_==="onCompositionEnd"&&Jr&&(C=Iv()):(In=u,Hd="value"in In?In.value:In.textContent,Jr=!0)),k=Ca(c,_),0<k.length&&(_=new Lh(_,e,null,n,u),d.push({event:_,listeners:k}),C?_.data=C:(C=Mv(n),C!==null&&(_.data=C)))),(C=m1?g1(e,n):v1(e,n))&&(c=Ca(c,"onBeforeInput"),0<c.length&&(u=new Lh("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}Xv(d,t)})}function Fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ca(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Oi(e,n),i!=null&&r.unshift(Fi(e,i,o)),i=Oi(e,t),i!=null&&r.push(Fi(e,i,o))),e=e.return}return r}function Br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qh(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Oi(n,i),l!=null&&s.unshift(Fi(n,l,a))):o||(l=Oi(n,i),l!=null&&s.push(Fi(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var $1=/\r\n?/g,O1=/\u0000|\uFFFD/g;function Yh(e){return(typeof e=="string"?e:""+e).replace($1,`
`).replace(O1,"")}function Ts(e,t,n){if(t=Yh(t),Yh(e)!==t&&n)throw Error($(425))}function _a(){}var xu=null,Su=null;function bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Eu=typeof setTimeout=="function"?setTimeout:void 0,j1=typeof clearTimeout=="function"?clearTimeout:void 0,Xh=typeof Promise=="function"?Promise:void 0,N1=typeof queueMicrotask=="function"?queueMicrotask:typeof Xh<"u"?function(e){return Xh.resolve(null).then(e).catch(I1)}:Eu;function I1(e){setTimeout(function(){throw e})}function dc(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ii(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ii(t)}function Bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Do=Math.random().toString(36).slice(2),zt="__reactFiber$"+Do,Vi="__reactProps$"+Do,hn="__reactContainer$"+Do,Cu="__reactEvents$"+Do,L1="__reactListeners$"+Do,D1="__reactHandles$"+Do;function vr(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jh(e);e!==null;){if(n=e[zt])return n;e=Jh(e)}return t}e=n,n=e.parentNode}return null}function ss(e){return e=e[zt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function eo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function cl(e){return e[Vi]||null}var _u=[],to=-1;function nr(e){return{current:e}}function ue(e){0>to||(e.current=_u[to],_u[to]=null,to--)}function se(e,t){to++,_u[to]=e.current,e.current=t}var Yn={},Fe=nr(Yn),Qe=nr(!1),_r=Yn;function bo(e,t){var n=e.type.contextTypes;if(!n)return Yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ze(e){return e=e.childContextTypes,e!=null}function ka(){ue(Qe),ue(Fe)}function Qh(e,t,n){if(Fe.current!==Yn)throw Error($(168));se(Fe,t),se(Qe,n)}function Qv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error($(108,Sb(e)||"Unknown",o));return ge({},n,r)}function Pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,_r=Fe.current,se(Fe,e),se(Qe,Qe.current),!0}function Zh(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=Qv(e,t,_r),r.__reactInternalMemoizedMergedChildContext=e,ue(Qe),ue(Fe),se(Fe,e)):ue(Qe),se(Qe,n)}var on=null,ul=!1,fc=!1;function Zv(e){on===null?on=[e]:on.push(e)}function M1(e){ul=!0,Zv(e)}function rr(){if(!fc&&on!==null){fc=!0;var e=0,t=ee;try{var n=on;for(ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}on=null,ul=!1}catch(o){throw on!==null&&(on=on.slice(e+1)),Cv(Bd,rr),o}finally{ee=t,fc=!1}}return null}var no=[],ro=0,Ta=null,Ra=0,St=[],bt=0,kr=null,sn=1,an="";function ur(e,t){no[ro++]=Ra,no[ro++]=Ta,Ta=e,Ra=t}function ey(e,t,n){St[bt++]=sn,St[bt++]=an,St[bt++]=kr,kr=e;var r=sn;e=an;var o=32-Nt(r)-1;r&=~(1<<o),n+=1;var i=32-Nt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,sn=1<<32-Nt(t)+o|n<<o|r,an=i+e}else sn=1<<i|n<<o|r,an=e}function Xd(e){e.return!==null&&(ur(e,1),ey(e,1,0))}function Jd(e){for(;e===Ta;)Ta=no[--ro],no[ro]=null,Ra=no[--ro],no[ro]=null;for(;e===kr;)kr=St[--bt],St[bt]=null,an=St[--bt],St[bt]=null,sn=St[--bt],St[bt]=null}var ut=null,ct=null,de=!1,jt=null;function ty(e,t){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ep(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,ct=Bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kr!==null?{id:sn,overflow:an}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ut=e,ct=null,!0):!1;default:return!1}}function ku(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pu(e){if(de){var t=ct;if(t){var n=t;if(!ep(e,t)){if(ku(e))throw Error($(418));t=Bn(n.nextSibling);var r=ut;t&&ep(e,t)?ty(r,n):(e.flags=e.flags&-4097|2,de=!1,ut=e)}}else{if(ku(e))throw Error($(418));e.flags=e.flags&-4097|2,de=!1,ut=e}}}function tp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Rs(e){if(e!==ut)return!1;if(!de)return tp(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bu(e.type,e.memoizedProps)),t&&(t=ct)){if(ku(e))throw ny(),Error($(418));for(;t;)ty(e,t),t=Bn(t.nextSibling)}if(tp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ct=Bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=ut?Bn(e.stateNode.nextSibling):null;return!0}function ny(){for(var e=ct;e;)e=Bn(e.nextSibling)}function Eo(){ct=ut=null,de=!1}function Qd(e){jt===null?jt=[e]:jt.push(e)}var F1=Sn.ReactCurrentBatchConfig;function Jo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function As(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function np(e){var t=e._init;return t(e._payload)}function ry(e){function t(v,m){if(e){var y=v.deletions;y===null?(v.deletions=[m],v.flags|=16):y.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function o(v,m){return v=Hn(v,m),v.index=0,v.sibling=null,v}function i(v,m,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<m?(v.flags|=2,m):y):(v.flags|=2,m)):(v.flags|=1048576,m)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,m,y,b){return m===null||m.tag!==6?(m=wc(y,v.mode,b),m.return=v,m):(m=o(m,y),m.return=v,m)}function l(v,m,y,b){var E=y.type;return E===Xr?u(v,m,y.props.children,b,y.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tn&&np(E)===m.type)?(b=o(m,y.props),b.ref=Jo(v,m,y),b.return=v,b):(b=da(y.type,y.key,y.props,null,v.mode,b),b.ref=Jo(v,m,y),b.return=v,b)}function c(v,m,y,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=xc(y,v.mode,b),m.return=v,m):(m=o(m,y.children||[]),m.return=v,m)}function u(v,m,y,b,E){return m===null||m.tag!==7?(m=Er(y,v.mode,b,E),m.return=v,m):(m=o(m,y),m.return=v,m)}function d(v,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=wc(""+m,v.mode,y),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ws:return y=da(m.type,m.key,m.props,null,v.mode,y),y.ref=Jo(v,null,m),y.return=v,y;case Yr:return m=xc(m,v.mode,y),m.return=v,m;case Tn:var b=m._init;return d(v,b(m._payload),y)}if(li(m)||Ko(m))return m=Er(m,v.mode,y,null),m.return=v,m;As(v,m)}return null}function f(v,m,y,b){var E=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(v,m,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ws:return y.key===E?l(v,m,y,b):null;case Yr:return y.key===E?c(v,m,y,b):null;case Tn:return E=y._init,f(v,m,E(y._payload),b)}if(li(y)||Ko(y))return E!==null?null:u(v,m,y,b,null);As(v,y)}return null}function p(v,m,y,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(y)||null,a(m,v,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ws:return v=v.get(b.key===null?y:b.key)||null,l(m,v,b,E);case Yr:return v=v.get(b.key===null?y:b.key)||null,c(m,v,b,E);case Tn:var k=b._init;return p(v,m,y,k(b._payload),E)}if(li(b)||Ko(b))return v=v.get(y)||null,u(m,v,b,E,null);As(m,b)}return null}function w(v,m,y,b){for(var E=null,k=null,C=m,_=m=0,R=null;C!==null&&_<y.length;_++){C.index>_?(R=C,C=null):R=C.sibling;var O=f(v,C,y[_],b);if(O===null){C===null&&(C=R);break}e&&C&&O.alternate===null&&t(v,C),m=i(O,m,_),k===null?E=O:k.sibling=O,k=O,C=R}if(_===y.length)return n(v,C),de&&ur(v,_),E;if(C===null){for(;_<y.length;_++)C=d(v,y[_],b),C!==null&&(m=i(C,m,_),k===null?E=C:k.sibling=C,k=C);return de&&ur(v,_),E}for(C=r(v,C);_<y.length;_++)R=p(C,v,_,y[_],b),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?_:R.key),m=i(R,m,_),k===null?E=R:k.sibling=R,k=R);return e&&C.forEach(function(N){return t(v,N)}),de&&ur(v,_),E}function g(v,m,y,b){var E=Ko(y);if(typeof E!="function")throw Error($(150));if(y=E.call(y),y==null)throw Error($(151));for(var k=E=null,C=m,_=m=0,R=null,O=y.next();C!==null&&!O.done;_++,O=y.next()){C.index>_?(R=C,C=null):R=C.sibling;var N=f(v,C,O.value,b);if(N===null){C===null&&(C=R);break}e&&C&&N.alternate===null&&t(v,C),m=i(N,m,_),k===null?E=N:k.sibling=N,k=N,C=R}if(O.done)return n(v,C),de&&ur(v,_),E;if(C===null){for(;!O.done;_++,O=y.next())O=d(v,O.value,b),O!==null&&(m=i(O,m,_),k===null?E=O:k.sibling=O,k=O);return de&&ur(v,_),E}for(C=r(v,C);!O.done;_++,O=y.next())O=p(C,v,_,O.value,b),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?_:O.key),m=i(O,m,_),k===null?E=O:k.sibling=O,k=O);return e&&C.forEach(function(A){return t(v,A)}),de&&ur(v,_),E}function x(v,m,y,b){if(typeof y=="object"&&y!==null&&y.type===Xr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ws:e:{for(var E=y.key,k=m;k!==null;){if(k.key===E){if(E=y.type,E===Xr){if(k.tag===7){n(v,k.sibling),m=o(k,y.props.children),m.return=v,v=m;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tn&&np(E)===k.type){n(v,k.sibling),m=o(k,y.props),m.ref=Jo(v,k,y),m.return=v,v=m;break e}n(v,k);break}else t(v,k);k=k.sibling}y.type===Xr?(m=Er(y.props.children,v.mode,b,y.key),m.return=v,v=m):(b=da(y.type,y.key,y.props,null,v.mode,b),b.ref=Jo(v,m,y),b.return=v,v=b)}return s(v);case Yr:e:{for(k=y.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(v,m.sibling),m=o(m,y.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=xc(y,v.mode,b),m.return=v,v=m}return s(v);case Tn:return k=y._init,x(v,m,k(y._payload),b)}if(li(y))return w(v,m,y,b);if(Ko(y))return g(v,m,y,b);As(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(v,m.sibling),m=o(m,y),m.return=v,v=m):(n(v,m),m=wc(y,v.mode,b),m.return=v,v=m),s(v)):n(v,m)}return x}var Co=ry(!0),oy=ry(!1),Aa=nr(null),$a=null,oo=null,Zd=null;function ef(){Zd=oo=$a=null}function tf(e){var t=Aa.current;ue(Aa),e._currentValue=t}function Tu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function go(e,t){$a=e,Zd=oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Zd!==e)if(e={context:e,memoizedValue:t,next:null},oo===null){if($a===null)throw Error($(308));oo=e,$a.dependencies={lanes:0,firstContext:e}}else oo=oo.next=e;return t}var yr=null;function nf(e){yr===null?yr=[e]:yr.push(e)}function iy(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,nf(t)):(n.next=o.next,o.next=n),t.interleaved=n,pn(e,r)}function pn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rn=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,pn(e,n)}return o=r.interleaved,o===null?(t.next=t,nf(r)):(t.next=o.next,o.next=t),r.interleaved=t,pn(e,n)}function ia(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ud(e,n)}}function rp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oa(e,t,n,r){var o=e.updateQueue;Rn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;s=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,g=a;switch(f=t,p=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){d=w.call(p,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,f=typeof w=="function"?w.call(p,d,f):w,f==null)break e;d=ge({},d,f);break e;case 2:Rn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(1);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Tr|=s,e.lanes=s,e.memoizedState=d}}function op(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error($(191,o));o.call(r)}}}var as={},Kt=nr(as),Bi=nr(as),Ui=nr(as);function wr(e){if(e===as)throw Error($(174));return e}function of(e,t){switch(se(Ui,t),se(Bi,e),se(Kt,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lu(t,e)}ue(Kt),se(Kt,t)}function _o(){ue(Kt),ue(Bi),ue(Ui)}function ay(e){wr(Ui.current);var t=wr(Kt.current),n=lu(t,e.type);t!==n&&(se(Bi,e),se(Kt,n))}function sf(e){Bi.current===e&&(ue(Kt),ue(Bi))}var fe=nr(0);function ja(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hc=[];function af(){for(var e=0;e<hc.length;e++)hc[e]._workInProgressVersionPrimary=null;hc.length=0}var sa=Sn.ReactCurrentDispatcher,pc=Sn.ReactCurrentBatchConfig,Pr=0,me=null,_e=null,Re=null,Na=!1,yi=!1,zi=0,V1=0;function Ie(){throw Error($(321))}function lf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lt(e[n],t[n]))return!1;return!0}function cf(e,t,n,r,o,i){if(Pr=i,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sa.current=e===null||e.memoizedState===null?W1:H1,e=n(r,o),yi){i=0;do{if(yi=!1,zi=0,25<=i)throw Error($(301));i+=1,Re=_e=null,t.updateQueue=null,sa.current=K1,e=n(r,o)}while(yi)}if(sa.current=Ia,t=_e!==null&&_e.next!==null,Pr=0,Re=_e=me=null,Na=!1,t)throw Error($(300));return e}function uf(){var e=zi!==0;return zi=0,e}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?me.memoizedState=Re=e:Re=Re.next=e,Re}function Pt(){if(_e===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Re===null?me.memoizedState:Re.next;if(t!==null)Re=t,_e=e;else{if(e===null)throw Error($(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Re===null?me.memoizedState=Re=e:Re=Re.next=e}return Re}function Wi(e,t){return typeof t=="function"?t(e):t}function mc(e){var t=Pt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=_e,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var u=c.lane;if((Pr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,me.lanes|=u,Tr|=u}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,Lt(r,t.memoizedState)||(Je=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,me.lanes|=i,Tr|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gc(e){var t=Pt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Lt(i,t.memoizedState)||(Je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ly(){}function cy(e,t){var n=me,r=Pt(),o=t(),i=!Lt(r.memoizedState,o);if(i&&(r.memoizedState=o,Je=!0),r=r.queue,df(fy.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,Hi(9,dy.bind(null,n,r,o,t),void 0,null),Ae===null)throw Error($(349));Pr&30||uy(n,t,o)}return o}function uy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dy(e,t,n,r){t.value=n,t.getSnapshot=r,hy(t)&&py(e)}function fy(e,t,n){return n(function(){hy(t)&&py(e)})}function hy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lt(e,n)}catch{return!0}}function py(e){var t=pn(e,1);t!==null&&It(t,e,1,-1)}function ip(e){var t=Ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},t.queue=e,e=e.dispatch=z1.bind(null,me,e),[t.memoizedState,e]}function Hi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function my(){return Pt().memoizedState}function aa(e,t,n,r){var o=Ut();me.flags|=e,o.memoizedState=Hi(1|t,n,void 0,r===void 0?null:r)}function dl(e,t,n,r){var o=Pt();r=r===void 0?null:r;var i=void 0;if(_e!==null){var s=_e.memoizedState;if(i=s.destroy,r!==null&&lf(r,s.deps)){o.memoizedState=Hi(t,n,i,r);return}}me.flags|=e,o.memoizedState=Hi(1|t,n,i,r)}function sp(e,t){return aa(8390656,8,e,t)}function df(e,t){return dl(2048,8,e,t)}function gy(e,t){return dl(4,2,e,t)}function vy(e,t){return dl(4,4,e,t)}function yy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wy(e,t,n){return n=n!=null?n.concat([e]):null,dl(4,4,yy.bind(null,t,e),n)}function ff(){}function xy(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sy(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function by(e,t,n){return Pr&21?(Lt(n,t)||(n=Pv(),me.lanes|=n,Tr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=n)}function B1(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var r=pc.transition;pc.transition={};try{e(!1),t()}finally{ee=n,pc.transition=r}}function Ey(){return Pt().memoizedState}function U1(e,t,n){var r=Wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cy(e))_y(t,n);else if(n=iy(e,t,n,r),n!==null){var o=He();It(n,e,r,o),ky(n,t,r)}}function z1(e,t,n){var r=Wn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cy(e))_y(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Lt(a,s)){var l=t.interleaved;l===null?(o.next=o,nf(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=iy(e,t,o,r),n!==null&&(o=He(),It(n,e,r,o),ky(n,t,r))}}function Cy(e){var t=e.alternate;return e===me||t!==null&&t===me}function _y(e,t){yi=Na=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ky(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ud(e,n)}}var Ia={readContext:kt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},W1={readContext:kt,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:sp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,aa(4194308,4,yy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return aa(4,2,e,t)},useMemo:function(e,t){var n=Ut();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ut();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=U1.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:ip,useDebugValue:ff,useDeferredValue:function(e){return Ut().memoizedState=e},useTransition:function(){var e=ip(!1),t=e[0];return e=B1.bind(null,e[1]),Ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=me,o=Ut();if(de){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Ae===null)throw Error($(349));Pr&30||uy(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,sp(fy.bind(null,r,i,e),[e]),r.flags|=2048,Hi(9,dy.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ut(),t=Ae.identifierPrefix;if(de){var n=an,r=sn;n=(r&~(1<<32-Nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=V1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},H1={readContext:kt,useCallback:xy,useContext:kt,useEffect:df,useImperativeHandle:wy,useInsertionEffect:gy,useLayoutEffect:vy,useMemo:Sy,useReducer:mc,useRef:my,useState:function(){return mc(Wi)},useDebugValue:ff,useDeferredValue:function(e){var t=Pt();return by(t,_e.memoizedState,e)},useTransition:function(){var e=mc(Wi)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:ly,useSyncExternalStore:cy,useId:Ey,unstable_isNewReconciler:!1},K1={readContext:kt,useCallback:xy,useContext:kt,useEffect:df,useImperativeHandle:wy,useInsertionEffect:gy,useLayoutEffect:vy,useMemo:Sy,useReducer:gc,useRef:my,useState:function(){return gc(Wi)},useDebugValue:ff,useDeferredValue:function(e){var t=Pt();return _e===null?t.memoizedState=e:by(t,_e.memoizedState,e)},useTransition:function(){var e=gc(Wi)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:ly,useSyncExternalStore:cy,useId:Ey,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ru(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fl={isMounted:function(e){return(e=e._reactInternals)?Nr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=He(),o=Wn(e),i=cn(r,o);i.payload=t,n!=null&&(i.callback=n),t=Un(e,i,o),t!==null&&(It(t,e,o,r),ia(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=He(),o=Wn(e),i=cn(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Un(e,i,o),t!==null&&(It(t,e,o,r),ia(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=He(),r=Wn(e),o=cn(n,r);o.tag=2,t!=null&&(o.callback=t),t=Un(e,o,r),t!==null&&(It(t,e,r,n),ia(t,e,r))}};function ap(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Di(n,r)||!Di(o,i):!0}function Py(e,t,n){var r=!1,o=Yn,i=t.contextType;return typeof i=="object"&&i!==null?i=kt(i):(o=Ze(t)?_r:Fe.current,r=t.contextTypes,i=(r=r!=null)?bo(e,o):Yn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function lp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fl.enqueueReplaceState(t,t.state,null)}function Au(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},rf(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=kt(i):(i=Ze(t)?_r:Fe.current,o.context=bo(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ru(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&fl.enqueueReplaceState(o,o.state,null),Oa(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ko(e,t){try{var n="",r=t;do n+=xb(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function vc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $u(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var G1=typeof WeakMap=="function"?WeakMap:Map;function Ty(e,t,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Da||(Da=!0,Bu=r),$u(e,t)},n}function Ry(e,t,n){n=cn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){$u(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$u(e,t),typeof r!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function cp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new G1;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=aE.bind(null,e,t,n),t.then(e,e))}function up(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dp(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cn(-1,1),t.tag=2,Un(n,t,1))),n.lanes|=1),e)}var q1=Sn.ReactCurrentOwner,Je=!1;function ze(e,t,n,r){t.child=e===null?oy(t,null,n,r):Co(t,e.child,n,r)}function fp(e,t,n,r,o){n=n.render;var i=t.ref;return go(t,o),r=cf(e,t,n,r,i,o),n=uf(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,mn(e,t,o)):(de&&n&&Xd(t),t.flags|=1,ze(e,t,r,o),t.child)}function hp(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!xf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ay(e,t,i,r,o)):(e=da(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Di,n(s,r)&&e.ref===t.ref)return mn(e,t,o)}return t.flags|=1,e=Hn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Ay(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Di(i,r)&&e.ref===t.ref)if(Je=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,mn(e,t,o)}return Ou(e,t,n,r,o)}function $y(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(so,st),st|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(so,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,se(so,st),st|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,se(so,st),st|=r;return ze(e,t,o,n),t.child}function Oy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ou(e,t,n,r,o){var i=Ze(n)?_r:Fe.current;return i=bo(t,i),go(t,o),n=cf(e,t,n,r,i,o),r=uf(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,mn(e,t,o)):(de&&r&&Xd(t),t.flags|=1,ze(e,t,n,o),t.child)}function pp(e,t,n,r,o){if(Ze(n)){var i=!0;Pa(t)}else i=!1;if(go(t,o),t.stateNode===null)la(e,t),Py(t,n,r),Au(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=kt(c):(c=Ze(n)?_r:Fe.current,c=bo(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lp(t,s,r,c),Rn=!1;var f=t.memoizedState;s.state=f,Oa(t,r,s,o),l=t.memoizedState,a!==r||f!==l||Qe.current||Rn?(typeof u=="function"&&(Ru(t,n,u,r),l=t.memoizedState),(a=Rn||ap(t,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,sy(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:At(t.type,a),s.props=c,d=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=kt(l):(l=Ze(n)?_r:Fe.current,l=bo(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&lp(t,s,r,l),Rn=!1,f=t.memoizedState,s.state=f,Oa(t,r,s,o);var w=t.memoizedState;a!==d||f!==w||Qe.current||Rn?(typeof p=="function"&&(Ru(t,n,p,r),w=t.memoizedState),(c=Rn||ap(t,n,c,r,f,w,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ju(e,t,n,r,i,o)}function ju(e,t,n,r,o,i){Oy(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Zh(t,n,!1),mn(e,t,i);r=t.stateNode,q1.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Co(t,e.child,null,i),t.child=Co(t,null,a,i)):ze(e,t,a,i),t.memoizedState=r.state,o&&Zh(t,n,!0),t.child}function jy(e){var t=e.stateNode;t.pendingContext?Qh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qh(e,t.context,!1),of(e,t.containerInfo)}function mp(e,t,n,r,o){return Eo(),Qd(o),t.flags|=256,ze(e,t,n,r),t.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Iu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ny(e,t,n){var r=t.pendingProps,o=fe.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),se(fe,o&1),e===null)return Pu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=ml(s,r,0,null),e=Er(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Iu(n),t.memoizedState=Nu,e):hf(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Y1(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Hn(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Hn(a,i):(i=Er(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Iu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Nu,r}return i=e.child,e=i.sibling,r=Hn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function hf(e,t){return t=ml({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $s(e,t,n,r){return r!==null&&Qd(r),Co(t,e.child,null,n),e=hf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Y1(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=vc(Error($(422))),$s(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=ml({mode:"visible",children:r.children},o,0,null),i=Er(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Co(t,e.child,null,s),t.child.memoizedState=Iu(s),t.memoizedState=Nu,i);if(!(t.mode&1))return $s(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=vc(i,r,void 0),$s(e,t,s,r)}if(a=(s&e.childLanes)!==0,Je||a){if(r=Ae,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,pn(e,o),It(r,e,o,-1))}return wf(),r=vc(Error($(421))),$s(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=lE.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,ct=Bn(o.nextSibling),ut=t,de=!0,jt=null,e!==null&&(St[bt++]=sn,St[bt++]=an,St[bt++]=kr,sn=e.id,an=e.overflow,kr=t),t=hf(t,r.children),t.flags|=4096,t)}function gp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Tu(e.return,t,n)}function yc(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Iy(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ze(e,t,r.children,n),r=fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gp(e,n,t);else if(e.tag===19)gp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(fe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ja(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),yc(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ja(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}yc(t,!0,n,null,i);break;case"together":yc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function la(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=Hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function X1(e,t,n){switch(t.tag){case 3:jy(t),Eo();break;case 5:ay(t);break;case 1:Ze(t.type)&&Pa(t);break;case 4:of(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;se(Aa,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?Ny(e,t,n):(se(fe,fe.current&1),e=mn(e,t,n),e!==null?e.sibling:null);se(fe,fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Iy(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),se(fe,fe.current),r)break;return null;case 22:case 23:return t.lanes=0,$y(e,t,n)}return mn(e,t,n)}var Ly,Lu,Dy,My;Ly=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lu=function(){};Dy=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,wr(Kt.current);var i=null;switch(n){case"input":o=ou(e,o),r=ou(e,r),i=[];break;case"select":o=ge({},o,{value:void 0}),r=ge({},r,{value:void 0}),i=[];break;case"textarea":o=au(e,o),r=au(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_a)}cu(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ai.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ai.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ce("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};My=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qo(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function J1(e,t,n){var r=t.pendingProps;switch(Jd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Ze(t.type)&&ka(),Le(t),null;case 3:return r=t.stateNode,_o(),ue(Qe),ue(Fe),af(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jt!==null&&(Wu(jt),jt=null))),Lu(e,t),Le(t),null;case 5:sf(t);var o=wr(Ui.current);if(n=t.type,e!==null&&t.stateNode!=null)Dy(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return Le(t),null}if(e=wr(Kt.current),Rs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[zt]=t,r[Vi]=i,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(o=0;o<ui.length;o++)ce(ui[o],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":_h(r,i),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ce("invalid",r);break;case"textarea":Ph(r,i),ce("invalid",r)}cu(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ts(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ts(r.textContent,a,e),o=["children",""+a]):Ai.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ce("scroll",r)}switch(n){case"input":xs(r),kh(r,i,!0);break;case"textarea":xs(r),Th(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_a)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[zt]=t,e[Vi]=r,Ly(e,t,!1,!1),t.stateNode=e;e:{switch(s=uu(n,r),n){case"dialog":ce("cancel",e),ce("close",e),o=r;break;case"iframe":case"object":case"embed":ce("load",e),o=r;break;case"video":case"audio":for(o=0;o<ui.length;o++)ce(ui[o],e);o=r;break;case"source":ce("error",e),o=r;break;case"img":case"image":case"link":ce("error",e),ce("load",e),o=r;break;case"details":ce("toggle",e),o=r;break;case"input":_h(e,r),o=ou(e,r),ce("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ge({},r,{value:void 0}),ce("invalid",e);break;case"textarea":Ph(e,r),o=au(e,r),ce("invalid",e);break;default:o=r}cu(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?mv(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hv(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$i(e,l):typeof l=="number"&&$i(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ai.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ce("scroll",e):l!=null&&Ld(e,i,l,s))}switch(n){case"input":xs(e),kh(e,r,!1);break;case"textarea":xs(e),Th(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?fo(e,!!r.multiple,i,!1):r.defaultValue!=null&&fo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=_a)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)My(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=wr(Ui.current),wr(Kt.current),Rs(t)){if(r=t.stateNode,n=t.memoizedProps,r[zt]=t,(i=r.nodeValue!==n)&&(e=ut,e!==null))switch(e.tag){case 3:Ts(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ts(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=t,t.stateNode=r}return Le(t),null;case 13:if(ue(fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&ct!==null&&t.mode&1&&!(t.flags&128))ny(),Eo(),t.flags|=98560,i=!1;else if(i=Rs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[zt]=t}else Eo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else jt!==null&&(Wu(jt),jt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?ke===0&&(ke=3):wf())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return _o(),Lu(e,t),e===null&&Mi(t.stateNode.containerInfo),Le(t),null;case 10:return tf(t.type._context),Le(t),null;case 17:return Ze(t.type)&&ka(),Le(t),null;case 19:if(ue(fe),i=t.memoizedState,i===null)return Le(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Qo(i,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ja(e),s!==null){for(t.flags|=128,Qo(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(fe,fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&be()>Po&&(t.flags|=128,r=!0,Qo(i,!1),t.lanes=4194304)}else{if(!r)if(e=ja(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!de)return Le(t),null}else 2*be()-i.renderingStartTime>Po&&n!==1073741824&&(t.flags|=128,r=!0,Qo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=be(),t.sibling=null,n=fe.current,se(fe,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return yf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?st&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Q1(e,t){switch(Jd(t),t.tag){case 1:return Ze(t.type)&&ka(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _o(),ue(Qe),ue(Fe),af(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sf(t),null;case 13:if(ue(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Eo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(fe),null;case 4:return _o(),null;case 10:return tf(t.type._context),null;case 22:case 23:return yf(),null;case 24:return null;default:return null}}var Os=!1,Me=!1,Z1=typeof WeakSet=="function"?WeakSet:Set,D=null;function io(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(e,t,r)}else n.current=null}function Du(e,t,n){try{n()}catch(r){we(e,t,r)}}var vp=!1;function eE(e,t){if(xu=ba,e=zv(),Yd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var p;d!==n||o!==0&&d.nodeType!==3||(a=s+o),d!==i||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===o&&(a=s),f===i&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Su={focusedElem:e,selectionRange:n},ba=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,x=w.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:At(t.type,g),x);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(b){we(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return w=vp,vp=!1,w}function wi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Du(t,n,i)}o=o.next}while(o!==r)}}function hl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Mu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fy(e){var t=e.alternate;t!==null&&(e.alternate=null,Fy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[Vi],delete t[Cu],delete t[L1],delete t[D1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vy(e){return e.tag===5||e.tag===3||e.tag===4}function yp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_a));else if(r!==4&&(e=e.child,e!==null))for(Fu(e,t,n),e=e.sibling;e!==null;)Fu(e,t,n),e=e.sibling}function Vu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vu(e,t,n),e=e.sibling;e!==null;)Vu(e,t,n),e=e.sibling}var $e=null,$t=!1;function bn(e,t,n){for(n=n.child;n!==null;)By(e,t,n),n=n.sibling}function By(e,t,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(il,n)}catch{}switch(n.tag){case 5:Me||io(n,t);case 6:var r=$e,o=$t;$e=null,bn(e,t,n),$e=r,$t=o,$e!==null&&($t?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&($t?(e=$e,n=n.stateNode,e.nodeType===8?dc(e.parentNode,n):e.nodeType===1&&dc(e,n),Ii(e)):dc($e,n.stateNode));break;case 4:r=$e,o=$t,$e=n.stateNode.containerInfo,$t=!0,bn(e,t,n),$e=r,$t=o;break;case 0:case 11:case 14:case 15:if(!Me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Du(n,t,s),o=o.next}while(o!==r)}bn(e,t,n);break;case 1:if(!Me&&(io(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){we(n,t,a)}bn(e,t,n);break;case 21:bn(e,t,n);break;case 22:n.mode&1?(Me=(r=Me)||n.memoizedState!==null,bn(e,t,n),Me=r):bn(e,t,n);break;default:bn(e,t,n)}}function wp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Z1),t.forEach(function(r){var o=cE.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:$e=a.stateNode,$t=!1;break e;case 3:$e=a.stateNode.containerInfo,$t=!0;break e;case 4:$e=a.stateNode.containerInfo,$t=!0;break e}a=a.return}if($e===null)throw Error($(160));By(i,s,o),$e=null,$t=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){we(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uy(t,e),t=t.sibling}function Uy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Vt(e),r&4){try{wi(3,e,e.return),hl(3,e)}catch(g){we(e,e.return,g)}try{wi(5,e,e.return)}catch(g){we(e,e.return,g)}}break;case 1:Tt(t,e),Vt(e),r&512&&n!==null&&io(n,n.return);break;case 5:if(Tt(t,e),Vt(e),r&512&&n!==null&&io(n,n.return),e.flags&32){var o=e.stateNode;try{$i(o,"")}catch(g){we(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&uv(o,i),uu(a,s);var c=uu(a,i);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?mv(o,d):u==="dangerouslySetInnerHTML"?hv(o,d):u==="children"?$i(o,d):Ld(o,u,d,c)}switch(a){case"input":iu(o,i);break;case"textarea":dv(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?fo(o,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?fo(o,!!i.multiple,i.defaultValue,!0):fo(o,!!i.multiple,i.multiple?[]:"",!1))}o[Vi]=i}catch(g){we(e,e.return,g)}}break;case 6:if(Tt(t,e),Vt(e),r&4){if(e.stateNode===null)throw Error($(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){we(e,e.return,g)}}break;case 3:if(Tt(t,e),Vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ii(t.containerInfo)}catch(g){we(e,e.return,g)}break;case 4:Tt(t,e),Vt(e);break;case 13:Tt(t,e),Vt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(gf=be())),r&4&&wp(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(c=Me)||u,Tt(t,e),Me=c):Tt(t,e),Vt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(D=e,u=e.child;u!==null;){for(d=D=u;D!==null;){switch(f=D,p=f.child,f.tag){case 0:case 11:case 14:case 15:wi(4,f,f.return);break;case 1:io(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){we(r,n,g)}}break;case 5:io(f,f.return);break;case 22:if(f.memoizedState!==null){Sp(d);continue}}p!==null?(p.return=f,D=p):Sp(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pv("display",s))}catch(g){we(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){we(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Tt(t,e),Vt(e),r&4&&wp(e);break;case 21:break;default:Tt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vy(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&($i(o,""),r.flags&=-33);var i=yp(e);Vu(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=yp(e);Fu(e,a,s);break;default:throw Error($(161))}}catch(l){we(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tE(e,t,n){D=e,zy(e)}function zy(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var o=D,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Os;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Me;a=Os;var c=Me;if(Os=s,(Me=l)&&!c)for(D=o;D!==null;)s=D,l=s.child,s.tag===22&&s.memoizedState!==null?bp(o):l!==null?(l.return=s,D=l):bp(o);for(;i!==null;)D=i,zy(i),i=i.sibling;D=o,Os=a,Me=c}xp(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,D=i):xp(e)}}function xp(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||hl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Me)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:At(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&op(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}op(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ii(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Me||t.flags&512&&Mu(t)}catch(f){we(t,t.return,f)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Sp(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function bp(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hl(4,t)}catch(l){we(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){we(t,o,l)}}var i=t.return;try{Mu(t)}catch(l){we(t,i,l)}break;case 5:var s=t.return;try{Mu(t)}catch(l){we(t,s,l)}}}catch(l){we(t,t.return,l)}if(t===e){D=null;break}var a=t.sibling;if(a!==null){a.return=t.return,D=a;break}D=t.return}}var nE=Math.ceil,La=Sn.ReactCurrentDispatcher,pf=Sn.ReactCurrentOwner,Ct=Sn.ReactCurrentBatchConfig,J=0,Ae=null,Ce=null,Oe=0,st=0,so=nr(0),ke=0,Ki=null,Tr=0,pl=0,mf=0,xi=null,Ye=null,gf=0,Po=1/0,tn=null,Da=!1,Bu=null,zn=null,js=!1,Ln=null,Ma=0,Si=0,Uu=null,ca=-1,ua=0;function He(){return J&6?be():ca!==-1?ca:ca=be()}function Wn(e){return e.mode&1?J&2&&Oe!==0?Oe&-Oe:F1.transition!==null?(ua===0&&(ua=Pv()),ua):(e=ee,e!==0||(e=window.event,e=e===void 0?16:Nv(e.type)),e):1}function It(e,t,n,r){if(50<Si)throw Si=0,Uu=null,Error($(185));os(e,n,r),(!(J&2)||e!==Ae)&&(e===Ae&&(!(J&2)&&(pl|=n),ke===4&&jn(e,Oe)),et(e,r),n===1&&J===0&&!(t.mode&1)&&(Po=be()+500,ul&&rr()))}function et(e,t){var n=e.callbackNode;Fb(e,t);var r=Sa(e,e===Ae?Oe:0);if(r===0)n!==null&&$h(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$h(n),t===1)e.tag===0?M1(Ep.bind(null,e)):Zv(Ep.bind(null,e)),N1(function(){!(J&6)&&rr()}),n=null;else{switch(Tv(r)){case 1:n=Bd;break;case 4:n=_v;break;case 16:n=xa;break;case 536870912:n=kv;break;default:n=xa}n=Jy(n,Wy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Wy(e,t){if(ca=-1,ua=0,J&6)throw Error($(327));var n=e.callbackNode;if(vo()&&e.callbackNode!==n)return null;var r=Sa(e,e===Ae?Oe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fa(e,r);else{t=r;var o=J;J|=2;var i=Ky();(Ae!==e||Oe!==t)&&(tn=null,Po=be()+500,br(e,t));do try{iE();break}catch(a){Hy(e,a)}while(1);ef(),La.current=i,J=o,Ce!==null?t=0:(Ae=null,Oe=0,t=ke)}if(t!==0){if(t===2&&(o=mu(e),o!==0&&(r=o,t=zu(e,o))),t===1)throw n=Ki,br(e,0),jn(e,r),et(e,be()),n;if(t===6)jn(e,r);else{if(o=e.current.alternate,!(r&30)&&!rE(o)&&(t=Fa(e,r),t===2&&(i=mu(e),i!==0&&(r=i,t=zu(e,i))),t===1))throw n=Ki,br(e,0),jn(e,r),et(e,be()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:dr(e,Ye,tn);break;case 3:if(jn(e,r),(r&130023424)===r&&(t=gf+500-be(),10<t)){if(Sa(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){He(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Eu(dr.bind(null,e,Ye,tn),t);break}dr(e,Ye,tn);break;case 4:if(jn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Nt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nE(r/1960))-r,10<r){e.timeoutHandle=Eu(dr.bind(null,e,Ye,tn),r);break}dr(e,Ye,tn);break;case 5:dr(e,Ye,tn);break;default:throw Error($(329))}}}return et(e,be()),e.callbackNode===n?Wy.bind(null,e):null}function zu(e,t){var n=xi;return e.current.memoizedState.isDehydrated&&(br(e,t).flags|=256),e=Fa(e,t),e!==2&&(t=Ye,Ye=n,t!==null&&Wu(t)),e}function Wu(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function rE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Lt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t){for(t&=~mf,t&=~pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),r=1<<n;e[n]=-1,t&=~r}}function Ep(e){if(J&6)throw Error($(327));vo();var t=Sa(e,0);if(!(t&1))return et(e,be()),null;var n=Fa(e,t);if(e.tag!==0&&n===2){var r=mu(e);r!==0&&(t=r,n=zu(e,r))}if(n===1)throw n=Ki,br(e,0),jn(e,t),et(e,be()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dr(e,Ye,tn),et(e,be()),null}function vf(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(Po=be()+500,ul&&rr())}}function Rr(e){Ln!==null&&Ln.tag===0&&!(J&6)&&vo();var t=J;J|=1;var n=Ct.transition,r=ee;try{if(Ct.transition=null,ee=1,e)return e()}finally{ee=r,Ct.transition=n,J=t,!(J&6)&&rr()}}function yf(){st=so.current,ue(so)}function br(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,j1(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(Jd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ka();break;case 3:_o(),ue(Qe),ue(Fe),af();break;case 5:sf(r);break;case 4:_o();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:tf(r.type._context);break;case 22:case 23:yf()}n=n.return}if(Ae=e,Ce=e=Hn(e.current,null),Oe=st=t,ke=0,Ki=null,mf=pl=Tr=0,Ye=xi=null,yr!==null){for(t=0;t<yr.length;t++)if(n=yr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}yr=null}return e}function Hy(e,t){do{var n=Ce;try{if(ef(),sa.current=Ia,Na){for(var r=me.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Na=!1}if(Pr=0,Re=_e=me=null,yi=!1,zi=0,pf.current=null,n===null||n.return===null){ke=1,Ki=t,Ce=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=Oe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=up(s);if(p!==null){p.flags&=-257,dp(p,s,a,i,t),p.mode&1&&cp(i,c,t),t=p,l=c;var w=t.updateQueue;if(w===null){var g=new Set;g.add(l),t.updateQueue=g}else w.add(l);break e}else{if(!(t&1)){cp(i,c,t),wf();break e}l=Error($(426))}}else if(de&&a.mode&1){var x=up(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dp(x,s,a,i,t),Qd(ko(l,a));break e}}i=l=ko(l,a),ke!==4&&(ke=2),xi===null?xi=[i]:xi.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Ty(i,l,t);rp(i,v);break e;case 1:a=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(zn===null||!zn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Ry(i,a,t);rp(i,b);break e}}i=i.return}while(i!==null)}qy(n)}catch(E){t=E,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(1)}function Ky(){var e=La.current;return La.current=Ia,e===null?Ia:e}function wf(){(ke===0||ke===3||ke===2)&&(ke=4),Ae===null||!(Tr&268435455)&&!(pl&268435455)||jn(Ae,Oe)}function Fa(e,t){var n=J;J|=2;var r=Ky();(Ae!==e||Oe!==t)&&(tn=null,br(e,t));do try{oE();break}catch(o){Hy(e,o)}while(1);if(ef(),J=n,La.current=r,Ce!==null)throw Error($(261));return Ae=null,Oe=0,ke}function oE(){for(;Ce!==null;)Gy(Ce)}function iE(){for(;Ce!==null&&!Ab();)Gy(Ce)}function Gy(e){var t=Xy(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?qy(e):Ce=t,pf.current=null}function qy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Q1(n,t),n!==null){n.flags&=32767,Ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,Ce=null;return}}else if(n=J1(n,t,st),n!==null){Ce=n;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);ke===0&&(ke=5)}function dr(e,t,n){var r=ee,o=Ct.transition;try{Ct.transition=null,ee=1,sE(e,t,n,r)}finally{Ct.transition=o,ee=r}return null}function sE(e,t,n,r){do vo();while(Ln!==null);if(J&6)throw Error($(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Vb(e,i),e===Ae&&(Ce=Ae=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||js||(js=!0,Jy(xa,function(){return vo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ct.transition,Ct.transition=null;var s=ee;ee=1;var a=J;J|=4,pf.current=null,eE(e,n),Uy(n,e),k1(Su),ba=!!xu,Su=xu=null,e.current=n,tE(n),$b(),J=a,ee=s,Ct.transition=i}else e.current=n;if(js&&(js=!1,Ln=e,Ma=o),i=e.pendingLanes,i===0&&(zn=null),Nb(n.stateNode),et(e,be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Da)throw Da=!1,e=Bu,Bu=null,e;return Ma&1&&e.tag!==0&&vo(),i=e.pendingLanes,i&1?e===Uu?Si++:(Si=0,Uu=e):Si=0,rr(),null}function vo(){if(Ln!==null){var e=Tv(Ma),t=Ct.transition,n=ee;try{if(Ct.transition=null,ee=16>e?16:e,Ln===null)var r=!1;else{if(e=Ln,Ln=null,Ma=0,J&6)throw Error($(331));var o=J;for(J|=4,D=e.current;D!==null;){var i=D,s=i.child;if(D.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(D=c;D!==null;){var u=D;switch(u.tag){case 0:case 11:case 15:wi(8,u,i)}var d=u.child;if(d!==null)d.return=u,D=d;else for(;D!==null;){u=D;var f=u.sibling,p=u.return;if(Fy(u),u===c){D=null;break}if(f!==null){f.return=p,D=f;break}D=p}}}var w=i.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}D=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,D=s;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wi(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,D=v;break e}D=i.return}}var m=e.current;for(D=m;D!==null;){s=D;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,D=y;else e:for(s=m;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hl(9,a)}}catch(E){we(a,a.return,E)}if(a===s){D=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,D=b;break e}D=a.return}}if(J=o,rr(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(il,e)}catch{}r=!0}return r}finally{ee=n,Ct.transition=t}}return!1}function Cp(e,t,n){t=ko(n,t),t=Ty(e,t,1),e=Un(e,t,1),t=He(),e!==null&&(os(e,1,t),et(e,t))}function we(e,t,n){if(e.tag===3)Cp(e,e,n);else for(;t!==null;){if(t.tag===3){Cp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zn===null||!zn.has(r))){e=ko(n,e),e=Ry(t,e,1),t=Un(t,e,1),e=He(),t!==null&&(os(t,1,e),et(t,e));break}}t=t.return}}function aE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(Oe&n)===n&&(ke===4||ke===3&&(Oe&130023424)===Oe&&500>be()-gf?br(e,0):mf|=n),et(e,t)}function Yy(e,t){t===0&&(e.mode&1?(t=Es,Es<<=1,!(Es&130023424)&&(Es=4194304)):t=1);var n=He();e=pn(e,t),e!==null&&(os(e,t,n),et(e,n))}function lE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Yy(e,n)}function cE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),Yy(e,n)}var Xy;Xy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Je=!1,X1(e,t,n);Je=!!(e.flags&131072)}else Je=!1,de&&t.flags&1048576&&ey(t,Ra,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;la(e,t),e=t.pendingProps;var o=bo(t,Fe.current);go(t,n),o=cf(null,t,r,e,o,n);var i=uf();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(r)?(i=!0,Pa(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,rf(t),o.updater=fl,t.stateNode=o,o._reactInternals=t,Au(t,r,e,n),t=ju(null,t,r,!0,i,n)):(t.tag=0,de&&i&&Xd(t),ze(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(la(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=dE(r),e=At(r,e),o){case 0:t=Ou(null,t,r,e,n);break e;case 1:t=pp(null,t,r,e,n);break e;case 11:t=fp(null,t,r,e,n);break e;case 14:t=hp(null,t,r,At(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:At(r,o),Ou(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:At(r,o),pp(e,t,r,o,n);case 3:e:{if(jy(t),e===null)throw Error($(387));r=t.pendingProps,i=t.memoizedState,o=i.element,sy(e,t),Oa(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=ko(Error($(423)),t),t=mp(e,t,r,n,o);break e}else if(r!==o){o=ko(Error($(424)),t),t=mp(e,t,r,n,o);break e}else for(ct=Bn(t.stateNode.containerInfo.firstChild),ut=t,de=!0,jt=null,n=oy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),r===o){t=mn(e,t,n);break e}ze(e,t,r,n)}t=t.child}return t;case 5:return ay(t),e===null&&Pu(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,bu(r,o)?s=null:i!==null&&bu(r,i)&&(t.flags|=32),Oy(e,t),ze(e,t,s,n),t.child;case 6:return e===null&&Pu(t),null;case 13:return Ny(e,t,n);case 4:return of(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Co(t,null,r,n):ze(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:At(r,o),fp(e,t,r,o,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,se(Aa,r._currentValue),r._currentValue=s,i!==null)if(Lt(i.value,s)){if(i.children===o.children&&!Qe.current){t=mn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=cn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tu(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error($(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Tu(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ze(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,go(t,n),o=kt(o),r=r(o),t.flags|=1,ze(e,t,r,n),t.child;case 14:return r=t.type,o=At(r,t.pendingProps),o=At(r.type,o),hp(e,t,r,o,n);case 15:return Ay(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:At(r,o),la(e,t),t.tag=1,Ze(r)?(e=!0,Pa(t)):e=!1,go(t,n),Py(t,r,o),Au(t,r,o,n),ju(null,t,r,!0,e,n);case 19:return Iy(e,t,n);case 22:return $y(e,t,n)}throw Error($(156,t.tag))};function Jy(e,t){return Cv(e,t)}function uE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,n,r){return new uE(e,t,n,r)}function xf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dE(e){if(typeof e=="function")return xf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Md)return 11;if(e===Fd)return 14}return 2}function Hn(e,t){var n=e.alternate;return n===null?(n=Et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function da(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")xf(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Xr:return Er(n.children,o,i,t);case Dd:s=8,o|=8;break;case eu:return e=Et(12,n,t,o|2),e.elementType=eu,e.lanes=i,e;case tu:return e=Et(13,n,t,o),e.elementType=tu,e.lanes=i,e;case nu:return e=Et(19,n,t,o),e.elementType=nu,e.lanes=i,e;case av:return ml(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iv:s=10;break e;case sv:s=9;break e;case Md:s=11;break e;case Fd:s=14;break e;case Tn:s=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Et(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Er(e,t,n,r){return e=Et(7,e,r,t),e.lanes=n,e}function ml(e,t,n,r){return e=Et(22,e,r,t),e.elementType=av,e.lanes=n,e.stateNode={isHidden:!1},e}function wc(e,t,n){return e=Et(6,e,null,t),e.lanes=n,e}function xc(e,t,n){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fE(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Sf(e,t,n,r,o,i,s,a,l){return e=new fE(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Et(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(i),e}function hE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Qy(e){if(!e)return Yn;e=e._reactInternals;e:{if(Nr(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Ze(n))return Qv(e,n,t)}return t}function Zy(e,t,n,r,o,i,s,a,l){return e=Sf(n,r,!0,e,o,i,s,a,l),e.context=Qy(null),n=e.current,r=He(),o=Wn(n),i=cn(r,o),i.callback=t??null,Un(n,i,o),e.current.lanes=o,os(e,o,r),et(e,r),e}function gl(e,t,n,r){var o=t.current,i=He(),s=Wn(o);return n=Qy(n),t.context===null?t.context=n:t.pendingContext=n,t=cn(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Un(o,t,s),e!==null&&(It(e,o,s,i),ia(e,o,s)),s}function Va(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _p(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bf(e,t){_p(e,t),(e=e.alternate)&&_p(e,t)}function pE(){return null}var e0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ef(e){this._internalRoot=e}vl.prototype.render=Ef.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));gl(e,t,null,null)};vl.prototype.unmount=Ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){gl(null,e,null,null)}),t[hn]=null}};function vl(e){this._internalRoot=e}vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=$v();e={blockedOn:null,target:e,priority:t};for(var n=0;n<On.length&&t!==0&&t<On[n].priority;n++);On.splice(n,0,e),n===0&&jv(e)}};function Cf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kp(){}function mE(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=Va(s);i.call(c)}}var s=Zy(t,r,e,0,null,!1,!1,"",kp);return e._reactRootContainer=s,e[hn]=s.current,Mi(e.nodeType===8?e.parentNode:e),Rr(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=Va(l);a.call(c)}}var l=Sf(e,0,!1,null,null,!1,!1,"",kp);return e._reactRootContainer=l,e[hn]=l.current,Mi(e.nodeType===8?e.parentNode:e),Rr(function(){gl(t,l,n,r)}),l}function wl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=Va(s);a.call(l)}}gl(t,s,e,o)}else s=mE(n,t,e,o,r);return Va(s)}Rv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ci(t.pendingLanes);n!==0&&(Ud(t,n|1),et(t,be()),!(J&6)&&(Po=be()+500,rr()))}break;case 13:Rr(function(){var r=pn(e,1);if(r!==null){var o=He();It(r,e,1,o)}}),bf(e,1)}};zd=function(e){if(e.tag===13){var t=pn(e,134217728);if(t!==null){var n=He();It(t,e,134217728,n)}bf(e,134217728)}};Av=function(e){if(e.tag===13){var t=Wn(e),n=pn(e,t);if(n!==null){var r=He();It(n,e,t,r)}bf(e,t)}};$v=function(){return ee};Ov=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};fu=function(e,t,n){switch(t){case"input":if(iu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=cl(r);if(!o)throw Error($(90));cv(r),iu(r,o)}}}break;case"textarea":dv(e,n);break;case"select":t=n.value,t!=null&&fo(e,!!n.multiple,t,!1)}};yv=vf;wv=Rr;var gE={usingClientEntryPoint:!1,Events:[ss,eo,cl,gv,vv,vf]},Zo={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vE={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bv(e),e===null?null:e.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||pE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ns.isDisabled&&Ns.supportsFiber)try{il=Ns.inject(vE),Ht=Ns}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gE;gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cf(t))throw Error($(200));return hE(e,t,null,n)};gt.createRoot=function(e,t){if(!Cf(e))throw Error($(299));var n=!1,r="",o=e0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Sf(e,1,!1,null,null,n,!1,r,o),e[hn]=t.current,Mi(e.nodeType===8?e.parentNode:e),new Ef(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=bv(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return Rr(e)};gt.hydrate=function(e,t,n){if(!yl(t))throw Error($(200));return wl(null,e,t,!0,n)};gt.hydrateRoot=function(e,t,n){if(!Cf(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=e0;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Zy(t,null,e,1,n??null,o,!1,i,s),e[hn]=t.current,Mi(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new vl(t)};gt.render=function(e,t,n){if(!yl(t))throw Error($(200));return wl(null,e,t,!1,n)};gt.unmountComponentAtNode=function(e){if(!yl(e))throw Error($(40));return e._reactRootContainer?(Rr(function(){wl(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};gt.unstable_batchedUpdates=vf;gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yl(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return wl(e,t,n,!1,r)};gt.version="18.3.1-next-f1338f8080-20240426";function t0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t0)}catch(e){console.error(e)}}t0(),tv.exports=gt;var or=tv.exports;const n0=zg(or);var Pp=or;Qc.createRoot=Pp.createRoot,Qc.hydrateRoot=Pp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gi.apply(this,arguments)}var Dn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dn||(Dn={}));const Tp="popstate";function yE(e){e===void 0&&(e={});function t(r,o){let{pathname:i,search:s,hash:a}=r.location;return Hu("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:o0(o)}return xE(t,n,null,e)}function Pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function r0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wE(){return Math.random().toString(36).substr(2,8)}function Rp(e,t){return{usr:e.state,key:e.key,idx:t}}function Hu(e,t,n,r){return n===void 0&&(n=null),Gi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mo(t):t,{state:n,key:t&&t.key||r||wE()})}function o0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Mo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xE(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=Dn.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Gi({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Dn.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:a,location:g.location,delta:v})}function f(x,v){a=Dn.Push;let m=Hu(g.location,x,v);n&&n(m,x),c=u()+1;let y=Rp(m,c),b=g.createHref(m);try{s.pushState(y,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(b)}i&&l&&l({action:a,location:g.location,delta:1})}function p(x,v){a=Dn.Replace;let m=Hu(g.location,x,v);n&&n(m,x),c=u();let y=Rp(m,c),b=g.createHref(m);s.replaceState(y,"",b),i&&l&&l({action:a,location:g.location,delta:0})}function w(x){let v=o.location.origin!=="null"?o.location.origin:o.location.href,m=typeof x=="string"?x:o0(x);return m=m.replace(/ $/,"%20"),Pe(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let g={get action(){return a},get location(){return e(o,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Tp,d),l=x,()=>{o.removeEventListener(Tp,d),l=null}},createHref(x){return t(o,x)},createURL:w,encodeLocation(x){let v=w(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(x){return s.go(x)}};return g}var Ap;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ap||(Ap={}));function SE(e,t,n){return n===void 0&&(n="/"),bE(e,t,n,!1)}function bE(e,t,n,r){let o=typeof t=="string"?Mo(t):t,i=a0(o.pathname||"/",n);if(i==null)return null;let s=i0(e);EE(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=NE(i);a=OE(s[l],c,r)}return a}function i0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Pe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Cr([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Pe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),i0(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:AE(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of s0(i.path))o(i,s,l)}),t}function s0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=s0(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function EE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$E(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const CE=/^:[\w-]+$/,_E=3,kE=2,PE=1,TE=10,RE=-2,$p=e=>e==="*";function AE(e,t){let n=e.split("/"),r=n.length;return n.some($p)&&(r+=RE),t&&(r+=kE),n.filter(o=>!$p(o)).reduce((o,i)=>o+(CE.test(i)?_E:i===""?PE:TE),r)}function $E(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function OE(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,o={},i="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=Op({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Op({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(o,d.params),s.push({params:o,pathname:Cr([i,d.pathname]),pathnameBase:VE(Cr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Cr([i,d.pathnameBase]))}return s}function Op(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=jE(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let g=a[d]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const w=a[d];return p&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function jE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),r0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function NE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return r0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function a0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function IE(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Mo(e):e;return{pathname:n?n.startsWith("/")?n:LE(n,t):t,search:BE(r),hash:UE(o)}}function LE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ME(e,t){let n=DE(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function FE(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=Mo(e):(o=Gi({},e),Pe(!o.pathname||!o.pathname.includes("?"),Sc("?","pathname","search",o)),Pe(!o.pathname||!o.pathname.includes("#"),Sc("#","pathname","hash",o)),Pe(!o.search||!o.search.includes("#"),Sc("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;o.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=IE(o,a),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Cr=e=>e.join("/").replace(/\/\/+/g,"/"),VE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const l0=["post","put","patch","delete"];new Set(l0);const WE=["get",...l0];new Set(WE);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qi.apply(this,arguments)}const _f=h.createContext(null),HE=h.createContext(null),xl=h.createContext(null),Sl=h.createContext(null),Fo=h.createContext({outlet:null,matches:[],isDataRoute:!1}),c0=h.createContext(null);function bl(){return h.useContext(Sl)!=null}function u0(){return bl()||Pe(!1),h.useContext(Sl).location}function d0(e){h.useContext(xl).static||h.useLayoutEffect(e)}function Ft(){let{isDataRoute:e}=h.useContext(Fo);return e?oC():KE()}function KE(){bl()||Pe(!1);let e=h.useContext(_f),{basename:t,future:n,navigator:r}=h.useContext(xl),{matches:o}=h.useContext(Fo),{pathname:i}=u0(),s=JSON.stringify(ME(o,n.v7_relativeSplatPath)),a=h.useRef(!1);return d0(()=>{a.current=!0}),h.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=FE(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Cr([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,i,e])}function GE(e,t){return qE(e,t)}function qE(e,t,n,r){bl()||Pe(!1);let{navigator:o,static:i}=h.useContext(xl),{matches:s}=h.useContext(Fo),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=u0(),d;if(t){var f;let v=typeof t=="string"?Mo(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Pe(!1),d=v}else d=u;let p=d.pathname||"/",w=p;if(c!=="/"){let v=c.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=!i&&n&&n.matches&&n.matches.length>0?n.matches:SE(e,{pathname:w}),x=ZE(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Cr([c,o.encodeLocation?o.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Cr([c,o.encodeLocation?o.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return t&&x?h.createElement(Sl.Provider,{value:{location:qi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Dn.Pop}},x):x}function YE(){let e=rC(),t=zE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:o},n):null,i)}const XE=h.createElement(YE,null);class JE extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(Fo.Provider,{value:this.props.routeContext},h.createElement(c0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QE(e){let{routeContext:t,match:n,children:r}=e,o=h.useContext(_f);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Fo.Provider,{value:t},r)}function ZE(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=(o=n)==null?void 0:o.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Pe(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,w=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let p,w=!1,g=null,x=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||XE,l&&(c<0&&f===0?(iC("route-fallback",!1),w=!0,x=null):c===f&&(w=!0,x=d.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,f+1)),m=()=>{let y;return p?y=g:w?y=x:d.route.Component?y=h.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=u,h.createElement(QE,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?h.createElement(JE,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var f0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(f0||{}),Ba=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ba||{});function eC(e){let t=h.useContext(_f);return t||Pe(!1),t}function tC(e){let t=h.useContext(HE);return t||Pe(!1),t}function nC(e){let t=h.useContext(Fo);return t||Pe(!1),t}function h0(e){let t=nC(),n=t.matches[t.matches.length-1];return n.route.id||Pe(!1),n.route.id}function rC(){var e;let t=h.useContext(c0),n=tC(Ba.UseRouteError),r=h0(Ba.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function oC(){let{router:e}=eC(f0.UseNavigateStable),t=h0(Ba.UseNavigateStable),n=h.useRef(!1);return d0(()=>{n.current=!0}),h.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,qi({fromRouteId:t},i)))},[e,t])}const jp={};function iC(e,t,n){!t&&!jp[e]&&(jp[e]=!0)}function sC(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function wt(e){Pe(!1)}function aC(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Dn.Pop,navigator:i,static:s=!1,future:a}=e;bl()&&Pe(!1);let l=t.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:l,navigator:i,static:s,future:qi({v7_relativeSplatPath:!1},a)}),[l,a,i,s]);typeof r=="string"&&(r=Mo(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:w="default"}=r,g=h.useMemo(()=>{let x=a0(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:p,key:w},navigationType:o}},[l,u,d,f,p,w,o]);return g==null?null:h.createElement(xl.Provider,{value:c},h.createElement(Sl.Provider,{children:n,value:g}))}function lC(e){let{children:t,location:n}=e;return GE(Ku(t),n)}new Promise(()=>{});function Ku(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,o)=>{if(!h.isValidElement(r))return;let i=[...t,o];if(r.type===h.Fragment){n.push.apply(n,Ku(r.props.children,i));return}r.type!==wt&&Pe(!1),!r.props.index||!r.props.children||Pe(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ku(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const cC="6";try{window.__reactRouterVersion=cC}catch{}const uC="startTransition",Np=jd[uC];function dC(e){let{basename:t,children:n,future:r,window:o}=e,i=h.useRef();i.current==null&&(i.current=yE({window:o,v5Compat:!0}));let s=i.current,[a,l]=h.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=h.useCallback(d=>{c&&Np?Np(()=>l(d)):l(d)},[l,c]);return h.useLayoutEffect(()=>s.listen(u),[s,u]),h.useEffect(()=>sC(r),[r]),h.createElement(aC,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Ip;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ip||(Ip={}));var Lp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lp||(Lp={}));const fC="modulepreload",hC=function(e,t){return new URL(e,t).href},Dp={},To=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=hC(i,r),i in Dp)return;Dp[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let u=o.length-1;u>=0;u--){const d=o[u];if(d.href===i&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":fC,s||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),s)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},pC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>To(()=>Promise.resolve().then(()=>Vo),void 0,import.meta.url).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class kf extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class mC extends kf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gC extends kf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vC extends kf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gu||(Gu={}));var yC=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class wC{constructor(t,{headers:n={},customFetch:r,region:o=Gu.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=pC(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return yC(this,void 0,void 0,function*(){try{const{headers:o,method:i,body:s}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:c}).catch(w=>{throw new mC(w)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new gC(u);if(!u.ok)throw new vC(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(o){return{data:null,error:o}}})}}var Xe={},Pf={},El={},ls={},Cl={},_l={},xC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ro=xC();const SC=Ro.fetch,p0=Ro.fetch.bind(Ro),m0=Ro.Headers,bC=Ro.Request,EC=Ro.Response,Vo=Object.freeze(Object.defineProperty({__proto__:null,Headers:m0,Request:bC,Response:EC,default:p0,fetch:SC},Symbol.toStringTag,{value:"Module"})),CC=KS(Vo);var kl={};Object.defineProperty(kl,"__esModule",{value:!0});let _C=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};kl.default=_C;var g0=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_l,"__esModule",{value:!0});const kC=g0(CC),PC=g0(kl);let TC=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=kC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,a,l;let c=null,u=null,d=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{c=JSON.parse(g),Array.isArray(c)&&i.status===404&&(u=[],c=null,f=200,p="OK")}catch{i.status===404&&g===""?(f=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new PC.default(c)}return{error:c,data:u,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,l;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};_l.default=TC;var RC=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cl,"__esModule",{value:!0});const AC=RC(_l);let $C=class extends AC.default{select(t){let n=!1;const r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){const i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Cl.default=$C;var OC=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ls,"__esModule",{value:!0});const jC=OC(Cl);let NC=class extends jC.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ls.default=NC;var IC=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(El,"__esModule",{value:!0});const ei=IC(ls);let LC=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=n,this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new ei.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ei.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){const s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ei.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new ei.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ei.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};El.default=LC;var Pl={},Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.version=void 0;Tl.version="0.0.0-automated";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.DEFAULT_HEADERS=void 0;const DC=Tl;Pl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${DC.version}`};var v0=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pf,"__esModule",{value:!0});const MC=v0(El),FC=v0(ls),VC=Pl;let BC=class y0{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},VC.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=o}from(t){const n=new URL(`${this.url}/${t}`);return new MC.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new y0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){let s;const a=new URL(`${this.url}/rpc/${t}`);let l;r||o?(s=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new FC.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Pf.default=BC;var Bo=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;const w0=Bo(Pf);Xe.PostgrestClient=w0.default;const x0=Bo(El);Xe.PostgrestQueryBuilder=x0.default;const S0=Bo(ls);Xe.PostgrestFilterBuilder=S0.default;const b0=Bo(Cl);Xe.PostgrestTransformBuilder=b0.default;const E0=Bo(_l);Xe.PostgrestBuilder=E0.default;const C0=Bo(kl);Xe.PostgrestError=C0.default;var UC=Xe.default={PostgrestClient:w0.default,PostgrestQueryBuilder:x0.default,PostgrestFilterBuilder:S0.default,PostgrestTransformBuilder:b0.default,PostgrestBuilder:E0.default,PostgrestError:C0.default};const{PostgrestClient:zC,PostgrestQueryBuilder:$2,PostgrestFilterBuilder:O2,PostgrestTransformBuilder:j2,PostgrestBuilder:N2,PostgrestError:I2}=UC,WC="2.11.2",HC={"X-Client-Info":`realtime-js/${WC}`},KC="1.0.0",_0=1e4,GC=1e3;var yo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yo||(yo={}));var it;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(it||(it={}));var Ot;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ot||(Ot={}));var qu;(function(e){e.websocket="websocket"})(qu||(qu={}));var gr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gr||(gr={}));class qC{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),i=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(t.slice(s,s+o));s=s+o;const l=r.decode(t.slice(s,s+i));s=s+i;const c=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class k0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ie||(ie={}));const Mp=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,s)=>(i[s]=YC(s,e,t,o),i),{})},YC=(e,t,n,r)=>{const o=t.find(a=>a.name===e),i=o==null?void 0:o.type,s=n[e];return i&&!r.includes(i)?P0(i,s):Yu(s)},P0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return ZC(t,n)}switch(e){case ie.bool:return XC(t);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return JC(t);case ie.json:case ie.jsonb:return QC(t);case ie.timestamp:return e_(t);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return Yu(t);default:return Yu(t)}},Yu=e=>e,XC=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},JC=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},QC=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ZC=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>P0(t,a))}return e},e_=e=>typeof e=="string"?e.replace(" ","T"):e,T0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class bc{constructor(t,n,r={},o=_0){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fp||(Fp={}));class bi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bi.syncState(this.state,o,i,s),this.pendingDiffs.forEach(l=>{this.state=bi.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=bi.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const i=this.cloneDeep(t),s=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=i[c];if(d){const f=u.map(x=>x.presence_ref),p=d.map(x=>x.presence_ref),w=u.filter(x=>p.indexOf(x.presence_ref)<0),g=d.filter(x=>f.indexOf(x.presence_ref)<0);w.length>0&&(a[c]=w),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,o)}static syncDiff(t,n,r,o){const{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);t[a].unshift(...f)}r(a,u,l)}),this.map(s,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,o(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Vp||(Vp={}));var Bp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bp||(Bp={}));var nn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(nn||(nn={}));class Tf{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new bc(this,Ot.join,this.params,this.timeout),this.rejoinTimer=new k0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ot.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new bi(this),this.broadcastEndpointURL=T0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:a}}=this.params;this._onError(u=>t==null?void 0:t(nn.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(nn.CLOSED));const l={},c={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(nn.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,w=[];for(let g=0;g<p;g++){const x=f[g],{filter:{event:v,schema:m,table:y,filter:b}}=x,E=u&&u[g];if(E&&E.event===v&&E.schema===m&&E.table===y&&E.filter===b)w.push(Object.assign(Object.assign({},x),{id:E.id}));else{this.unsubscribe(),t==null||t(nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(nn.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=c.body)===null||o===void 0?void 0:o.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=it.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ot.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const o=new bc(this,Ot.leave,{},t);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new bc(this,t,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;const s=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ot;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(p=>{var w,g,x;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(p=>p.callback(f,r)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var w,g,x,v,m,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const b=p.id,E=(w=p.filter)===null||w===void 0?void 0:w.event;return b&&((g=n.ids)===null||g===void 0?void 0:g.includes(b))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(m=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:g,table:x,commit_timestamp:v,type:m,errors:y}=w;f=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:v,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(w))}p.callback(f,r)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Tf.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ot.close,{},t)}_onError(t){this._on(Ot.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Mp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Mp(t.columns,t.old_record)),n}}const t_=()=>{},n_=typeof WebSocket<"u",r_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class o_{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=HC,this.params={},this.timeout=_0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=t_,this.conn=null,this.sendBuffer=[],this.serializer=new qC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>To(()=>Promise.resolve().then(()=>Vo),void 0,import.meta.url).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${qu.websocket}`,this.httpEndpoint=T0(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new k0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(n_){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new i_(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),To(()=>import("./browser-510b954d.js").then(t=>t.b),[],import.meta.url).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:KC}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yo.connecting:return gr.Connecting;case yo.open:return gr.Open;case yo.closing:return gr.Closing;default:return gr.Closed}}isConnected(){return this.connectionState()===gr.Open}channel(t,n={config:{}}){const r=new Tf(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(o=>{n&&o.updateJoinPayload({access_token:n}),o.joinedOnce&&o._isJoined()&&o._push(Ot.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(GC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:o,payload:i,ref:s}=n;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ot.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([r_],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class i_{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=yo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Rf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Te(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class s_ extends Rf{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Xu extends Rf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var a_=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const R0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>To(()=>Promise.resolve().then(()=>Vo),void 0,import.meta.url).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},l_=()=>a_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield To(()=>Promise.resolve().then(()=>Vo),void 0,import.meta.url)).Response:Response}),Ju=e=>{if(Array.isArray(e))return e.map(n=>Ju(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=Ju(r)}),t};var Ir=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Ec=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),c_=(e,t,n)=>Ir(void 0,void 0,void 0,function*(){const r=yield l_();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(o=>{t(new s_(Ec(o),e.status||500))}).catch(o=>{t(new Xu(Ec(o),o))}):t(new Xu(Ec(e),e))}),u_=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function cs(e,t,n,r,o,i){return Ir(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,u_(t,r,o,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>c_(l,a,r))})})}function Ua(e,t,n,r){return Ir(this,void 0,void 0,function*(){return cs(e,"GET",t,n,r)})}function An(e,t,n,r,o){return Ir(this,void 0,void 0,function*(){return cs(e,"POST",t,r,o,n)})}function d_(e,t,n,r,o){return Ir(this,void 0,void 0,function*(){return cs(e,"PUT",t,r,o,n)})}function f_(e,t,n,r){return Ir(this,void 0,void 0,function*(){return cs(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function A0(e,t,n,r,o){return Ir(this,void 0,void 0,function*(){return cs(e,"DELETE",t,r,o,n)})}var qe=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const h_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Up={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class p_{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=R0(o)}uploadOrUpdate(t,n,r,o){return qe(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},Up),o);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),o!=null&&o.headers&&(a=Object.assign(Object.assign({},a),o.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Te(i))return{data:null,error:i};throw i}})}upload(t,n,r){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return qe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Up.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Te(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return qe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const i=yield An(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Rf("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}update(t,n,r){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return qe(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Te(o))return{data:null,error:o};throw o}})}copy(t,n,r){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield An(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Te(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return qe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield An(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(Te(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return qe(this,void 0,void 0,function*(){try{const o=yield An(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(Te(o))return{data:null,error:o};throw o}})}download(t,n){return qe(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ua(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Te(a))return{data:null,error:a};throw a}})}info(t){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ua(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ju(r),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}exists(t){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield f_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Te(r)&&r instanceof Xu){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&o.push(l);let c=o.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return qe(this,void 0,void 0,function*(){try{return{data:yield A0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}list(t,n,r){return qe(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},h_),n),{prefix:t||""});return{data:yield An(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Te(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const m_="2.7.1",g_={"X-Client-Info":`storage-js/${m_}`};var Ur=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class v_{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},g_),n),this.fetch=R0(r)}listBuckets(){return Ur(this,void 0,void 0,function*(){try{return{data:yield Ua(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Te(t))return{data:null,error:t};throw t}})}getBucket(t){return Ur(this,void 0,void 0,function*(){try{return{data:yield Ua(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ur(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ur(this,void 0,void 0,function*(){try{return{data:yield d_(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ur(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ur(this,void 0,void 0,function*(){try{return{data:yield A0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}}class y_ extends v_{constructor(t,n={},r){super(t,n,r)}from(t){return new p_(this.url,this.headers,t,this.fetch)}}const w_="2.49.4";let di="";typeof Deno<"u"?di="deno":typeof document<"u"?di="web":typeof navigator<"u"&&navigator.product==="ReactNative"?di="react-native":di="node";const x_={"X-Client-Info":`supabase-js-${di}/${w_}`},S_={headers:x_},b_={schema:"public"},E_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},C_={};var __=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const k_=e=>{let t;return e?t=e:typeof fetch>"u"?t=p0:t=fetch,(...n)=>t(...n)},P_=()=>typeof Headers>"u"?m0:Headers,T_=(e,t,n)=>{const r=k_(n),o=P_();return(i,s)=>__(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new o(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},s),{headers:c}))})};var R_=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function A_(e){return e.replace(/\/$/,"")}function $_(e,t){const{db:n,auth:r,realtime:o,global:i}=e,{db:s,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),o),global:Object.assign(Object.assign({},c),i),accessToken:()=>R_(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const $0="2.69.1",qr=30*1e3,Qu=3,Cc=Qu*qr,O_="http://localhost:9999",j_="supabase.auth.token",N_={"X-Client-Info":`gotrue-js/${$0}`},Zu="X-Supabase-Api-Version",O0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},I_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,L_=6e5;class Af extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function H(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class D_ extends Af{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function M_(e){return H(e)&&e.name==="AuthApiError"}class j0 extends Af{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ir extends Af{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class Cn extends ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function F_(e){return H(e)&&e.name==="AuthSessionMissingError"}class _c extends ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Is extends ir{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ls extends ir{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function V_(e){return H(e)&&e.name==="AuthImplicitGrantRedirectError"}class zp extends ir{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ed extends ir{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function kc(e){return H(e)&&e.name==="AuthRetryableFetchError"}class Wp extends ir{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ei extends ir{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kp=` 	
\r=`.split(""),B_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Kp.length;t+=1)e[Kp[t].charCodeAt(0)]=-2;for(let t=0;t<Hp.length;t+=1)e[Hp[t].charCodeAt(0)]=t;return e})();function N0(e,t,n){const r=B_[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gp(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{W_(s,r,n)};for(let s=0;s<e.length;s+=1)N0(e.charCodeAt(s),o,i);return t.join("")}function U_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function z_(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}U_(r,t)}}function W_(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function H_(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)N0(e.charCodeAt(o),n,r);return new Uint8Array(t)}function K_(e){const t=[];return z_(e,n=>t.push(n)),new Uint8Array(t)}function G_(e){return Math.round(Date.now()/1e3)+e}function q_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Bt=()=>typeof window<"u"&&typeof document<"u",lr={tested:!1,writable:!1},Ci=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lr.tested)return lr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lr.tested=!0,lr.writable=!0}catch{lr.tested=!0,lr.writable=!1}return lr.writable};function Y_(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const I0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>To(()=>Promise.resolve().then(()=>Vo),void 0,import.meta.url).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},X_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",L0=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ds=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ms=async(e,t)=>{await e.removeItem(t)};class Rl{constructor(){this.promise=new Rl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Rl.promiseConstructor=Promise;function Pc(e){const t=e.split(".");if(t.length!==3)throw new Ei("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!I_.test(t[r]))throw new Ei("JWT not in base64url format");return{header:JSON.parse(Gp(t[0])),payload:JSON.parse(Gp(t[1])),signature:H_(t[2]),raw:{header:t[0],payload:t[1]}}}async function J_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Q_(e,t){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})()})}function Z_(e){return("0"+e.toString(16)).substr(-2)}function ek(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,Z_).join("")}async function tk(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function nk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await tk(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zr(e,t,n=!1){const r=ek();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await L0(e,`${t}-code-verifier`,o);const i=await nk(r);return[i,r===i?"plain":"s256"]}const rk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ok(e){const t=e.headers.get(Zu);if(!t||!t.match(rk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ik(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ak=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const fr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lk=[502,503,504];async function qp(e){var t;if(!X_(e))throw new ed(fr(e),0);if(lk.includes(e.status))throw new ed(fr(e),e.status);let n;try{n=await e.json()}catch(i){throw new j0(fr(i),i)}let r;const o=ok(e);if(o&&o.getTime()>=O0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Wp(fr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Cn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Wp(fr(n),e.status,n.weak_password.reasons);throw new D_(fr(n),e.status||500,r)}const ck=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function Y(e,t,n,r){var o;const i=Object.assign({},r==null?void 0:r.headers);i[Zu]||(i[Zu]=O0["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const s=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await uk(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function uk(e,t,n,r,o,i){const s=ck(t,r,o,i);let a;try{a=await e(n,Object.assign({},s))}catch(l){throw console.error(l),new ed(fr(l),0)}if(a.ok||await qp(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await qp(l)}}function _n(e){var t;let n=null;pk(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=G_(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Yp(e){const t=_n(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Nn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dk(e){return{data:e,error:null}}function fk(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=ak(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function hk(e){return e}function pk(e){return e.access_token&&e.refresh_token&&e.expires_in}var mk=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class gk{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=I0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Nn})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=mk(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:fk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(H(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Nn})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,i,s,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:hk});if(u.error)throw u.error;const d=await u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(H(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Nn})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Nn})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Nn})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Y(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}}const vk={getItem:e=>Ci()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ci()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ci()&&globalThis.localStorage.removeItem(e)}};function Xp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function yk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wr={debug:!!(globalThis&&Ci()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class D0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class wk extends D0{}async function xk(e,t,n){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}yk();const Sk={url:O_,storageKey:j_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:N_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jp(e,t,n){return await n()}class Yi{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yi.nextInstanceID,Yi.nextInstanceID+=1,this.instanceID>0&&Bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Sk),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new gk({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=I0(o.fetch),this.lock=o.lock||Jp,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Bt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=xk:this.lock=Jp,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Ci()?this.storage=vk:(this.memoryStorage={},this.storage=Xp(this.memoryStorage)):(this.memoryStorage={},this.storage=Xp(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Y_(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Bt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),V_(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:a}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return H(n)?{error:n}:{error:new j0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:_n}),{data:s,error:a}=i;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,o;try{let i;if("email"in t){const{email:u,password:d,options:f}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await zr(this.storage,this.storageKey)),i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:w},xform:_n})}else if("phone"in t){const{phone:u,password:d,options:f}=t;i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(o=f==null?void 0:f.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:_n})}else throw new Is("You must provide either an email or phone number and a password");const{data:s,error:a}=i;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:s,options:a}=t;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yp})}else if("phone"in t){const{phone:i,password:s,options:a}=t;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yp})}else throw new Is("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new _c}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Ds(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:i,error:s}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:_n});if(await Ms(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new _c}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:s})}catch(i){if(H(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:i,nonce:s}=t,a=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:_n}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new _c}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,i,s;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await zr(this.storage,this.storageKey));const{error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(o=l==null?void 0:l.data)!==null&&o!==void 0?o:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Is("You must provide either an email or phone number.")}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let o,i;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:_n});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(H(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await zr(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:dk})}catch(i){if(H(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Cn;const{error:o}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:i}=t,{error:s}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:r,type:o,options:i}=t,{data:s,error:a}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a}}throw new Is("You must provide either an email or phone number and a type")}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Cc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Nn}):await this._useSession(async n=>{var r,o,i;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cn}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:Nn})})}catch(n){if(H(n))return F_(n)&&(await this._removeSession(),await Ms(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:i}=r;if(i)throw i;if(!o.session)throw new Cn;const s=o.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await zr(this.storage,this.storageKey));const{data:c,error:u}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:Nn});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cn;const n=Date.now()/1e3;let r=n,o=!0,i=null;const{payload:s}=Pc(t.access_token);if(s.exp&&(r=s.exp,o=r<=n),o){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(H(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:a}=n;if(a)throw a;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Cn;const{session:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Bt())throw new Ls("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ls(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new zp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ls("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zp("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:i,refresh_token:s,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!s||!c)throw new Ls("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const p=f-u;p*1e3<=qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const w=f-d;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,u);const{data:g,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:r,provider_refresh_token:o,access_token:i,expires_in:d,expires_at:f,refresh_token:s,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(H(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ds(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return{error:i};const s=(r=o.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,t);if(a&&!(M_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ms(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=q_(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:i},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await zr(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(H(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:o}=await this._useSession(async i=>{var s,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(o)throw o;return Bt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(H(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:i,error:s}=n;if(s)throw s;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Q_(async o=>(o>0&&await J_(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_n})),(o,i)=>{const s=200*Math.pow(2,o);return i&&kc(i)&&Date.now()+s-r<qr})}catch(r){if(this._debug(n,"error",r),H(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Bt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ds(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Cc;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Cc}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),kc(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Rl;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new Cn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(o,"error",i),H(i)){const s={session:null,error:i};return kc(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await L0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ms(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${qr}ms, refresh threshold is ${Qu} ticks`),o<=Qu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof D0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,s]=await zr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);o.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;return i?{data:null,error:i}:await Y(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:i,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((o=l==null?void 0:l.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return{data:null,error:i};const{data:s,error:a}=await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;return i?{data:null,error:i}:await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],o=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:o,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:o},error:i}=t;if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Pc(o.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r||(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+L_>Date.now()))return r;const{data:o,error:i}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!o.keys||o.keys.length===0)throw new Ei("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(s=>s.kid===t),!r)throw new Ei("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};r=p.session.access_token}const{header:o,payload:i,signature:s,raw:{header:a,payload:l}}=Pc(r);if(ik(i.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:o,signature:s},error:null}}const c=sk(o.alg),u=await this.fetchJwk(o.kid,n),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,K_(`${a}.${l}`)))throw new Ei("Invalid JWT signature");return{data:{claims:i,header:o,signature:s},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}}Yi.nextInstanceID=0;const bk=Yi;class Ek extends bk{constructor(t){super(t)}}var Ck=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class _k{constructor(t,n,r){var o,i,s;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=A_(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:b_,realtime:C_,auth:Object.assign(Object.assign({},E_),{storageKey:l}),global:S_},u=$_(r??{},c);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=T_(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new zC(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new wC(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new y_(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Ck(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ek({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new o_(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kk=(e,t,n)=>new _k(e,t,n),Pk="https://scmqbavvjpjihkitrjbj.supabase.co",Tk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNjbXFiYXZ2anBqaWhraXRyamJqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYxNzYwMDUsImV4cCI6MjA2MTc1MjAwNX0.hIXT-9TktgdxXPiJJLaUVUekVDIytWa6CoDLMU7pRGA",dt=kk(Pk,Tk),$f=h.createContext({user:null,session:null,loading:!0}),us=()=>h.useContext($f);function Rk({children:e}){const[t,n]=h.useState(null),[r,o]=h.useState(null),[i,s]=h.useState(!0);return h.useEffect(()=>{const{data:a}=dt.auth.onAuthStateChange((l,c)=>{o(c),n((c==null?void 0:c.user)??null)});return dt.auth.getSession().then(({data:l})=>{var c;o(l.session),n(((c=l.session)==null?void 0:c.user)??null),s(!1)}),()=>{a==null||a.subscription.unsubscribe()}},[]),S.jsx($f.Provider,{value:{user:t,session:r,loading:i},children:e})}function Ak(){const{setUser:e,setSession:t}=h.useContext($f);return async function(){await dt.auth.signOut(),e(null),t(null)}}function $k(){const{user:e}=us(),[t,n]=h.useState({email:"",password:"",confirm:""}),[r,o]=h.useState(!0),[i,s]=h.useState(""),a=Ft();if(e)return a("/"),null;const l=d=>n({...t,[d.target.name]:d.target.value}),c=async()=>{await dt.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}})},u=async d=>{if(d.preventDefault(),s(""),r&&t.password!==t.confirm)return s("Las contraseas no coinciden");const{error:f}=r?await dt.auth.signUp({email:t.email,password:t.password}):await dt.auth.signInWithPassword({email:t.email,password:t.password});if(f)return s(f.message);a("/")};return S.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 p-6",children:[S.jsx("h1",{className:"text-2xl font-bold",children:r?"Crear cuenta":"Iniciar sesin"}),S.jsx("button",{onClick:c,className:"w-64 rounded bg-red-600 px-4 py-2 text-white hover:bg-red-700",children:"Continuar con Google"}),S.jsx("div",{className:"w-64 text-center text-sm text-gray-500",children:"o"}),S.jsxs("form",{onSubmit:u,className:"flex w-64 flex-col gap-3",children:[S.jsx("input",{type:"email",name:"email",placeholder:"Correo",required:!0,value:t.email,onChange:l,className:"rounded border p-2"}),S.jsx("input",{type:"password",name:"password",placeholder:"Contrasea",required:!0,value:t.password,onChange:l,className:"rounded border p-2"}),r&&S.jsx("input",{type:"password",name:"confirm",placeholder:"Repite la contrasea",required:!0,value:t.confirm,onChange:l,className:"rounded border p-2"}),i&&S.jsx("p",{className:"text-sm text-red-600",children:i}),S.jsx("button",{type:"submit",className:"rounded bg-indigo-600 py-2 text-white hover:bg-indigo-700",children:r?"Registrarse":"Entrar"})]}),S.jsx("button",{className:"text-sm text-indigo-600 underline",onClick:()=>{o(!r),s("")},children:r?"Ya tengo cuenta":"Crear cuenta nueva"})]})}function Ok(){const e=Ft();return h.useEffect(()=>{dt.auth.getSession().then(()=>e("/"))},[e]),S.jsx("p",{className:"p-8",children:"Completando inicio de sesin"})}function M0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=M0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function F0(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=M0(e))&&(r&&(r+=" "),r+=t);return r}function jk(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=V0(t))&&(r&&(r+=" "),r+=n);return r}function V0(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=V0(e[r]))&&(n&&(n+=" "),n+=t);return n}var Of="-";function Nk(e){var t=Lk(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,o=r===void 0?{}:r;function i(a){var l=a.split(Of);return l[0]===""&&l.length!==1&&l.shift(),B0(l,t)||Ik(a)}function s(a,l){var c=n[a]||[];return l&&o[a]?[].concat(c,o[a]):c}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function B0(e,t){var s;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),o=r?B0(e.slice(1),r):void 0;if(o)return o;if(t.validators.length!==0){var i=e.join(Of);return(s=t.validators.find(function(a){var l=a.validator;return l(i)}))==null?void 0:s.classGroupId}}var Qp=/^\[(.+)\]$/;function Ik(e){if(Qp.test(e)){var t=Qp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function Lk(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},o=Mk(Object.entries(e.classGroups),n);return o.forEach(function(i){var s=i[0],a=i[1];td(a,r,s,t)}),r}function td(e,t,n,r){e.forEach(function(o){if(typeof o=="string"){var i=o===""?t:Zp(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(Dk(o)){td(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(function(s){var a=s[0],l=s[1];td(l,Zp(t,a),n,r)})})}function Zp(e,t){var n=e;return t.split(Of).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function Dk(e){return e.isThemeGetter}function Mk(e,t){return t?e.map(function(n){var r=n[0],o=n[1],i=o.map(function(s){return typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],c=a[1];return[t+l,c]})):s});return[r,i]}):e}function Fk(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function o(i,s){n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return o(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):o(s,a)}}}var U0="!";function Vk(e){var t=e.separator||":",n=t.length===1,r=t[0],o=t.length;return function(s){for(var a=[],l=0,c=0,u,d=0;d<s.length;d++){var f=s[d];if(l===0){if(f===r&&(n||s.slice(d,d+o)===t)){a.push(s.slice(c,d)),c=d+o;continue}if(f==="/"){u=d;continue}}f==="["?l++:f==="]"&&l--}var p=a.length===0?s:s.substring(c),w=p.startsWith(U0),g=w?p.substring(1):p,x=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:w,baseClassName:g,maybePostfixModifierPosition:x}}}function Bk(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var o=r[0]==="[";o?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function Uk(e){return{cache:Fk(e.cacheSize),splitModifiers:Vk(e),...Nk(e)}}var zk=/\s+/;function Wk(e,t){var n=t.splitModifiers,r=t.getClassGroupId,o=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(zk).map(function(s){var a=n(s),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,d=a.maybePostfixModifierPosition,f=r(d?u.substring(0,d):u),p=!!d;if(!f){if(!d)return{isTailwindClass:!1,originalClassName:s};if(f=r(u),!f)return{isTailwindClass:!1,originalClassName:s};p=!1}var w=Bk(l).join(":"),g=c?w+U0:w;return{isTailwindClass:!0,modifierId:g,classGroupId:f,originalClassName:s,hasPostfixModifier:p}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,c=s.hasPostfixModifier,u=a+l;return i.has(u)?!1:(i.add(u),o(l,c).forEach(function(d){return i.add(a+d)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function Hk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o,i,s=a;function a(c){var u=t[0],d=t.slice(1),f=d.reduce(function(p,w){return w(p)},u());return r=Uk(f),o=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){var u=o(c);if(u)return u;var d=Wk(c,r);return i(c,d),d}return function(){return s(jk.apply(null,arguments))}}function le(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var z0=/^\[(?:([a-z-]+):)?(.+)\]$/i,Kk=/^\d+\/\d+$/,Gk=new Set(["px","full","screen"]),qk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xk=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Rt(e){return xr(e)||Gk.has(e)||Kk.test(e)||nd(e)}function nd(e){return Lr(e,"length",nP)}function Jk(e){return Lr(e,"size",W0)}function Qk(e){return Lr(e,"position",W0)}function Zk(e){return Lr(e,"url",rP)}function Fs(e){return Lr(e,"number",xr)}function xr(e){return!Number.isNaN(Number(e))}function eP(e){return e.endsWith("%")&&xr(e.slice(0,-1))}function ti(e){return em(e)||Lr(e,"number",em)}function q(e){return z0.test(e)}function ni(){return!0}function En(e){return qk.test(e)}function tP(e){return Lr(e,"",oP)}function Lr(e,t,n){var r=z0.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function nP(e){return Yk.test(e)}function W0(){return!1}function rP(e){return e.startsWith("url(")}function em(e){return Number.isInteger(Number(e))}function oP(e){return Xk.test(e)}function iP(){var e=le("colors"),t=le("spacing"),n=le("blur"),r=le("brightness"),o=le("borderColor"),i=le("borderRadius"),s=le("borderSpacing"),a=le("borderWidth"),l=le("contrast"),c=le("grayscale"),u=le("hueRotate"),d=le("invert"),f=le("gap"),p=le("gradientColorStops"),w=le("gradientColorStopPositions"),g=le("inset"),x=le("margin"),v=le("opacity"),m=le("padding"),y=le("saturate"),b=le("scale"),E=le("sepia"),k=le("skew"),C=le("space"),_=le("translate"),R=function(){return["auto","contain","none"]},O=function(){return["auto","hidden","clip","visible","scroll"]},N=function(){return["auto",q,t]},A=function(){return[q,t]},F=function(){return["",Rt]},T=function(){return["auto",xr,q]},V=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},I=function(){return["solid","dashed","dotted","double","none"]},U=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},P=function(){return["start","end","center","between","around","evenly","stretch"]},j=function(){return["","0",q]},M=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},L=function(){return[xr,Fs]},W=function(){return[xr,q]};return{cacheSize:500,theme:{colors:[ni],spacing:[Rt],blur:["none","",En,q],brightness:L(),borderColor:[e],borderRadius:["none","","full",En,q],borderSpacing:A(),borderWidth:F(),contrast:L(),grayscale:j(),hueRotate:W(),invert:j(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[eP,nd],inset:N(),margin:N(),opacity:L(),padding:A(),saturate:L(),scale:L(),sepia:j(),skew:W(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",q]}],container:["container"],columns:[{columns:[En]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(V(),[q])}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ti]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",q]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",ti]}],"grid-cols":[{"grid-cols":[ni]}],"col-start-end":[{col:["auto",{span:["full",ti]},q]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[ni]}],"row-start-end":[{row:["auto",{span:[ti]},q]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",q]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(P())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(P(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(P(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",q,t]}],"min-w":[{"min-w":["min","max","fit",q,Rt]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[En]},En,q]}],h:[{h:[q,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",q,Rt]}],"max-h":[{"max-h":[q,t,"min","max","fit"]}],"font-size":[{text:["base",En,nd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fs]}],"font-family":[{font:[ni]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",q]}],"line-clamp":[{"line-clamp":["none",xr,Fs]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",q,Rt]}],"list-image":[{"list-image":["none",q]}],"list-style-type":[{list:["none","disc","decimal",q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(I(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Rt]}],"underline-offset":[{"underline-offset":["auto",q,Rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(V(),[Qk])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Zk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(I(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:I()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(I())}],"outline-offset":[{"outline-offset":[q,Rt]}],"outline-w":[{outline:[Rt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Rt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",En,tP]}],"shadow-color":[{shadow:[ni]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":U()}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",En,q]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",q]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",q]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ti,q]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",q]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",q]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",q]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Rt,Fs]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var sP=Hk(iP);function pt(...e){return sP(F0(e))}function tm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function H0(...e){return t=>{let n=!1;const r=e.map(o=>{const i=tm(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():tm(e[o],null)}}}}function Ar(...e){return h.useCallback(H0(...e),e)}function za(e){const t=lP(e),n=h.forwardRef((r,o)=>{const{children:i,...s}=r,a=h.Children.toArray(i),l=a.find(uP);if(l){const c=l.props.children,u=a.map(d=>d===l?h.Children.count(c)>1?h.Children.only(null):h.isValidElement(c)?c.props.children:null:d);return S.jsx(t,{...s,ref:o,children:h.isValidElement(c)?h.cloneElement(c,void 0,u):null})}return S.jsx(t,{...s,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}var aP=za("Slot");function lP(e){const t=h.forwardRef((n,r)=>{const{children:o,...i}=n;if(h.isValidElement(o)){const s=fP(o),a=dP(i,o.props);return o.type!==h.Fragment&&(a.ref=r?H0(r,s):s),h.cloneElement(o,a)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cP=Symbol("radix.slottable");function uP(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cP}function dP(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{i(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function fP(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const nm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,rm=F0,K0=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return rm(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=t,s=Object.keys(o).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const f=nm(u)||nm(d);return o[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...p}=u;return Object.entries(p).every(w=>{let[g,x]=w;return Array.isArray(x)?x.includes({...i,...a}[g]):{...i,...a}[g]===x})?[...c,d,f]:c},[]);return rm(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},hP=K0("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),he=te.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},i)=>{const s=r?aP:"button";return S.jsx(s,{className:pt(hP({variant:t,size:n,className:e})),ref:i,...o})});he.displayName="Button";const pP=1;let Tc=0;function mP(){return Tc=(Tc+1)%Number.MAX_VALUE,Tc.toString()}const Be={state:{toasts:[]},listeners:[],getState:()=>Be.state,setState:e=>{typeof e=="function"?Be.state=e(Be.state):Be.state={...Be.state,...e},Be.listeners.forEach(t=>t(Be.state))},subscribe:e=>(Be.listeners.push(e),()=>{Be.listeners=Be.listeners.filter(t=>t!==e)})},gP=({...e})=>{const t=mP(),n=o=>Be.setState(i=>({...i,toasts:i.toasts.map(s=>s.id===t?{...s,...o}:s)})),r=()=>Be.setState(o=>({...o,toasts:o.toasts.filter(i=>i.id!==t)}));return Be.setState(o=>({...o,toasts:[{...e,id:t,dismiss:r},...o.toasts].slice(0,pP)})),{id:t,dismiss:r,update:n}};function sr(){const[e,t]=h.useState(Be.getState());return h.useEffect(()=>Be.subscribe(r=>{t(r)}),[]),h.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const o=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(o)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:gP,toasts:e.toasts}}const Al=""+new URL("../chacho-relatos-logo.png",import.meta.url).href;function vP(){const[e,t]=h.useState(""),[n,r]=h.useState(""),[o,i]=h.useState(!1),[s,a]=h.useState(""),l=Ft(),{toast:c}=sr(),u=async f=>{f.preventDefault(),i(!0),a("");const{data:p,error:w}=await dt.auth.signUp({email:e,password:n});if(w){a(w.message),i(!1);return}i(!1),c({title:"Registro exitoso",description:"Revisa tu correo para confirmar tu cuenta."}),l("/")},d=async()=>{await dt.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}})};return S.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-b from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-indigo-950",children:S.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg p-8 rounded-2xl shadow-xl",children:[S.jsxs("div",{className:"text-center mb-6",children:[S.jsx("img",{src:Al,alt:"Chacho Relatos Logo",className:"mx-auto w-32 h-auto mb-4 drop-shadow"}),S.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Crear cuenta"}),S.jsxs("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-4",children:["Crea tu cuenta para crear tus historias y te regalamos ",S.jsx("span",{className:"text-green-600 font-bold",children:"250 crditos"})," ;)"]})]}),S.jsxs(he,{type:"button",onClick:d,className:"w-full flex items-center justify-center gap-2 bg-white border border-gray-300 hover:bg-gray-100 text-gray-800 font-semibold py-3 rounded-lg shadow mb-4 transition",children:[S.jsx("img",{src:"/Google.svg.png",alt:"Google",className:"w-6 h-6"}),"Continuar con Google"]}),S.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[S.jsx("div",{className:"flex-1 h-px bg-gray-300 dark:bg-gray-600"}),S.jsx("span",{className:"text-gray-500 text-sm",children:"o con tu email"}),S.jsx("div",{className:"flex-1 h-px bg-gray-300 dark:bg-gray-600"})]}),S.jsxs("form",{onSubmit:u,className:"space-y-4",children:[S.jsx("input",{type:"email",placeholder:"Correo electrnico",value:e,onChange:f=>t(f.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:text-white"}),S.jsx("input",{type:"password",placeholder:"Contrasea",value:n,onChange:f=>r(f.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:text-white"}),s&&S.jsx("div",{className:"text-red-500 text-sm",children:s}),S.jsx(he,{type:"submit",disabled:o,className:"w-full bg-blue-500 hover:bg-blue-600 text-white",children:o?"Registrando...":"Registrarse"})]}),S.jsxs("div",{className:"text-center mt-4",children:[S.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Ya tienes cuenta? "}),S.jsx("button",{onClick:()=>l("/"),className:"text-blue-600 hover:underline text-sm",children:"Inicia sesin"})]})]})})}function yP(){const[e,t]=h.useState(""),[n,r]=h.useState(!1),{toast:o}=sr(),i=Ft(),s=async a=>{a.preventDefault(),r(!0);const{error:l}=await dt.auth.resetPasswordForEmail(e);r(!1),l?o({title:"Error",description:l.message,variant:"destructive"}):(o({title:"Email enviado",description:"Revisa tu bandeja para restablecer la contrasea."}),i("/login"))};return S.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-b from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-indigo-950",children:S.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg p-8 rounded-2xl shadow-xl",children:[S.jsx("h2",{className:"text-3xl font-bold text-center mb-6 text-gray-900 dark:text-white",children:"Restablecer contrasea"}),S.jsxs("form",{onSubmit:s,className:"space-y-4",children:[S.jsx("input",{type:"email",placeholder:"Correo electrnico",value:e,onChange:a=>t(a.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:text-white"}),S.jsx(he,{type:"submit",disabled:n,className:"w-full bg-blue-500 hover:bg-blue-600 text-white",children:n?"Enviando...":"Enviar link"})]}),S.jsx("div",{className:"text-center mt-4",children:S.jsx("button",{onClick:()=>i("/login"),className:"text-blue-600 hover:underline text-sm",children:"Volver al inicio de sesin"})})]})})}const G0=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),$l=h.createContext({}),Ol=h.createContext(null),jl=typeof document<"u",jf=jl?h.useLayoutEffect:h.useEffect,q0=h.createContext({strict:!1}),Nf=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),wP="framerAppearId",Y0="data-"+Nf(wP);function xP(e,t,n,r){const{visualElement:o}=h.useContext($l),i=h.useContext(q0),s=h.useContext(Ol),a=h.useContext(G0).reducedMotion,l=h.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;h.useInsertionEffect(()=>{c&&c.update(n,s)});const u=h.useRef(!!(n[Y0]&&!window.HandoffComplete));return jf(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),h.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function ao(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function SP(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ao(n)&&(n.current=r))},[t])}function Xi(e){return typeof e=="string"||Array.isArray(e)}function Nl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const If=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lf=["initial",...If];function Il(e){return Nl(e.animate)||Lf.some(t=>Xi(e[t]))}function X0(e){return!!(Il(e)||e.variants)}function bP(e,t){if(Il(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Xi(n)?n:void 0,animate:Xi(r)?r:void 0}}return e.inherit!==!1?t:{}}function EP(e){const{initial:t,animate:n}=bP(e,h.useContext($l));return h.useMemo(()=>({initial:t,animate:n}),[om(t),om(n)])}function om(e){return Array.isArray(e)?e.join(" "):e}const im={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ji={};for(const e in im)Ji[e]={isEnabled:t=>im[e].some(n=>!!t[n])};function CP(e){for(const t in e)Ji[t]={...Ji[t],...e[t]}}const Df=h.createContext({}),J0=h.createContext({}),_P=Symbol.for("motionComponentSymbol");function kP({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&CP(e);function i(a,l){let c;const u={...h.useContext(G0),...a,layoutId:PP(a)},{isStatic:d}=u,f=EP(a),p=r(a,d);if(!d&&jl){f.visualElement=xP(o,p,u,t);const w=h.useContext(J0),g=h.useContext(q0).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,g,e,w))}return h.createElement($l.Provider,{value:f},c&&f.visualElement?h.createElement(c,{visualElement:f.visualElement,...u}):null,n(o,a,SP(p,f.visualElement,l),p,d,f.visualElement))}const s=h.forwardRef(i);return s[_P]=o,s}function PP({layoutId:e}){const t=h.useContext(Df).id;return t&&e!==void 0?t+"-"+e:e}function TP(e){function t(r,o={}){return kP(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const RP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mf(e){return typeof e!="string"||e.includes("-")?!1:!!(RP.indexOf(e)>-1||/[A-Z]/.test(e))}const Wa={};function AP(e){Object.assign(Wa,e)}const ds=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dr=new Set(ds);function Q0(e,{layout:t,layoutId:n}){return Dr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Wa[e]||e==="opacity")}const tt=e=>!!(e&&e.getVelocity),$P={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OP=ds.length;function jP(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<OP;s++){const a=ds[s];if(e[a]!==void 0){const l=$P[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const Z0=e=>t=>typeof t=="string"&&t.startsWith(e),ew=Z0("--"),rd=Z0("var(--"),NP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,IP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Xn=(e,t,n)=>Math.min(Math.max(n,e),t),Mr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_i={...Mr,transform:e=>Xn(0,1,e)},Vs={...Mr,default:1},ki=e=>Math.round(e*1e5)/1e5,Ll=/(-)?([\d]*\.?[\d])+/g,tw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,LP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function fs(e){return typeof e=="string"}const hs=e=>({test:t=>fs(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),kn=hs("deg"),Gt=hs("%"),z=hs("px"),DP=hs("vh"),MP=hs("vw"),sm={...Gt,parse:e=>Gt.parse(e)/100,transform:e=>Gt.transform(e*100)},am={...Mr,transform:Math.round},nw={borderWidth:z,borderTopWidth:z,borderRightWidth:z,borderBottomWidth:z,borderLeftWidth:z,borderRadius:z,radius:z,borderTopLeftRadius:z,borderTopRightRadius:z,borderBottomRightRadius:z,borderBottomLeftRadius:z,width:z,maxWidth:z,height:z,maxHeight:z,size:z,top:z,right:z,bottom:z,left:z,padding:z,paddingTop:z,paddingRight:z,paddingBottom:z,paddingLeft:z,margin:z,marginTop:z,marginRight:z,marginBottom:z,marginLeft:z,rotate:kn,rotateX:kn,rotateY:kn,rotateZ:kn,scale:Vs,scaleX:Vs,scaleY:Vs,scaleZ:Vs,skew:kn,skewX:kn,skewY:kn,distance:z,translateX:z,translateY:z,translateZ:z,x:z,y:z,z,perspective:z,transformPerspective:z,opacity:_i,originX:sm,originY:sm,originZ:z,zIndex:am,fillOpacity:_i,strokeOpacity:_i,numOctaves:am};function Ff(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let l=!1,c=!1,u=!0;for(const d in t){const f=t[d];if(ew(d)){i[d]=f;continue}const p=nw[d],w=IP(f,p);if(Dr.has(d)){if(l=!0,s[d]=w,!u)continue;f!==(p.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=w):o[d]=w}if(t.transform||(l||r?o.transform=jP(e.transform,n,u,r):o.transform&&(o.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:p=0}=a;o.transformOrigin=`${d} ${f} ${p}`}}const Vf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rw(e,t,n){for(const r in t)!tt(t[r])&&!Q0(r,n)&&(e[r]=t[r])}function FP({transformTemplate:e},t,n){return h.useMemo(()=>{const r=Vf();return Ff(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function VP(e,t,n){const r=e.style||{},o={};return rw(o,r,e),Object.assign(o,FP(e,t,n)),e.transformValues?e.transformValues(o):o}function BP(e,t,n){const r={},o=VP(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const UP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ha(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||UP.has(e)}let ow=e=>!Ha(e);function zP(e){e&&(ow=t=>t.startsWith("on")?!Ha(t):e(t))}try{zP(require("@emotion/is-prop-valid").default)}catch{}function WP(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(ow(o)||n===!0&&Ha(o)||!t&&!Ha(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function lm(e,t,n){return typeof e=="string"?e:z.transform(t+n*e)}function HP(e,t,n){const r=lm(t,e.x,e.width),o=lm(n,e.y,e.height);return`${r} ${o}`}const KP={offset:"stroke-dashoffset",array:"stroke-dasharray"},GP={offset:"strokeDashoffset",array:"strokeDasharray"};function qP(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?KP:GP;e[i.offset]=z.transform(-r);const s=z.transform(t),a=z.transform(n);e[i.array]=`${s} ${a}`}function Bf(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,d,f){if(Ff(e,c,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:w,dimensions:g}=e;p.transform&&(g&&(w.transform=p.transform),delete p.transform),g&&(o!==void 0||i!==void 0||w.transform)&&(w.transformOrigin=HP(g,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&qP(p,s,a,l,!1)}const iw=()=>({...Vf(),attrs:{}}),Uf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function YP(e,t,n,r){const o=h.useMemo(()=>{const i=iw();return Bf(i,t,{enableHardwareAcceleration:!1},Uf(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};rw(i,e.style,e),o.style={...i,...o.style}}return o}function XP(e=!1){return(n,r,o,{latestValues:i},s)=>{const l=(Mf(n)?YP:BP)(r,i,s,n),u={...WP(r,typeof n=="string",e),...l,ref:o},{children:d}=r,f=h.useMemo(()=>tt(d)?d.get():d,[d]);return h.createElement(n,{...u,children:f})}}function sw(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const aw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lw(e,t,n,r){sw(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(aw.has(o)?o:Nf(o),t.attrs[o])}function zf(e,t){const{style:n}=e,r={};for(const o in n)(tt(n[o])||t.style&&tt(t.style[o])||Q0(o,e))&&(r[o]=n[o]);return r}function cw(e,t){const n=zf(e,t);for(const r in e)if(tt(e[r])||tt(t[r])){const o=ds.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function Wf(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function uw(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ka=e=>Array.isArray(e),JP=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),QP=e=>Ka(e)?e[e.length-1]||0:e;function fa(e){const t=tt(e)?e.get():e;return JP(t)?t.toValue():t}function ZP({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:eT(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const dw=e=>(t,n)=>{const r=h.useContext($l),o=h.useContext(Ol),i=()=>ZP(e,t,r,o);return n?i():uw(i)};function eT(e,t,n,r){const o={},i=r(e,{});for(const f in i)o[f]=fa(i[f]);let{initial:s,animate:a}=e;const l=Il(e),c=X0(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const d=u?a:s;return d&&typeof d!="boolean"&&!Nl(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const w=Wf(e,p);if(!w)return;const{transitionEnd:g,transition:x,...v}=w;for(const m in v){let y=v[m];if(Array.isArray(y)){const b=u?y.length-1:0;y=y[b]}y!==null&&(o[m]=y)}for(const m in g)o[m]=g[m]}),o}const xe=e=>e;class cm{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function tT(e){let t=new cm,n=new cm,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&o,f=d?t:n;return c&&s.add(l),f.add(l)&&d&&o&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const u=t.order[c];u(l),s.has(u)&&(a.schedule(u),e())}o=!1,i&&(i=!1,a.process(l))}};return a}const Bs=["prepare","read","update","preRender","render","postRender"],nT=40;function rT(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=Bs.reduce((d,f)=>(d[f]=tT(()=>n=!0),d),{}),s=d=>i[d].process(o),a=()=>{const d=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(d-o.timestamp,nT),1),o.timestamp=d,o.isProcessing=!0,Bs.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:Bs.reduce((d,f)=>{const p=i[f];return d[f]=(w,g=!1,x=!1)=>(n||l(),p.schedule(w,g,x)),d},{}),cancel:d=>Bs.forEach(f=>i[f].cancel(d)),state:o,steps:i}}const{schedule:ae,cancel:gn,state:De,steps:Rc}=rT(typeof requestAnimationFrame<"u"?requestAnimationFrame:xe,!0),oT={useVisualState:dw({scrapeMotionValuesFromProps:cw,createRenderState:iw,onMount:(e,t,{renderState:n,latestValues:r})=>{ae.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ae.render(()=>{Bf(n,r,{enableHardwareAcceleration:!1},Uf(t.tagName),e.transformTemplate),lw(t,n)})}})},iT={useVisualState:dw({scrapeMotionValuesFromProps:zf,createRenderState:Vf})};function sT(e,{forwardMotionProps:t=!1},n,r){return{...Mf(e)?oT:iT,preloadedFeatures:n,useRender:XP(t),createVisualElement:r,Component:e}}function ln(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const fw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Dl(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const aT=e=>t=>fw(t)&&e(t,Dl(t));function un(e,t,n,r){return ln(e,t,aT(n),r)}const lT=(e,t)=>n=>t(e(n)),Kn=(...e)=>e.reduce(lT);function hw(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const um=hw("dragHorizontal"),dm=hw("dragVertical");function pw(e){let t=!1;if(e==="y")t=dm();else if(e==="x")t=um();else{const n=um(),r=dm();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function mw(){const e=pw(!0);return e?(e(),!1):!0}class ar{constructor(t){this.isMounted=!1,this.node=t}update(){}}function fm(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.pointerType==="touch"||mw())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&ae.update(()=>a[r](i,s))};return un(e.current,n,o,{passive:!e.getProps()[r]})}class cT extends ar{mount(){this.unmount=Kn(fm(this.node,!0),fm(this.node,!1))}unmount(){}}class uT extends ar{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kn(ln(this.node.current,"focus",()=>this.onFocus()),ln(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const gw=(e,t)=>t?e===t?!0:gw(e,t.parentElement):!1;function Ac(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Dl(n))}class dT extends ar{constructor(){super(...arguments),this.removeStartListeners=xe,this.removeEndListeners=xe,this.removeAccessibleListeners=xe,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=un(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();ae.update(()=>{!d&&!gw(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=un(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Kn(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ac("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&ae.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ln(this.node.current,"keyup",s),Ac("down",(a,l)=>{this.startPress(a,l)})},n=ln(this.node.current,"keydown",t),r=()=>{this.isPressing&&Ac("cancel",(i,s)=>this.cancelPress(i,s))},o=ln(this.node.current,"blur",r);this.removeAccessibleListeners=Kn(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ae.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!mw()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ae.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=un(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ln(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const od=new WeakMap,$c=new WeakMap,fT=e=>{const t=od.get(e.target);t&&t(e)},hT=e=>{e.forEach(fT)};function pT({root:e,...t}){const n=e||document;$c.has(n)||$c.set(n,{});const r=$c.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(hT,{root:e,...t})),r[o]}function mT(e,t,n){const r=pT(t);return od.set(e,n),r.observe(e),()=>{od.delete(e),r.unobserve(e)}}const gT={some:0,all:1};class vT extends ar{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:gT[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return mT(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(yT(t,n))&&this.startObserver()}unmount(){}}function yT({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const wT={inView:{Feature:vT},tap:{Feature:dT},focus:{Feature:uT},hover:{Feature:cT}};function vw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function xT(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function ST(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Ml(e,t,n){const r=e.getProps();return Wf(r,t,n!==void 0?n:r.custom,xT(e),ST(e))}let bT=xe,Hf=xe;const Gn=e=>e*1e3,dn=e=>e/1e3,ET={current:!1},yw=e=>Array.isArray(e)&&typeof e[0]=="number";function ww(e){return!!(!e||typeof e=="string"&&xw[e]||yw(e)||Array.isArray(e)&&e.every(ww))}const fi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,xw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fi([0,.65,.55,1]),circOut:fi([.55,0,1,.45]),backIn:fi([.31,.01,.66,-.59]),backOut:fi([.33,1.53,.69,.99])};function Sw(e){if(e)return yw(e)?fi(e):Array.isArray(e)?e.map(Sw):xw[e]}function CT(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=Sw(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function _T(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const bw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,kT=1e-7,PT=12;function TT(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=bw(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>kT&&++a<PT);return s}function ps(e,t,n,r){if(e===t&&n===r)return xe;const o=i=>TT(i,0,1,e,n);return i=>i===0||i===1?i:bw(o(i),t,r)}const RT=ps(.42,0,1,1),AT=ps(0,0,.58,1),Ew=ps(.42,0,.58,1),$T=e=>Array.isArray(e)&&typeof e[0]!="number",Cw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_w=e=>t=>1-e(1-t),Kf=e=>1-Math.sin(Math.acos(e)),kw=_w(Kf),OT=Cw(Kf),Pw=ps(.33,1.53,.69,.99),Gf=_w(Pw),jT=Cw(Gf),NT=e=>(e*=2)<1?.5*Gf(e):.5*(2-Math.pow(2,-10*(e-1))),IT={linear:xe,easeIn:RT,easeInOut:Ew,easeOut:AT,circIn:Kf,circInOut:OT,circOut:kw,backIn:Gf,backInOut:jT,backOut:Pw,anticipate:NT},hm=e=>{if(Array.isArray(e)){Hf(e.length===4);const[t,n,r,o]=e;return ps(t,n,r,o)}else if(typeof e=="string")return IT[e];return e},qf=(e,t)=>n=>!!(fs(n)&&LP.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Tw=(e,t,n)=>r=>{if(!fs(r))return r;const[o,i,s,a]=r.match(Ll);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},LT=e=>Xn(0,255,e),Oc={...Mr,transform:e=>Math.round(LT(e))},Sr={test:qf("rgb","red"),parse:Tw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Oc.transform(e)+", "+Oc.transform(t)+", "+Oc.transform(n)+", "+ki(_i.transform(r))+")"};function DT(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const id={test:qf("#"),parse:DT,transform:Sr.transform},lo={test:qf("hsl","hue"),parse:Tw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Gt.transform(ki(t))+", "+Gt.transform(ki(n))+", "+ki(_i.transform(r))+")"},Ue={test:e=>Sr.test(e)||id.test(e)||lo.test(e),parse:e=>Sr.test(e)?Sr.parse(e):lo.test(e)?lo.parse(e):id.parse(e),transform:e=>fs(e)?e:e.hasOwnProperty("red")?Sr.transform(e):lo.transform(e)},pe=(e,t,n)=>-n*e+n*t+e;function jc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function MT({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=jc(l,a,e+1/3),i=jc(l,a,e),s=jc(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const Nc=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},FT=[id,Sr,lo],VT=e=>FT.find(t=>t.test(e));function pm(e){const t=VT(e);let n=t.parse(e);return t===lo&&(n=MT(n)),n}const Rw=(e,t)=>{const n=pm(e),r=pm(t),o={...n};return i=>(o.red=Nc(n.red,r.red,i),o.green=Nc(n.green,r.green,i),o.blue=Nc(n.blue,r.blue,i),o.alpha=pe(n.alpha,r.alpha,i),Sr.transform(o))};function BT(e){var t,n;return isNaN(e)&&fs(e)&&(((t=e.match(Ll))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(tw))===null||n===void 0?void 0:n.length)||0)>0}const Aw={regex:NP,countKey:"Vars",token:"${v}",parse:xe},$w={regex:tw,countKey:"Colors",token:"${c}",parse:Ue.parse},Ow={regex:Ll,countKey:"Numbers",token:"${n}",parse:Mr.parse};function Ic(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function Ga(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ic(n,Aw),Ic(n,$w),Ic(n,Ow),n}function jw(e){return Ga(e).values}function Nw(e){const{values:t,numColors:n,numVars:r,tokenised:o}=Ga(e),i=t.length;return s=>{let a=o;for(let l=0;l<i;l++)l<r?a=a.replace(Aw.token,s[l]):l<r+n?a=a.replace($w.token,Ue.transform(s[l])):a=a.replace(Ow.token,ki(s[l]));return a}}const UT=e=>typeof e=="number"?0:e;function zT(e){const t=jw(e);return Nw(e)(t.map(UT))}const Jn={test:BT,parse:jw,createTransformer:Nw,getAnimatableNone:zT},Iw=(e,t)=>n=>`${n>0?t:e}`;function Lw(e,t){return typeof e=="number"?n=>pe(e,t,n):Ue.test(e)?Rw(e,t):e.startsWith("var(")?Iw(e,t):Mw(e,t)}const Dw=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>Lw(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},WT=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Lw(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},Mw=(e,t)=>{const n=Jn.createTransformer(t),r=Ga(e),o=Ga(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Kn(Dw(r.values,o.values),n):Iw(e,t)},Qi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},mm=(e,t)=>n=>pe(e,t,n);function HT(e){return typeof e=="number"?mm:typeof e=="string"?Ue.test(e)?Rw:Mw:Array.isArray(e)?Dw:typeof e=="object"?WT:mm}function KT(e,t,n){const r=[],o=n||HT(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||xe:t;a=Kn(l,a)}r.push(a)}return r}function Fw(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(Hf(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=KT(t,r,o),a=s.length,l=c=>{let u=0;if(a>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const d=Qi(e[u],e[u+1],c);return s[u](d)};return n?c=>l(Xn(e[0],e[i-1],c)):l}function GT(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Qi(0,t,r);e.push(pe(n,1,o))}}function qT(e){const t=[0];return GT(t,e.length-1),t}function YT(e,t){return e.map(n=>n*t)}function XT(e,t){return e.map(()=>t||Ew).splice(0,e.length-1)}function qa({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=$T(r)?r.map(hm):hm(r),i={done:!1,value:t[0]},s=YT(n&&n.length===t.length?n:qT(t),e),a=Fw(s,t,{ease:Array.isArray(o)?o:XT(t,o)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function Vw(e,t){return t?e*(1e3/t):0}const JT=5;function Bw(e,t,n){const r=Math.max(t-JT,0);return Vw(n-e(r),t-r)}const Lc=.001,QT=.01,gm=10,ZT=.05,eR=1;function tR({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;bT(e<=Gn(gm));let s=1-t;s=Xn(ZT,eR,s),e=Xn(QT,gm,dn(e)),s<1?(o=c=>{const u=c*s,d=u*e,f=u-n,p=sd(c,s),w=Math.exp(-d);return Lc-f/p*w},i=c=>{const d=c*s*e,f=d*n+n,p=Math.pow(s,2)*Math.pow(c,2)*e,w=Math.exp(-d),g=sd(Math.pow(c,2),s);return(-o(c)+Lc>0?-1:1)*((f-p)*w)/g}):(o=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-Lc+u*d},i=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=rR(o,i,a);if(e=Gn(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const nR=12;function rR(e,t,n){let r=n;for(let o=1;o<nR;o++)r=r-e(r)/t(r);return r}function sd(e,t){return e*Math.sqrt(1-t*t)}const oR=["duration","bounce"],iR=["stiffness","damping","mass"];function vm(e,t){return t.some(n=>e[n]!==void 0)}function sR(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!vm(e,iR)&&vm(e,oR)){const n=tR(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Uw({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:f}=sR({...r,velocity:-dn(r.velocity||0)}),p=d||0,w=l/(2*Math.sqrt(a*c)),g=i-o,x=dn(Math.sqrt(a/c)),v=Math.abs(g)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let m;if(w<1){const y=sd(x,w);m=b=>{const E=Math.exp(-w*x*b);return i-E*((p+w*x*g)/y*Math.sin(y*b)+g*Math.cos(y*b))}}else if(w===1)m=y=>i-Math.exp(-x*y)*(g+(p+x*g)*y);else{const y=x*Math.sqrt(w*w-1);m=b=>{const E=Math.exp(-w*x*b),k=Math.min(y*b,300);return i-E*((p+w*x*g)*Math.sinh(k)+y*g*Math.cosh(k))/y}}return{calculatedDuration:f&&u||null,next:y=>{const b=m(y);if(f)s.done=y>=u;else{let E=p;y!==0&&(w<1?E=Bw(m,y,b):E=0);const k=Math.abs(E)<=n,C=Math.abs(i-b)<=t;s.done=k&&C}return s.value=s.done?i:b,s}}}function ym({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},p=_=>a!==void 0&&_<a||l!==void 0&&_>l,w=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let g=n*t;const x=d+g,v=s===void 0?x:s(x);v!==x&&(g=v-d);const m=_=>-g*Math.exp(-_/r),y=_=>v+m(_),b=_=>{const R=m(_),O=y(_);f.done=Math.abs(R)<=c,f.value=f.done?v:O};let E,k;const C=_=>{p(f.value)&&(E=_,k=Uw({keyframes:[f.value,w(f.value)],velocity:Bw(y,_,f.value),damping:o,stiffness:i,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:_=>{let R=!1;return!k&&E===void 0&&(R=!0,b(_),C(_)),E!==void 0&&_>E?k.next(_-E):(!R&&b(_),f)}}}const aR=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ae.update(t,!0),stop:()=>gn(t),now:()=>De.isProcessing?De.timestamp:performance.now()}},wm=2e4;function xm(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<wm;)t+=n,r=e.next(t);return t>=wm?1/0:t}const lR={decay:ym,inertia:ym,tween:qa,keyframes:qa,spring:Uw};function Ya({autoplay:e=!0,delay:t=0,driver:n=aR,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...f}){let p=1,w=!1,g,x;const v=()=>{x=new Promise(L=>{g=L})};v();let m;const y=lR[o]||qa;let b;y!==qa&&typeof r[0]!="number"&&(b=Fw([0,100],r,{clamp:!1}),r=[0,100]);const E=y({...f,keyframes:r});let k;a==="mirror"&&(k=y({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let C="idle",_=null,R=null,O=null;E.calculatedDuration===null&&i&&(E.calculatedDuration=xm(E));const{calculatedDuration:N}=E;let A=1/0,F=1/0;N!==null&&(A=N+s,F=A*(i+1)-s);let T=0;const V=L=>{if(R===null)return;p>0&&(R=Math.min(R,L)),p<0&&(R=Math.min(L-F/p,R)),_!==null?T=_:T=Math.round(L-R)*p;const W=T-t*(p>=0?1:-1),X=p>=0?W<0:W>F;T=Math.max(W,0),C==="finished"&&_===null&&(T=F);let ve=T,Ne=E;if(i){const ye=Math.min(T,F)/A;let Q=Math.floor(ye),G=ye%1;!G&&ye>=1&&(G=1),G===1&&Q--,Q=Math.min(Q,i+1),!!(Q%2)&&(a==="reverse"?(G=1-G,s&&(G-=s/A)):a==="mirror"&&(Ne=k)),ve=Xn(0,1,G)*A}const oe=X?{done:!1,value:r[0]}:Ne.next(ve);b&&(oe.value=b(oe.value));let{done:B}=oe;!X&&N!==null&&(B=p>=0?T>=F:T<=0);const ne=_===null&&(C==="finished"||C==="running"&&B);return d&&d(oe.value),ne&&P(),oe},I=()=>{m&&m.stop(),m=void 0},U=()=>{C="idle",I(),g(),v(),R=O=null},P=()=>{C="finished",u&&u(),I(),g()},j=()=>{if(w)return;m||(m=n(V));const L=m.now();l&&l(),_!==null?R=L-_:(!R||C==="finished")&&(R=L),C==="finished"&&v(),O=R,_=null,C="running",m.start()};e&&j();const M={then(L,W){return x.then(L,W)},get time(){return dn(T)},set time(L){L=Gn(L),T=L,_!==null||!m||p===0?_=L:R=m.now()-L/p},get duration(){const L=E.calculatedDuration===null?xm(E):E.calculatedDuration;return dn(L)},get speed(){return p},set speed(L){L===p||!m||(p=L,M.time=dn(T))},get state(){return C},play:j,pause:()=>{C="paused",_=T},stop:()=>{w=!0,C!=="idle"&&(C="idle",c&&c(),U())},cancel:()=>{O!==null&&V(O),U()},complete:()=>{C="finished"},sample:L=>(R=0,V(L))};return M}function cR(e){let t;return()=>(t===void 0&&(t=e()),t)}const uR=cR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),dR=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Us=10,fR=2e4,hR=(e,t)=>t.type==="spring"||e==="backgroundColor"||!ww(t.ease);function pR(e,t,{onUpdate:n,onComplete:r,...o}){if(!(uR()&&dR.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const u=()=>{l=new Promise(y=>{a=y})};u();let{keyframes:d,duration:f=300,ease:p,times:w}=o;if(hR(t,o)){const y=Ya({...o,repeat:0,delay:0});let b={done:!1,value:d[0]};const E=[];let k=0;for(;!b.done&&k<fR;)b=y.sample(k),E.push(b.value),k+=Us;w=void 0,d=E,f=k-Us,p="linear"}const g=CT(e.owner.current,t,d,{...o,duration:f,ease:p,times:w}),x=()=>{c=!1,g.cancel()},v=()=>{c=!0,ae.update(x),a(),u()};return g.onfinish=()=>{c||(e.set(_T(d,o)),r&&r(),v())},{then(y,b){return l.then(y,b)},attachTimeline(y){return g.timeline=y,g.onfinish=null,xe},get time(){return dn(g.currentTime||0)},set time(y){g.currentTime=Gn(y)},get speed(){return g.playbackRate},set speed(y){g.playbackRate=y},get duration(){return dn(f)},play:()=>{s||(g.play(),gn(x))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:y}=g;if(y){const b=Ya({...o,autoplay:!1});e.setWithVelocity(b.sample(y-Us).value,b.sample(y).value,Us)}v()},complete:()=>{c||g.finish()},cancel:v}}function mR({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:xe,pause:xe,stop:xe,then:i=>(i(),Promise.resolve()),cancel:xe,complete:xe});return t?Ya({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const gR={type:"spring",stiffness:500,damping:25,restSpeed:10},vR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),yR={type:"keyframes",duration:.8},wR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xR=(e,{keyframes:t})=>t.length>2?yR:Dr.has(e)?e.startsWith("scale")?vR(t[1]):gR:wR,ad=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Jn.test(t)||t==="0")&&!t.startsWith("url(")),SR=new Set(["brightness","contrast","saturate","opacity"]);function bR(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ll)||[];if(!r)return e;const o=n.replace(r,"");let i=SR.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const ER=/([a-z-]*)\(.*?\)/g,ld={...Jn,getAnimatableNone:e=>{const t=e.match(ER);return t?t.map(bR).join(" "):e}},CR={...nw,color:Ue,backgroundColor:Ue,outlineColor:Ue,fill:Ue,stroke:Ue,borderColor:Ue,borderTopColor:Ue,borderRightColor:Ue,borderBottomColor:Ue,borderLeftColor:Ue,filter:ld,WebkitFilter:ld},Yf=e=>CR[e];function zw(e,t){let n=Yf(e);return n!==ld&&(n=Jn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ww=e=>/^0[^.\s]+$/.test(e);function _R(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Ww(e)}function kR(e,t,n,r){const o=ad(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?s:i[c-1]),_R(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(o&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];i[u]=zw(t,a)}return i}function PR({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function Xf(e,t){return e[t]||e.default||e}const TR={skipAnimations:!1},Jf=(e,t,n,r={})=>o=>{const i=Xf(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Gn(s);const l=kR(t,e,n,i),c=l[0],u=l[l.length-1],d=ad(e,c),f=ad(e,u);let p={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:w=>{t.set(w),i.onUpdate&&i.onUpdate(w)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(PR(i)||(p={...p,...xR(e,p)}),p.duration&&(p.duration=Gn(p.duration)),p.repeatDelay&&(p.repeatDelay=Gn(p.repeatDelay)),!d||!f||ET.current||i.type===!1||TR.skipAnimations)return mR(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=pR(t,e,p);if(w)return w}return Ya(p)};function Xa(e){return!!(tt(e)&&e.add)}const Hw=e=>/^\-?\d*\.?\d+$/.test(e);function Qf(e,t){e.indexOf(t)===-1&&e.push(t)}function Zf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class eh{constructor(){this.subscriptions=[]}add(t){return Qf(this.subscriptions,t),()=>Zf(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const RR=e=>!isNaN(parseFloat(e));class AR{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=De;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,ae.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ae.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=RR(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new eh);const r=this.events[t].add(n);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Vw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ao(e,t){return new AR(e,t)}const Kw=e=>t=>t.test(e),$R={test:e=>e==="auto",parse:e=>e},Gw=[Mr,z,Gt,kn,MP,DP,$R],ri=e=>Gw.find(Kw(e)),OR=[...Gw,Ue,Jn],jR=e=>OR.find(Kw(e));function NR(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ao(n))}function IR(e,t){const n=Ml(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=QP(i[s]);NR(e,s,a)}}function LR(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const l=i[a],c=t[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(o=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&o!==void 0?o:t[l]),u!=null&&(typeof u=="string"&&(Hw(u)||Ww(u))?u=parseFloat(u):!jR(u)&&Jn.test(c)&&(u=zw(l,c)),e.addValue(l,Ao(u,{owner:e})),n[l]===void 0&&(n[l]=u),u!==null&&e.setBaseTarget(l,u))}}function DR(e,t){return t?(t[e]||t.default||t).from:void 0}function MR(e,t,n){const r={};for(const o in e){const i=DR(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function FR({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function VR(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function qw(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const c=[],u=o&&e.animationState&&e.animationState.getState()[o];for(const d in a){const f=e.getValue(d),p=a[d];if(!f||p===void 0||u&&FR(u,d))continue;const w={delay:n,elapsed:0,...Xf(i||{},d)};if(window.HandoffAppearAnimations){const v=e.getProps()[Y0];if(v){const m=window.HandoffAppearAnimations(v,d,f,ae);m!==null&&(w.elapsed=m,w.isHandoff=!0)}}let g=!w.isHandoff&&!VR(f,p);if(w.type==="spring"&&(f.getVelocity()||w.velocity)&&(g=!1),f.animation&&(g=!1),g)continue;f.start(Jf(d,f,p,e.shouldReduceMotion&&Dr.has(d)?{type:!1}:w));const x=f.animation;Xa(l)&&(l.add(d),x.then(()=>l.remove(d))),c.push(x)}return s&&Promise.all(c).then(()=>{s&&IR(e,s)}),c}function cd(e,t,n={}){const r=Ml(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(qw(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=o;return BR(e,t,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,c]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>c())}else return Promise.all([i(),s(n.delay)])}function BR(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(UR).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(cd(c,t,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function UR(e,t){return e.sortNodePosition(t)}function zR(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>cd(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=cd(e,t,n);else{const o=typeof t=="function"?Ml(e,t,n.custom):t;r=Promise.all(qw(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const WR=[...If].reverse(),HR=If.length;function KR(e){return t=>Promise.all(t.map(({animation:n,options:r})=>zR(e,n,r)))}function GR(e){let t=KR(e);const n=YR();let r=!0;const o=(l,c)=>{const u=Ml(e,c);if(u){const{transition:d,transitionEnd:f,...p}=u;l={...l,...p,...f}}return l};function i(l){t=l(e)}function s(l,c){const u=e.getProps(),d=e.getVariantContext(!0)||{},f=[],p=new Set;let w={},g=1/0;for(let v=0;v<HR;v++){const m=WR[v],y=n[m],b=u[m]!==void 0?u[m]:d[m],E=Xi(b),k=m===c?y.isActive:null;k===!1&&(g=v);let C=b===d[m]&&b!==u[m]&&E;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...w},!y.isActive&&k===null||!b&&!y.prevProp||Nl(b)||typeof b=="boolean")continue;let R=qR(y.prevProp,b)||m===c&&y.isActive&&!C&&E||v>g&&E,O=!1;const N=Array.isArray(b)?b:[b];let A=N.reduce(o,{});k===!1&&(A={});const{prevResolvedValues:F={}}=y,T={...F,...A},V=I=>{R=!0,p.has(I)&&(O=!0,p.delete(I)),y.needsAnimating[I]=!0};for(const I in T){const U=A[I],P=F[I];if(w.hasOwnProperty(I))continue;let j=!1;Ka(U)&&Ka(P)?j=!vw(U,P):j=U!==P,j?U!==void 0?V(I):p.add(I):U!==void 0&&p.has(I)?V(I):y.protectedKeys[I]=!0}y.prevProp=b,y.prevResolvedValues=A,y.isActive&&(w={...w,...A}),r&&e.blockInitialAnimation&&(R=!1),R&&(!C||O)&&f.push(...N.map(I=>({animation:I,options:{type:m,...l}})))}if(p.size){const v={};p.forEach(m=>{const y=e.getBaseTarget(m);y!==void 0&&(v[m]=y)}),f.push({animation:v})}let x=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(f):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(p=>{var w;return(w=p.animationState)===null||w===void 0?void 0:w.setActive(l,c)}),n[l].isActive=c;const f=s(u,l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function qR(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!vw(t,e):!1}function cr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YR(){return{animate:cr(!0),whileInView:cr(),whileHover:cr(),whileTap:cr(),whileDrag:cr(),whileFocus:cr(),exit:cr()}}class XR extends ar{constructor(t){super(t),t.animationState||(t.animationState=GR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Nl(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let JR=0;class QR extends ar{constructor(){super(...arguments),this.id=JR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const ZR={animation:{Feature:XR},exit:{Feature:QR}},Sm=(e,t)=>Math.abs(e-t);function eA(e,t){const n=Sm(e.x,t.x),r=Sm(e.y,t.y);return Math.sqrt(n**2+r**2)}class Yw{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Mc(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=eA(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:w}=d,{timestamp:g}=De;this.history.push({...w,timestamp:g});const{onStart:x,onMove:v}=this.handlers;f||(x&&x(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Dc(f,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:w,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Mc(d.type==="pointercancel"?this.lastMoveEventInfo:Dc(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,x),w&&w(d,x)},!fw(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const s=Dl(t),a=Dc(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=De;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,Mc(a,this.history)),this.removeListeners=Kn(un(this.contextWindow,"pointermove",this.handlePointerMove),un(this.contextWindow,"pointerup",this.handlePointerUp),un(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gn(this.updatePoint)}}function Dc(e,t){return t?{point:t(e.point)}:e}function bm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Mc({point:e},t){return{point:e,delta:bm(e,Xw(t)),offset:bm(e,tA(t)),velocity:nA(t,.1)}}function tA(e){return e[0]}function Xw(e){return e[e.length-1]}function nA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Xw(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Gn(t)));)n--;if(!r)return{x:0,y:0};const i=dn(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function mt(e){return e.max-e.min}function ud(e,t=0,n=.01){return Math.abs(e-t)<=n}function Em(e,t,n,r=.5){e.origin=r,e.originPoint=pe(t.min,t.max,e.origin),e.scale=mt(n)/mt(t),(ud(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=pe(n.min,n.max,e.origin)-e.originPoint,(ud(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Pi(e,t,n,r){Em(e.x,t.x,n.x,r?r.originX:void 0),Em(e.y,t.y,n.y,r?r.originY:void 0)}function Cm(e,t,n){e.min=n.min+t.min,e.max=e.min+mt(t)}function rA(e,t,n){Cm(e.x,t.x,n.x),Cm(e.y,t.y,n.y)}function _m(e,t,n){e.min=t.min-n.min,e.max=e.min+mt(t)}function Ti(e,t,n){_m(e.x,t.x,n.x),_m(e.y,t.y,n.y)}function oA(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?pe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?pe(n,e,r.max):Math.min(e,n)),e}function km(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function iA(e,{top:t,left:n,bottom:r,right:o}){return{x:km(e.x,n,o),y:km(e.y,t,r)}}function Pm(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function sA(e,t){return{x:Pm(e.x,t.x),y:Pm(e.y,t.y)}}function aA(e,t){let n=.5;const r=mt(e),o=mt(t);return o>r?n=Qi(t.min,t.max-r,e.min):r>o&&(n=Qi(e.min,e.max-o,t.min)),Xn(0,1,n)}function lA(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const dd=.35;function cA(e=dd){return e===!1?e=0:e===!0&&(e=dd),{x:Tm(e,"left","right"),y:Tm(e,"top","bottom")}}function Tm(e,t,n){return{min:Rm(e,t),max:Rm(e,n)}}function Rm(e,t){return typeof e=="number"?e:e[t]||0}const Am=()=>({translate:0,scale:1,origin:0,originPoint:0}),co=()=>({x:Am(),y:Am()}),$m=()=>({min:0,max:0}),Ee=()=>({x:$m(),y:$m()});function xt(e){return[e("x"),e("y")]}function Jw({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function uA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Fc(e){return e===void 0||e===1}function fd({scale:e,scaleX:t,scaleY:n}){return!Fc(e)||!Fc(t)||!Fc(n)}function hr(e){return fd(e)||Qw(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Qw(e){return Om(e.x)||Om(e.y)}function Om(e){return e&&e!=="0%"}function Ja(e,t,n){const r=e-n,o=t*r;return n+o}function jm(e,t,n,r,o){return o!==void 0&&(e=Ja(e,o,r)),Ja(e,n,r)+t}function hd(e,t=0,n=1,r,o){e.min=jm(e.min,t,n,r,o),e.max=jm(e.max,t,n,r,o)}function Zw(e,{x:t,y:n}){hd(e.x,t.translate,t.scale,t.originPoint),hd(e.y,n.translate,n.scale,n.originPoint)}function fA(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&uo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Zw(e,s)),r&&hr(i.latestValues)&&uo(e,i.latestValues))}t.x=Nm(t.x),t.y=Nm(t.y)}function Nm(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function $n(e,t){e.min=e.min+t,e.max=e.max+t}function Im(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=pe(e.min,e.max,i);hd(e,t[n],t[r],s,t.scale)}const hA=["x","scaleX","originX"],pA=["y","scaleY","originY"];function uo(e,t){Im(e.x,t,hA),Im(e.y,t,pA)}function ex(e,t){return Jw(dA(e.getBoundingClientRect(),t))}function mA(e,t,n){const r=ex(e,n),{scroll:o}=t;return o&&($n(r.x,o.offset.x),$n(r.y,o.offset.y)),r}const tx=({current:e})=>e?e.ownerDocument.defaultView:null,gA=new WeakMap;class vA{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dl(u,"page").point)},i=(u,d)=>{const{drag:f,dragPropagation:p,onDragStart:w}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=pw(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xt(x=>{let v=this.getAxisMotionValue(x).get()||0;if(Gt.test(v)){const{projection:m}=this.visualElement;if(m&&m.layout){const y=m.layout.layoutBox[x];y&&(v=mt(y)*(parseFloat(v)/100))}}this.originPoint[x]=v}),w&&ae.update(()=>w(u,d),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(u,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:w,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:x}=d;if(p&&this.currentDirection===null){this.currentDirection=yA(x),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",d.point,x),this.updateAxis("y",d.point,x),this.visualElement.render(),g&&g(u,d)},a=(u,d)=>this.stop(u,d),l=()=>xt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Yw(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:tx(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&ae.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!zs(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=oA(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&ao(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=iA(o.layoutBox,n):this.constraints=!1,this.elastic=cA(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&xt(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=lA(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ao(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=mA(r,o.root,this.visualElement.getTransformPagePoint());let s=sA(o.layout.layoutBox,i);if(n){const a=n(uA(s));this.hasMutatedConstraints=!!a,a&&(s=Jw(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=xt(u=>{if(!zs(u,n,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const f=o?200:1e6,p=o?40:1e7,w={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Jf(t,r,0,n))}stopAnimation(){xt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){xt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){xt(n=>{const{drag:r}=this.getProps();if(!zs(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-pe(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ao(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};xt(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=aA({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xt(s=>{if(!zs(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(pe(l,c,o[s]))})}addListeners(){if(!this.visualElement.current)return;gA.set(this.visualElement,this);const t=this.visualElement.current,n=un(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ao(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=ln(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(xt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=dd,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function zs(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function yA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class wA extends ar{constructor(t){super(t),this.removeGroupControls=xe,this.removeListeners=xe,this.controls=new vA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xe}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lm=e=>(t,n)=>{e&&ae.update(()=>e(t,n))};class xA extends ar{constructor(){super(...arguments),this.removePointerDownListener=xe}onPointerDown(t){this.session=new Yw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Lm(t),onStart:Lm(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&ae.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=un(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function SA(){const e=h.useContext(Ol);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const ha={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Dm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const oi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(z.test(e))e=parseFloat(e);else return e;const n=Dm(e,t.target.x),r=Dm(e,t.target.y);return`${n}% ${r}%`}},bA={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Jn.parse(e);if(o.length>5)return r;const i=Jn.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=l;const c=pe(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=c),typeof o[3+s]=="number"&&(o[3+s]/=c),i(o)}};class EA extends te.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;AP(CA),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ha.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||ae.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nx(e){const[t,n]=SA(),r=h.useContext(Df);return te.createElement(EA,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(J0),isPresent:t,safeToRemove:n})}const CA={borderRadius:{...oi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oi,borderTopRightRadius:oi,borderBottomLeftRadius:oi,borderBottomRightRadius:oi,boxShadow:bA},rx=["TopLeft","TopRight","BottomLeft","BottomRight"],_A=rx.length,Mm=e=>typeof e=="string"?parseFloat(e):e,Fm=e=>typeof e=="number"||z.test(e);function kA(e,t,n,r,o,i){o?(e.opacity=pe(0,n.opacity!==void 0?n.opacity:1,PA(r)),e.opacityExit=pe(t.opacity!==void 0?t.opacity:1,0,TA(r))):i&&(e.opacity=pe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<_A;s++){const a=`border${rx[s]}Radius`;let l=Vm(t,a),c=Vm(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Fm(l)===Fm(c)?(e[a]=Math.max(pe(Mm(l),Mm(c),r),0),(Gt.test(c)||Gt.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=pe(t.rotate||0,n.rotate||0,r))}function Vm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const PA=ox(0,.5,kw),TA=ox(.5,.95,xe);function ox(e,t,n){return r=>r<e?0:r>t?1:n(Qi(e,t,r))}function Bm(e,t){e.min=t.min,e.max=t.max}function yt(e,t){Bm(e.x,t.x),Bm(e.y,t.y)}function Um(e,t,n,r,o){return e-=t,e=Ja(e,1/n,r),o!==void 0&&(e=Ja(e,1/o,r)),e}function RA(e,t=0,n=1,r=.5,o,i=e,s=e){if(Gt.test(t)&&(t=parseFloat(t),t=pe(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=pe(i.min,i.max,r);e===i&&(a-=t),e.min=Um(e.min,t,n,a,o),e.max=Um(e.max,t,n,a,o)}function zm(e,t,[n,r,o],i,s){RA(e,t[n],t[r],t[o],t.scale,i,s)}const AA=["x","scaleX","originX"],$A=["y","scaleY","originY"];function Wm(e,t,n,r){zm(e.x,t,AA,n?n.x:void 0,r?r.x:void 0),zm(e.y,t,$A,n?n.y:void 0,r?r.y:void 0)}function Hm(e){return e.translate===0&&e.scale===1}function ix(e){return Hm(e.x)&&Hm(e.y)}function OA(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function sx(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Km(e){return mt(e.x)/mt(e.y)}class jA{constructor(){this.members=[]}add(t){Qf(this.members,t),t.scheduleRender()}remove(t){if(Zf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Gm(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const NA=(e,t)=>e.depth-t.depth;class IA{constructor(){this.children=[],this.isDirty=!1}add(t){Qf(this.children,t),this.isDirty=!0}remove(t){Zf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(NA),this.isDirty=!1,this.children.forEach(t)}}function LA(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(gn(r),e(i-t))};return ae.read(r,!0),()=>gn(r)}function DA(e){window.MotionDebug&&window.MotionDebug.record(e)}function MA(e){return e instanceof SVGElement&&e.tagName!=="svg"}function FA(e,t,n){const r=tt(e)?e:Ao(e);return r.start(Jf("",r,t,n)),r.animation}const qm=["","X","Y","Z"],VA={visibility:"hidden"},Ym=1e3;let BA=0;const pr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ax({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=BA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,pr.totalNodes=pr.resolvedTargetDeltas=pr.recalculatedProjection=0,this.nodes.forEach(WA),this.nodes.forEach(YA),this.nodes.forEach(XA),this.nodes.forEach(HA),DA(pr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new IA)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new eh),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=MA(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=LA(f,250),ha.hasAnimatedSinceResize&&(ha.hasAnimatedSinceResize=!1,this.nodes.forEach(Jm))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||t$,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),m=!this.targetLayout||!sx(this.targetLayout,w)||p,y=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,y);const b={...Xf(g,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||Jm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JA),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xm);return}this.isUpdating||this.nodes.forEach(GA),this.isUpdating=!1,this.nodes.forEach(qA),this.nodes.forEach(UA),this.nodes.forEach(zA),this.clearAllSnapshots();const a=performance.now();De.delta=Xn(0,1e3/60,a-De.timestamp),De.timestamp=a,De.isProcessing=!0,Rc.update.process(De),Rc.preRender.process(De),Rc.render.process(De),De.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(KA),this.sharedNodes.forEach(QA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!ix(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||hr(this.latestValues)||u)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),n$(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ee();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&($n(a.x,l.offset.x),$n(a.y,l.offset.y)),a}removeElementScroll(s){const a=Ee();yt(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){yt(a,s);const{scroll:f}=this.root;f&&($n(a.x,-f.offset.x),$n(a.y,-f.offset.y))}$n(a.x,u.offset.x),$n(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=Ee();yt(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&uo(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),hr(u.latestValues)&&uo(l,u.latestValues)}return hr(this.latestValues)&&uo(l,this.latestValues),l}removeTransform(s){const a=Ee();yt(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!hr(c.latestValues))continue;fd(c.latestValues)&&c.updateSnapshot();const u=Ee(),d=c.measurePageBox();yt(u,d),Wm(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return hr(this.latestValues)&&Wm(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==De.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=De.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Ti(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yt(this.target,this.layout.layoutBox),Zw(this.target,this.targetDelta)):yt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Ti(this.relativeTargetOrigin,this.target,p.target),yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}pr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fd(this.parent.latestValues)||Qw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===De.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;yt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;fA(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=co(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=co(),this.projectionDeltaWithTransform=co());const g=this.projectionTransform;Pi(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=Gm(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),pr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ee(),p=l?l.source:void 0,w=this.layout?this.layout.source:void 0,g=p!==w,x=this.getStack(),v=!x||x.members.length<=1,m=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(e$));this.animationProgress=0;let y;this.mixTargetDelta=b=>{const E=b/1e3;Qm(d.x,s.x,E),Qm(d.y,s.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ti(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZA(this.relativeTarget,this.relativeTargetOrigin,f,E),y&&OA(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Ee()),yt(y,this.relativeTarget)),g&&(this.animationValues=u,kA(u,c,this.latestValues,E,m,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{ha.hasAnimatedSinceResize=!0,this.currentAnimation=FA(0,Ym,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ym),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&lx(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ee();const d=mt(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const f=mt(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}yt(a,l),uo(a,u),Pi(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new jA),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<qm.length;u++){const d="rotate"+qm[u];l[d]&&(c[d]=l[d],s.setStaticValue(d,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return VA;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=fa(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=fa(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!hr(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=Gm(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:w}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${w.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in Wa){if(f[g]===void 0)continue;const{correct:x,applyTo:v}=Wa[g],m=c.transform==="none"?f[g]:x(f[g],d);if(v){const y=v.length;for(let b=0;b<y;b++)c[v[b]]=m}else c[g]=m}return this.options.layoutId&&(c.pointerEvents=d===this?fa(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Xm),this.root.sharedNodes.clear()}}}function UA(e){e.updateLayout()}function zA(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?xt(d=>{const f=s?n.measuredBox[d]:n.layoutBox[d],p=mt(f);f.min=r[d].min,f.max=f.min+p}):lx(i,n.layoutBox,r)&&xt(d=>{const f=s?n.measuredBox[d]:n.layoutBox[d],p=mt(r[d]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const a=co();Pi(a,r,n.layoutBox);const l=co();s?Pi(l,e.applyTransform(o,!0),n.measuredBox):Pi(l,r,n.layoutBox);const c=!ix(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const w=Ee();Ti(w,n.layoutBox,f.layoutBox);const g=Ee();Ti(g,r,p.layoutBox),sx(w,g)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=w,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function WA(e){pr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function HA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function KA(e){e.clearSnapshot()}function Xm(e){e.clearMeasurements()}function GA(e){e.isLayoutDirty=!1}function qA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Jm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function YA(e){e.resolveTargetDelta()}function XA(e){e.calcProjection()}function JA(e){e.resetRotation()}function QA(e){e.removeLeadSnapshot()}function Qm(e,t,n){e.translate=pe(t.translate,0,n),e.scale=pe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Zm(e,t,n,r){e.min=pe(t.min,n.min,r),e.max=pe(t.max,n.max,r)}function ZA(e,t,n,r){Zm(e.x,t.x,n.x,r),Zm(e.y,t.y,n.y,r)}function e$(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const t$={duration:.45,ease:[.4,0,.1,1]},eg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),tg=eg("applewebkit/")&&!eg("chrome/")?Math.round:xe;function ng(e){e.min=tg(e.min),e.max=tg(e.max)}function n$(e){ng(e.x),ng(e.y)}function lx(e,t,n){return e==="position"||e==="preserve-aspect"&&!ud(Km(t),Km(n),.2)}const r$=ax({attachResizeListener:(e,t)=>ln(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vc={current:void 0},cx=ax({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Vc.current){const e=new r$({});e.mount(window),e.setOptions({layoutScroll:!0}),Vc.current=e}return Vc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),o$={pan:{Feature:xA},drag:{Feature:wA,ProjectionNode:cx,MeasureLayout:nx}},i$=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function s$(e){const t=i$.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function pd(e,t,n=1){const[r,o]=s$(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return Hw(s)?parseFloat(s):s}else return rd(o)?pd(o,t,n+1):o}function a$(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!rd(i))return;const s=pd(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!rd(i))continue;const s=pd(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const l$=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ux=e=>l$.has(e),c$=e=>Object.keys(e).some(ux),rg=e=>e===Mr||e===z,og=(e,t)=>parseFloat(e.split(", ")[t]),ig=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return og(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?og(i[1],e):0}},u$=new Set(["x","y","z"]),d$=ds.filter(e=>!u$.has(e));function f$(e){const t=[];return d$.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const $o={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ig(4,13),y:ig(5,14)};$o.translateX=$o.x;$o.translateY=$o.y;const h$=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{a[c]=$o[c](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const u=t.getValue(c);u&&u.jump(a[c]),e[c]=$o[c](l,i)}),e},p$=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(ux);let i=[],s=!1;const a=[];if(o.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let u=n[l],d=ri(u);const f=t[l];let p;if(Ka(f)){const w=f.length,g=f[0]===null?1:0;u=f[g],d=ri(u);for(let x=g;x<w&&f[x]!==null;x++)p?Hf(ri(f[x])===p):p=ri(f[x])}else p=ri(f);if(d!==p)if(rg(d)&&rg(p)){const w=c.get();typeof w=="string"&&c.set(parseFloat(w)),typeof f=="string"?t[l]=parseFloat(f):Array.isArray(f)&&p===z&&(t[l]=f.map(parseFloat))}else d!=null&&d.transform&&(p!=null&&p.transform)&&(u===0||f===0)?u===0?c.set(p.transform(u)):t[l]=d.transform(f):(s||(i=f$(e),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=h$(t,e,a);return i.length&&i.forEach(([u,d])=>{e.getValue(u).set(d)}),e.render(),jl&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function m$(e,t,n,r){return c$(t)?p$(e,t,n,r):{target:t,transitionEnd:r}}const g$=(e,t,n,r)=>{const o=a$(e,t,r);return t=o.target,r=o.transitionEnd,m$(e,t,n,r)},md={current:null},dx={current:!1};function v$(){if(dx.current=!0,!!jl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>md.current=e.matches;e.addListener(t),t()}else md.current=!1}function y$(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(tt(i))e.addValue(o,i),Xa(r)&&r.add(o);else if(tt(s))e.addValue(o,Ao(i,{owner:e})),Xa(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,Ao(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const sg=new WeakMap,fx=Object.keys(Ji),w$=fx.length,ag=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],x$=Lf.length;class S${constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ae.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=Il(n),this.isVariantNode=X0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const f=u[d];a[d]!==void 0&&tt(f)&&(f.set(a[d],!1),Xa(c)&&c.add(d))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,sg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),dx.current||v$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:md.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sg.delete(this.current),this.projection&&this.projection.unmount(),gn(this.notifyUpdate),gn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Dr.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&ae.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let l=0;l<w$;l++){const c=fx[l],{isEnabled:u,Feature:d,ProjectionNode:f,MeasureLayout:p}=Ji[c];f&&(s=f),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&ao(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ag.length;r++){const o=ag[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=y$(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<x$;r++){const o=Lf[r],i=this.props[o];(Xi(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ao(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=Wf(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!tt(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new eh),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class hx extends S${sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=MR(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){LR(this,r,s);const a=g$(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function b$(e){return window.getComputedStyle(e)}class E$ extends hx{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Dr.has(n)){const r=Yf(n);return r&&r.default||0}else{const r=b$(t),o=(ew(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ex(t,n)}build(t,n,r,o){Ff(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return zf(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;tt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){sw(t,n,r,o)}}class C$ extends hx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Dr.has(n)){const r=Yf(n);return r&&r.default||0}return n=aw.has(n)?n:Nf(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ee()}scrapeMotionValuesFromProps(t,n){return cw(t,n)}build(t,n,r,o){Bf(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){lw(t,n,r,o)}mount(t){this.isSVGTag=Uf(t.tagName),super.mount(t)}}const _$=(e,t)=>Mf(e)?new C$(t,{enableHardwareAcceleration:!1}):new E$(t,{enableHardwareAcceleration:!0}),k$={layout:{ProjectionNode:cx,MeasureLayout:nx}},P$={...ZR,...wT,...o$,...k$},Se=TP((e,t)=>sT(e,t,P$,_$));function px(){const e=h.useRef(!1);return jf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function T$(){const e=px(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>ae.postRender(r),[r]),t]}class R$ extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function A$({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:l}=o.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),h.createElement(R$,{isPresent:t,childRef:r,sizeRef:o},h.cloneElement(e,{ref:r}))}const Bc=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=uw($$),l=h.useId(),c=h.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?void 0:[n]);return h.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=h.createElement(A$,{isPresent:n},e)),h.createElement(Ol.Provider,{value:c},e)};function $$(){return new Map}function O$(e){return h.useEffect(()=>()=>e(),[])}const mr=e=>e.key||"";function j$(e,t){e.forEach(n=>{const r=mr(n);t.set(r,n)})}function N$(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const I$=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=h.useContext(Df).forceRender||T$()[0],l=px(),c=N$(e);let u=c;const d=h.useRef(new Map).current,f=h.useRef(u),p=h.useRef(new Map).current,w=h.useRef(!0);if(jf(()=>{w.current=!1,j$(c,p),f.current=u}),O$(()=>{w.current=!0,p.clear(),d.clear()}),w.current)return h.createElement(h.Fragment,null,u.map(m=>h.createElement(Bc,{key:mr(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},m)));u=[...u];const g=f.current.map(mr),x=c.map(mr),v=g.length;for(let m=0;m<v;m++){const y=g[m];x.indexOf(y)===-1&&!d.has(y)&&d.set(y,void 0)}return s==="wait"&&d.size&&(u=[]),d.forEach((m,y)=>{if(x.indexOf(y)!==-1)return;const b=p.get(y);if(!b)return;const E=g.indexOf(y);let k=m;if(!k){const C=()=>{d.delete(y);const _=Array.from(p.keys()).filter(R=>!x.includes(R));if(_.forEach(R=>p.delete(R)),f.current=c.filter(R=>{const O=mr(R);return O===y||_.includes(O)}),!d.size){if(l.current===!1)return;a(),r&&r()}};k=h.createElement(Bc,{key:mr(b),isPresent:!1,onExitComplete:C,custom:t,presenceAffectsLayout:i,mode:s},b),d.set(y,k)}u.splice(E,0,k)}),u=u.map(m=>{const y=m.key;return d.has(y)?m:h.createElement(Bc,{key:mr(m),isPresent:!0,presenceAffectsLayout:i,mode:s},m)}),h.createElement(h.Fragment,null,d.size?u:u.map(m=>h.cloneElement(m)))};var L$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const D$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xt=(e,t)=>{const n=h.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:s,children:a,...l},c)=>h.createElement("svg",{ref:c,...L$,width:o,height:o,stroke:r,strokeWidth:s?Number(i)*24/Number(o):i,className:`lucide lucide-${D$(e)}`,...l},[...t.map(([u,d])=>h.createElement(u,d)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${e}`,n},M$=Xt("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]),F$=Xt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),V$=Xt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),B$=Xt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Qa=Xt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),U$=Xt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),z$=Xt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),W$=Xt("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),H$=Xt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),K$=Xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function G$({balance:e}){return S.jsxs(Se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-white/20 dark:bg-gray-800/20 backdrop-blur-sm px-3 py-1.5 rounded-full",children:[S.jsx(Qa,{className:"w-4 h-4 text-yellow-500"}),S.jsxs("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:[e," crditos"]})]})}const lg=2500,mx=100,q$={PAPITO1830:200};function Oo(){const e=localStorage.getItem("tokenBalance");return e?parseInt(e):(localStorage.setItem("tokenBalance",lg.toString()),lg)}function th(e){const t=Math.max(0,e);return localStorage.setItem("tokenBalance",t.toString()),t}function nh(e){if(!(e!=null&&e.usage))return 10;const t=e.usage.prompt_tokens||0,n=e.usage.completion_tokens||0,r=t+n;return Math.ceil(r/mx)}function Fl(e,t=1e3){const n=t?Math.ceil(t/mx):10;return e>=n}const cg=100,ug=250;function Za(e){if(e){const t=localStorage.getItem("creditBalanceRegistered");return t?parseInt(t):(localStorage.setItem("creditBalanceRegistered",ug.toString()),ug)}else{const t=localStorage.getItem("creditBalanceGuest");return t?parseInt(t):(localStorage.setItem("creditBalanceGuest",cg.toString()),cg)}}function Y$(e,t){const n=t?"creditBalanceRegistered":"creditBalanceGuest",r=Math.max(0,e);return localStorage.setItem(n,r.toString()),r}function X$(e,t){const n=e.toUpperCase().trim(),r=q$[n];if(!r)return!1;const o=Za(t)+r;return Y$(o,t),!0}var gx="https://js.stripe.com/v3",J$=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,dg="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Q$=function(){for(var t=document.querySelectorAll('script[src^="'.concat(gx,'"]')),n=0;n<t.length;n++){var r=t[n];if(J$.test(r.src))return r}return null},fg=function(t){var n=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(gx).concat(n);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(r),r},Z$=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:n})},ii=null,Ws=null,Hs=null,eO=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},tO=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},nO=function(t){return ii!==null?ii:(ii=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(dg),window.Stripe){n(window.Stripe);return}try{var o=Q$();if(o&&t)console.warn(dg);else if(!o)o=fg(t);else if(o&&Hs!==null&&Ws!==null){var i;o.removeEventListener("load",Hs),o.removeEventListener("error",Ws),(i=o.parentNode)===null||i===void 0||i.removeChild(o),o=fg(t)}Hs=tO(n,r),Ws=eO(r),o.addEventListener("load",Hs),o.addEventListener("error",Ws)}catch(s){r(s);return}}),ii.catch(function(n){return ii=null,Promise.reject(n)}))},rO=function(t,n,r){if(t===null)return null;var o=t.apply(void 0,n);return Z$(o,r),o},si,vx=!1,yx=function(){return si||(si=nO(null).catch(function(t){return si=null,Promise.reject(t)}),si)};Promise.resolve().then(function(){return yx()}).catch(function(e){vx||console.warn(e)});var oO=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];vx=!0;var o=Date.now();return yx().then(function(i){return rO(i,n,o)})};oO("pk_test_51RK4poFxcC3JoMUgSqoYeQNqr9ax5cb6Xrw8b1GrCv2JBSxsuSCmUPklz5HdYtQxocgyRzMbvWIczSNQjHhSPvAj00asXeWI5i");function rh({onClose:e}){const{user:t}=us(),n=!!t,[r,o]=h.useState(""),[i,s]=h.useState(!1),{toast:a}=sr(),l=async u=>{try{s(!0);const f=await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:"price_1RKN9n4b3EUDOM1gZ9XfLpSa"})});let p;try{p=await f.json()}catch{throw new Error("Respuesta invlida del servidor")}if(f.ok&&p.url)window.location.href=p.url;else throw new Error((p==null?void 0:p.error)||"No se pudo crear la sesin de pago")}catch(d){a({title:"Error en el proceso de pago",description:d.message,variant:"destructive"})}finally{s(!1)}},c=()=>{X$(r,n)?(a({title:"Cdigo promocional aplicado!",description:"Se han aadido crditos a tu saldo",variant:"success"}),e()):a({title:"Cdigo no vlido",description:"Cdigo invlido o ya usado",variant:"destructive"})};return S.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:S.jsxs(Se.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-md w-full space-y-6 max-h-[90vh] overflow-y-auto",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Comprar Crditos"}),S.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:"1 crdito = 1 uso (ver condiciones)"}),S.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Elige un paquete de crditos para seguir creando historias"})]}),S.jsx("div",{className:"space-y-4",children:S.jsxs(Se.div,{whileHover:{scale:1.02},className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-2 rounded-full",children:S.jsx(Qa,{className:"w-6 h-6 text-yellow-500"})}),S.jsxs("div",{children:[S.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"1000 crditos"}),S.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"1000 crditos para crear historias e imgenes"})]})]}),S.jsx("div",{className:"text-right",children:S.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:"5.00"})})]}),S.jsxs(he,{onClick:()=>l(),disabled:i,className:"w-full bg-blue-500 hover:bg-blue-600",children:[S.jsx(U$,{className:"w-4 h-4 mr-2"}),i?"Procesando...":"Comprar"]})]})}),S.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:S.jsxs("ul",{className:"list-disc ml-4",children:[S.jsxs("li",{children:["Coste por trama sin imagen: ",S.jsx("b",{children:"3 crditos"})]}),S.jsxs("li",{children:["Coste por trama con imagen: ",S.jsx("b",{children:"8 crditos"})]})]})}),S.jsx("div",{className:"space-y-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",value:r,onChange:u=>o(u.target.value.toUpperCase()),placeholder:"Cdigo promocional",className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),S.jsx(he,{onClick:c,disabled:i,className:"bg-purple-500 hover:bg-purple-600",children:"Aplicar"})]})}),S.jsx(he,{variant:"outline",onClick:e,disabled:i,className:"w-full",children:"Cerrar"})]})})}function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(null,arguments)}function hg(e,[t,n]){return Math.min(n,Math.max(t,e))}function We(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function oh(e,t=[]){let n=[];function r(i,s){const a=h.createContext(s),l=n.length;n=[...n,s];function c(d){const{scope:f,children:p,...w}=d,g=(f==null?void 0:f[e][l])||a,x=h.useMemo(()=>w,Object.values(w));return h.createElement(g.Provider,{value:x},p)}function u(d,f){const p=(f==null?void 0:f[e][l])||a,w=h.useContext(p);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const o=()=>{const i=n.map(s=>h.createContext(s));return function(a){const l=(a==null?void 0:a[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,iO(o,...t)]}function iO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function sO(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function wx(...e){return t=>e.forEach(n=>sO(n,t))}function nt(...e){return h.useCallback(wx(...e),e)}const Zi=h.forwardRef((e,t)=>{const{children:n,...r}=e,o=h.Children.toArray(n),i=o.find(lO);if(i){const s=i.props.children,a=o.map(l=>l===i?h.Children.count(s)>1?h.Children.only(null):h.isValidElement(s)?s.props.children:null:l);return h.createElement(gd,re({},r,{ref:t}),h.isValidElement(s)?h.cloneElement(s,void 0,a):null)}return h.createElement(gd,re({},r,{ref:t}),n)});Zi.displayName="Slot";const gd=h.forwardRef((e,t)=>{const{children:n,...r}=e;return h.isValidElement(n)?h.cloneElement(n,{...cO(r,n.props),ref:t?wx(t,n.ref):n.ref}):h.Children.count(n)>1?h.Children.only(null):null});gd.displayName="SlotClone";const aO=({children:e})=>h.createElement(h.Fragment,null,e);function lO(e){return h.isValidElement(e)&&e.type===aO}function cO(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{i(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function uO(e){const t=e+"CollectionProvider",[n,r]=oh(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:w,children:g}=p,x=te.useRef(null),v=te.useRef(new Map).current;return te.createElement(o,{scope:w,itemMap:v,collectionRef:x},g)},a=e+"CollectionSlot",l=te.forwardRef((p,w)=>{const{scope:g,children:x}=p,v=i(a,g),m=nt(w,v.collectionRef);return te.createElement(Zi,{ref:m},x)}),c=e+"CollectionItemSlot",u="data-radix-collection-item",d=te.forwardRef((p,w)=>{const{scope:g,children:x,...v}=p,m=te.useRef(null),y=nt(w,m),b=i(c,g);return te.useEffect(()=>(b.itemMap.set(m,{ref:m,...v}),()=>void b.itemMap.delete(m))),te.createElement(Zi,{[u]:"",ref:y},x)});function f(p){const w=i(e+"CollectionConsumer",p);return te.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((b,E)=>v.indexOf(b.ref.current)-v.indexOf(E.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:l,ItemSlot:d},f,r]}const dO=h.createContext(void 0);function fO(e){const t=h.useContext(dO);return e||t||"ltr"}const hO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=hO.reduce((e,t)=>{const n=h.forwardRef((r,o)=>{const{asChild:i,...s}=r,a=i?Zi:t;return h.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),h.createElement(a,re({},s,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function pO(e,t){e&&or.flushSync(()=>e.dispatchEvent(t))}function vn(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function mO(e,t=globalThis==null?void 0:globalThis.document){const n=vn(e);h.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const vd="dismissableLayer.update",gO="dismissableLayer.pointerDownOutside",vO="dismissableLayer.focusOutside";let pg;const yO=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wO=h.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=e,u=h.useContext(yO),[d,f]=h.useState(null),p=(n=d==null?void 0:d.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,w]=h.useState({}),g=nt(t,_=>f(_)),x=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),m=x.indexOf(v),y=d?x.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,E=y>=m,k=xO(_=>{const R=_.target,O=[...u.branches].some(N=>N.contains(R));!E||O||(i==null||i(_),a==null||a(_),_.defaultPrevented||l==null||l())},p),C=SO(_=>{const R=_.target;[...u.branches].some(N=>N.contains(R))||(s==null||s(_),a==null||a(_),_.defaultPrevented||l==null||l())},p);return mO(_=>{y===u.layers.size-1&&(o==null||o(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},p),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(pg=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),mg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=pg)}},[d,p,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),mg())},[d,u]),h.useEffect(()=>{const _=()=>w({});return document.addEventListener(vd,_),()=>document.removeEventListener(vd,_)},[]),h.createElement(Ve.div,re({},c,{ref:g,style:{pointerEvents:b?E?"auto":"none":void 0,...e.style},onFocusCapture:We(e.onFocusCapture,C.onFocusCapture),onBlurCapture:We(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:We(e.onPointerDownCapture,k.onPointerDownCapture)}))});function xO(e,t=globalThis==null?void 0:globalThis.document){const n=vn(e),r=h.useRef(!1),o=h.useRef(()=>{});return h.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){xx(gO,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function SO(e,t=globalThis==null?void 0:globalThis.document){const n=vn(e),r=h.useRef(!1);return h.useEffect(()=>{const o=i=>{i.target&&!r.current&&xx(vO,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mg(){const e=new CustomEvent(vd);document.dispatchEvent(e)}function xx(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?pO(o,i):o.dispatchEvent(i)}let Uc=0;function bO(){h.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:gg()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:gg()),Uc++,()=>{Uc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Uc--}},[])}function gg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const zc="focusScope.autoFocusOnMount",Wc="focusScope.autoFocusOnUnmount",vg={bubbles:!1,cancelable:!0},EO=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=e,[a,l]=h.useState(null),c=vn(o),u=vn(i),d=h.useRef(null),f=nt(t,g=>l(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let g=function(y){if(p.paused||!a)return;const b=y.target;a.contains(b)?d.current=b:Pn(d.current,{select:!0})},x=function(y){if(p.paused||!a)return;const b=y.relatedTarget;b!==null&&(a.contains(b)||Pn(d.current,{select:!0}))},v=function(y){if(document.activeElement===document.body)for(const E of y)E.removedNodes.length>0&&Pn(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const m=new MutationObserver(v);return a&&m.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),m.disconnect()}}},[r,a,p.paused]),h.useEffect(()=>{if(a){wg.add(p);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(zc,vg);a.addEventListener(zc,c),a.dispatchEvent(v),v.defaultPrevented||(CO(RO(Sx(a)),{select:!0}),document.activeElement===g&&Pn(a))}return()=>{a.removeEventListener(zc,c),setTimeout(()=>{const v=new CustomEvent(Wc,vg);a.addEventListener(Wc,u),a.dispatchEvent(v),v.defaultPrevented||Pn(g??document.body,{select:!0}),a.removeEventListener(Wc,u),wg.remove(p)},0)}}},[a,c,u,p]);const w=h.useCallback(g=>{if(!n&&!r||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(x&&v){const m=g.currentTarget,[y,b]=_O(m);y&&b?!g.shiftKey&&v===b?(g.preventDefault(),n&&Pn(y,{select:!0})):g.shiftKey&&v===y&&(g.preventDefault(),n&&Pn(b,{select:!0})):v===m&&g.preventDefault()}},[n,r,p.paused]);return h.createElement(Ve.div,re({tabIndex:-1},s,{ref:f,onKeyDown:w}))});function CO(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Pn(r,{select:t}),document.activeElement!==n)return}function _O(e){const t=Sx(e),n=yg(t,e),r=yg(t.reverse(),e);return[n,r]}function Sx(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yg(e,t){for(const n of e)if(!kO(n,{upTo:t}))return n}function kO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function PO(e){return e instanceof HTMLInputElement&&"select"in e}function Pn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&PO(e)&&t&&e.select()}}const wg=TO();function TO(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=xg(e,t),e.unshift(t)},remove(t){var n;e=xg(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function xg(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function RO(e){return e.filter(t=>t.tagName!=="A")}const yn=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},AO=jd["useId".toString()]||(()=>{});let $O=0;function bx(e){const[t,n]=h.useState(AO());return yn(()=>{e||n(r=>r??String($O++))},[e]),e||(t?`radix-${t}`:"")}const OO=["top","right","bottom","left"],Qn=Math.min,at=Math.max,el=Math.round,Ks=Math.floor,qt=e=>({x:e,y:e}),jO={left:"right",right:"left",bottom:"top",top:"bottom"},NO={start:"end",end:"start"};function yd(e,t,n){return at(e,Qn(t,n))}function wn(e,t){return typeof e=="function"?e(t):e}function xn(e){return e.split("-")[0]}function Uo(e){return e.split("-")[1]}function ih(e){return e==="x"?"y":"x"}function sh(e){return e==="y"?"height":"width"}function Zn(e){return["top","bottom"].includes(xn(e))?"y":"x"}function ah(e){return ih(Zn(e))}function IO(e,t,n){n===void 0&&(n=!1);const r=Uo(e),o=ah(e),i=sh(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=tl(s)),[s,tl(s)]}function LO(e){const t=tl(e);return[wd(e),t,wd(t)]}function wd(e){return e.replace(/start|end/g,t=>NO[t])}function DO(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function MO(e,t,n,r){const o=Uo(e);let i=DO(xn(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(wd)))),i}function tl(e){return e.replace(/left|right|bottom|top/g,t=>jO[t])}function FO(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ex(e){return typeof e!="number"?FO(e):{top:e,right:e,bottom:e,left:e}}function nl(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Sg(e,t,n){let{reference:r,floating:o}=e;const i=Zn(t),s=ah(t),a=sh(s),l=xn(t),c=i==="y",u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[a]/2-o[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-o.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-o.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Uo(t)){case"start":p[s]-=f*(n&&c?-1:1);break;case"end":p[s]+=f*(n&&c?-1:1);break}return p}const VO=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=Sg(c,r,l),f=r,p={},w=0;for(let g=0;g<a.length;g++){const{name:x,fn:v}=a[g],{x:m,y,data:b,reset:E}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=m??u,d=y??d,p={...p,[x]:{...p[x],...b}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:u,y:d}=Sg(c,f,l)),g=-1)}return{x:u,y:d,placement:f,strategy:o,middlewareData:p}};async function es(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=wn(t,e),w=Ex(p),x=a[f?d==="floating"?"reference":"floating":d],v=nl(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),m=d==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},E=nl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:y,strategy:l}):m);return{top:(v.top-E.top+w.top)/b.y,bottom:(E.bottom-v.bottom+w.bottom)/b.y,left:(v.left-E.left+w.left)/b.x,right:(E.right-v.right+w.right)/b.x}}const BO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=wn(e,t)||{};if(c==null)return{};const d=Ex(u),f={x:n,y:r},p=ah(o),w=sh(p),g=await s.getDimensions(c),x=p==="y",v=x?"top":"left",m=x?"bottom":"right",y=x?"clientHeight":"clientWidth",b=i.reference[w]+i.reference[p]-f[p]-i.floating[w],E=f[p]-i.reference[p],k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let C=k?k[y]:0;(!C||!await(s.isElement==null?void 0:s.isElement(k)))&&(C=a.floating[y]||i.floating[w]);const _=b/2-E/2,R=C/2-g[w]/2-1,O=Qn(d[v],R),N=Qn(d[m],R),A=O,F=C-g[w]-N,T=C/2-g[w]/2+_,V=yd(A,T,F),I=!l.arrow&&Uo(o)!=null&&T!==V&&i.reference[w]/2-(T<A?O:N)-g[w]/2<0,U=I?T<A?T-A:T-F:0;return{[p]:f[p]+U,data:{[p]:V,centerOffset:T-V-U,...I&&{alignmentOffset:U}},reset:I}}}),UO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...x}=wn(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=xn(o),m=Zn(a),y=xn(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(y||!g?[tl(a)]:LO(a)),k=w!=="none";!f&&k&&E.push(...MO(a,g,w,b));const C=[a,...E],_=await es(t,x),R=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&R.push(_[v]),d){const T=IO(o,s,b);R.push(_[T[0]],_[T[1]])}if(O=[...O,{placement:o,overflows:R}],!R.every(T=>T<=0)){var N,A;const T=(((N=i.flip)==null?void 0:N.index)||0)+1,V=C[T];if(V)return{data:{index:T,overflows:O},reset:{placement:V}};let I=(A=O.filter(U=>U.overflows[0]<=0).sort((U,P)=>U.overflows[1]-P.overflows[1])[0])==null?void 0:A.placement;if(!I)switch(p){case"bestFit":{var F;const U=(F=O.filter(P=>{if(k){const j=Zn(P.placement);return j===m||j==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(j=>j>0).reduce((j,M)=>j+M,0)]).sort((P,j)=>P[1]-j[1])[0])==null?void 0:F[0];U&&(I=U);break}case"initialPlacement":I=a;break}if(o!==I)return{reset:{placement:I}}}return{}}}};function bg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Eg(e){return OO.some(t=>e[t]>=0)}const zO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=wn(e,t);switch(r){case"referenceHidden":{const i=await es(t,{...o,elementContext:"reference"}),s=bg(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Eg(s)}}}case"escaped":{const i=await es(t,{...o,altBoundary:!0}),s=bg(i,n.floating);return{data:{escapedOffsets:s,escaped:Eg(s)}}}default:return{}}}}};async function WO(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=xn(n),a=Uo(n),l=Zn(n)==="y",c=["left","top"].includes(s)?-1:1,u=i&&l?-1:1,d=wn(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof w=="number"&&(p=a==="end"?w*-1:w),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const HO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=t,l=await WO(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},KO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:x=>{let{x:v,y:m}=x;return{x:v,y:m}}},...l}=wn(e,t),c={x:n,y:r},u=await es(t,l),d=Zn(xn(o)),f=ih(d);let p=c[f],w=c[d];if(i){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",m=p+u[x],y=p-u[v];p=yd(m,p,y)}if(s){const x=d==="y"?"top":"left",v=d==="y"?"bottom":"right",m=w+u[x],y=w-u[v];w=yd(m,w,y)}const g=a.fn({...t,[f]:p,[d]:w});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[d]:s}}}}}},GO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=wn(e,t),u={x:n,y:r},d=Zn(o),f=ih(d);let p=u[f],w=u[d];const g=wn(a,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const y=f==="y"?"height":"width",b=i.reference[f]-i.floating[y]+x.mainAxis,E=i.reference[f]+i.reference[y]-x.mainAxis;p<b?p=b:p>E&&(p=E)}if(c){var v,m;const y=f==="y"?"width":"height",b=["top","left"].includes(xn(o)),E=i.reference[d]-i.floating[y]+(b&&((v=s.offset)==null?void 0:v[d])||0)+(b?0:x.crossAxis),k=i.reference[d]+i.reference[y]+(b?0:((m=s.offset)==null?void 0:m[d])||0)-(b?x.crossAxis:0);w<E?w=E:w>k&&(w=k)}return{[f]:p,[d]:w}}}},qO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:l=()=>{},...c}=wn(e,t),u=await es(t,c),d=xn(o),f=Uo(o),p=Zn(o)==="y",{width:w,height:g}=i.floating;let x,v;d==="top"||d==="bottom"?(x=d,v=f===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,x=f==="end"?"top":"bottom");const m=g-u.top-u.bottom,y=w-u.left-u.right,b=Qn(g-u[x],m),E=Qn(w-u[v],y),k=!t.middlewareData.shift;let C=b,_=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=m),k&&!f){const O=at(u.left,0),N=at(u.right,0),A=at(u.top,0),F=at(u.bottom,0);p?_=w-2*(O!==0||N!==0?O+N:at(u.left,u.right)):C=g-2*(A!==0||F!==0?A+F:at(u.top,u.bottom))}await l({...t,availableWidth:_,availableHeight:C});const R=await s.getDimensions(a.floating);return w!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function Vl(){return typeof window<"u"}function zo(e){return Cx(e)?(e.nodeName||"").toLowerCase():"#document"}function ft(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jt(e){var t;return(t=(Cx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Cx(e){return Vl()?e instanceof Node||e instanceof ft(e).Node:!1}function Dt(e){return Vl()?e instanceof Element||e instanceof ft(e).Element:!1}function Yt(e){return Vl()?e instanceof HTMLElement||e instanceof ft(e).HTMLElement:!1}function Cg(e){return!Vl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ft(e).ShadowRoot}function ms(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Mt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function YO(e){return["table","td","th"].includes(zo(e))}function Bl(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function lh(e){const t=ch(),n=Dt(e)?Mt(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function XO(e){let t=er(e);for(;Yt(t)&&!jo(t);){if(lh(t))return t;if(Bl(t))return null;t=er(t)}return null}function ch(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jo(e){return["html","body","#document"].includes(zo(e))}function Mt(e){return ft(e).getComputedStyle(e)}function Ul(e){return Dt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function er(e){if(zo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Cg(e)&&e.host||Jt(e);return Cg(t)?t.host:t}function _x(e){const t=er(e);return jo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yt(t)&&ms(t)?t:_x(t)}function ts(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=_x(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ft(o);if(i){const a=xd(s);return t.concat(s,s.visualViewport||[],ms(o)?o:[],a&&n?ts(a):[])}return t.concat(o,ts(o,[],n))}function xd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kx(e){const t=Mt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Yt(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=el(n)!==i||el(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function uh(e){return Dt(e)?e:e.contextElement}function wo(e){const t=uh(e);if(!Yt(t))return qt(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=kx(t);let s=(i?el(n.width):n.width)/r,a=(i?el(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const JO=qt(0);function Px(e){const t=ft(e);return!ch()||!t.visualViewport?JO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ft(e)?!1:t}function $r(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=uh(e);let s=qt(1);t&&(r?Dt(r)&&(s=wo(r)):s=wo(e));const a=QO(i,n,r)?Px(i):qt(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,d=o.height/s.y;if(i){const f=ft(i),p=r&&Dt(r)?ft(r):r;let w=f,g=xd(w);for(;g&&r&&p!==w;){const x=wo(g),v=g.getBoundingClientRect(),m=Mt(g),y=v.left+(g.clientLeft+parseFloat(m.paddingLeft))*x.x,b=v.top+(g.clientTop+parseFloat(m.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,d*=x.y,l+=y,c+=b,w=ft(g),g=xd(w)}}return nl({width:u,height:d,x:l,y:c})}function dh(e,t){const n=Ul(e).scrollLeft;return t?t.left+n:$r(Jt(e)).left+n}function Tx(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:dh(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function ZO(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=Jt(r),a=t?Bl(t.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=qt(1);const u=qt(0),d=Yt(r);if((d||!d&&!i)&&((zo(r)!=="body"||ms(s))&&(l=Ul(r)),Yt(r))){const p=$r(r);c=wo(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=s&&!d&&!i?Tx(s,l,!0):qt(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function ej(e){return Array.from(e.getClientRects())}function tj(e){const t=Jt(e),n=Ul(e),r=e.ownerDocument.body,o=at(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=at(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+dh(e);const a=-n.scrollTop;return Mt(r).direction==="rtl"&&(s+=at(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function nj(e,t){const n=ft(e),r=Jt(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const c=ch();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function rj(e,t){const n=$r(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Yt(e)?wo(e):qt(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,c=r*i.y;return{width:s,height:a,x:l,y:c}}function _g(e,t,n){let r;if(t==="viewport")r=nj(e,n);else if(t==="document")r=tj(Jt(e));else if(Dt(t))r=rj(t,n);else{const o=Px(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return nl(r)}function Rx(e,t){const n=er(e);return n===t||!Dt(n)||jo(n)?!1:Mt(n).position==="fixed"||Rx(n,t)}function oj(e,t){const n=t.get(e);if(n)return n;let r=ts(e,[],!1).filter(a=>Dt(a)&&zo(a)!=="body"),o=null;const i=Mt(e).position==="fixed";let s=i?er(e):e;for(;Dt(s)&&!jo(s);){const a=Mt(s),l=lh(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ms(s)&&!l&&Rx(e,s))?r=r.filter(u=>u!==s):o=a,s=er(s)}return t.set(e,r),r}function ij(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Bl(t)?[]:oj(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=_g(t,u,o);return c.top=at(d.top,c.top),c.right=Qn(d.right,c.right),c.bottom=Qn(d.bottom,c.bottom),c.left=at(d.left,c.left),c},_g(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sj(e){const{width:t,height:n}=kx(e);return{width:t,height:n}}function aj(e,t,n){const r=Yt(t),o=Jt(t),i=n==="fixed",s=$r(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=qt(0);if(r||!r&&!i)if((zo(t)!=="body"||ms(o))&&(a=Ul(t)),r){const f=$r(t,!0,i,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else o&&(l.x=dh(o));const c=o&&!r&&!i?Tx(o,a):qt(0),u=s.left+a.scrollLeft-l.x-c.x,d=s.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:s.width,height:s.height}}function Hc(e){return Mt(e).position==="static"}function kg(e,t){if(!Yt(e)||Mt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Jt(e)===n&&(n=n.ownerDocument.body),n}function Ax(e,t){const n=ft(e);if(Bl(e))return n;if(!Yt(e)){let o=er(e);for(;o&&!jo(o);){if(Dt(o)&&!Hc(o))return o;o=er(o)}return n}let r=kg(e,t);for(;r&&YO(r)&&Hc(r);)r=kg(r,t);return r&&jo(r)&&Hc(r)&&!lh(r)?n:r||XO(e)||n}const lj=async function(e){const t=this.getOffsetParent||Ax,n=this.getDimensions,r=await n(e.floating);return{reference:aj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function cj(e){return Mt(e).direction==="rtl"}const uj={convertOffsetParentRelativeRectToViewportRelativeRect:ZO,getDocumentElement:Jt,getClippingRect:ij,getOffsetParent:Ax,getElementRects:lj,getClientRects:ej,getDimensions:sj,getScale:wo,isElement:Dt,isRTL:cj};function $x(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dj(e,t){let n=null,r;const o=Jt(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=c;if(a||t(),!f||!p)return;const w=Ks(d),g=Ks(o.clientWidth-(u+f)),x=Ks(o.clientHeight-(d+p)),v=Ks(u),y={rootMargin:-w+"px "+-g+"px "+-x+"px "+-v+"px",threshold:at(0,Qn(1,l))||1};let b=!0;function E(k){const C=k[0].intersectionRatio;if(C!==l){if(!b)return s();C?s(!1,C):r=setTimeout(()=>{s(!1,1e-7)},1e3)}C===1&&!$x(c,e.getBoundingClientRect())&&s(),b=!1}try{n=new IntersectionObserver(E,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,y)}n.observe(e)}return s(!0),i}function fj(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=uh(e),u=o||i?[...c?ts(c):[],...ts(t)]:[];u.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=c&&a?dj(c,n):null;let f=-1,p=null;s&&(p=new ResizeObserver(v=>{let[m]=v;m&&m.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let w,g=l?$r(e):null;l&&x();function x(){const v=$r(e);g&&!$x(g,v)&&n(),g=v,w=requestAnimationFrame(x)}return n(),()=>{var v;u.forEach(m=>{o&&m.removeEventListener("scroll",n),i&&m.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(w)}}const hj=HO,pj=KO,mj=UO,gj=qO,vj=zO,Pg=BO,yj=GO,wj=(e,t,n)=>{const r=new Map,o={platform:uj,...n},i={...o.platform,_c:r};return VO(e,t,{...o,platform:i})};var pa=typeof document<"u"?h.useLayoutEffect:h.useEffect;function rl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!rl(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!rl(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Ox(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Tg(e,t){const n=Ox(e);return Math.round(t*n)/n}function Kc(e){const t=h.useRef(e);return pa(()=>{t.current=e}),t}function xj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=h.useState(r);rl(f,r)||p(r);const[w,g]=h.useState(null),[x,v]=h.useState(null),m=h.useCallback(P=>{P!==k.current&&(k.current=P,g(P))},[]),y=h.useCallback(P=>{P!==C.current&&(C.current=P,v(P))},[]),b=i||w,E=s||x,k=h.useRef(null),C=h.useRef(null),_=h.useRef(u),R=l!=null,O=Kc(l),N=Kc(o),A=Kc(c),F=h.useCallback(()=>{if(!k.current||!C.current)return;const P={placement:t,strategy:n,middleware:f};N.current&&(P.platform=N.current),wj(k.current,C.current,P).then(j=>{const M={...j,isPositioned:A.current!==!1};T.current&&!rl(_.current,M)&&(_.current=M,or.flushSync(()=>{d(M)}))})},[f,t,n,N,A]);pa(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,d(P=>({...P,isPositioned:!1})))},[c]);const T=h.useRef(!1);pa(()=>(T.current=!0,()=>{T.current=!1}),[]),pa(()=>{if(b&&(k.current=b),E&&(C.current=E),b&&E){if(O.current)return O.current(b,E,F);F()}},[b,E,F,O,R]);const V=h.useMemo(()=>({reference:k,floating:C,setReference:m,setFloating:y}),[m,y]),I=h.useMemo(()=>({reference:b,floating:E}),[b,E]),U=h.useMemo(()=>{const P={position:n,left:0,top:0};if(!I.floating)return P;const j=Tg(I.floating,u.x),M=Tg(I.floating,u.y);return a?{...P,transform:"translate("+j+"px, "+M+"px)",...Ox(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:M}},[n,a,I.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:F,refs:V,elements:I,floatingStyles:U}),[u,F,V,I,U])}const Sj=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Pg({element:r.current,padding:o}).fn(n):{}:r?Pg({element:r,padding:o}).fn(n):{}}}},bj=(e,t)=>({...hj(e),options:[e,t]}),Ej=(e,t)=>({...pj(e),options:[e,t]}),Cj=(e,t)=>({...yj(e),options:[e,t]}),_j=(e,t)=>({...mj(e),options:[e,t]}),kj=(e,t)=>({...gj(e),options:[e,t]}),Pj=(e,t)=>({...vj(e),options:[e,t]}),Tj=(e,t)=>({...Sj(e),options:[e,t]});function Rj(e){const[t,n]=h.useState(void 0);return yn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const jx="Popper",[Nx,Ix]=oh(jx),[Aj,Lx]=Nx(jx),$j=e=>{const{__scopePopper:t,children:n}=e,[r,o]=h.useState(null);return h.createElement(Aj,{scope:t,anchor:r,onAnchorChange:o},n)},Oj="PopperAnchor",jj=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=Lx(Oj,n),s=h.useRef(null),a=nt(t,s);return h.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:h.createElement(Ve.div,re({},o,{ref:a}))}),Dx="PopperContent",[Nj,D2]=Nx(Dx),Ij=h.forwardRef((e,t)=>{var n,r,o,i,s,a,l,c;const{__scopePopper:u,side:d="bottom",sideOffset:f=0,align:p="center",alignOffset:w=0,arrowPadding:g=0,avoidCollisions:x=!0,collisionBoundary:v=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:E="optimized",onPlaced:k,...C}=e,_=Lx(Dx,u),[R,O]=h.useState(null),N=nt(t,Zt=>O(Zt)),[A,F]=h.useState(null),T=Rj(A),V=(n=T==null?void 0:T.width)!==null&&n!==void 0?n:0,I=(r=T==null?void 0:T.height)!==null&&r!==void 0?r:0,U=d+(p!=="center"?"-"+p:""),P=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},j=Array.isArray(v)?v:[v],M=j.length>0,L={padding:P,boundary:j.filter(Lj),altBoundary:M},{refs:W,floatingStyles:X,placement:ve,isPositioned:Ne,middlewareData:oe}=xj({strategy:"fixed",placement:U,whileElementsMounted:(...Zt)=>fj(...Zt,{animationFrame:E==="always"}),elements:{reference:_.anchor},middleware:[bj({mainAxis:f+I,alignmentAxis:w}),x&&Ej({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?Cj():void 0,...L}),x&&_j({...L}),kj({...L,apply:({elements:Zt,rects:Vr,availableWidth:Ho,availableHeight:VS})=>{const{width:BS,height:US}=Vr.reference,vs=Zt.floating.style;vs.setProperty("--radix-popper-available-width",`${Ho}px`),vs.setProperty("--radix-popper-available-height",`${VS}px`),vs.setProperty("--radix-popper-anchor-width",`${BS}px`),vs.setProperty("--radix-popper-anchor-height",`${US}px`)}}),A&&Tj({element:A,padding:g}),Dj({arrowWidth:V,arrowHeight:I}),b&&Pj({strategy:"referenceHidden",...L})]}),[B,ne]=Mx(ve),ye=vn(k);yn(()=>{Ne&&(ye==null||ye())},[Ne,ye]);const Q=(o=oe.arrow)===null||o===void 0?void 0:o.x,G=(i=oe.arrow)===null||i===void 0?void 0:i.y,Z=((s=oe.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[rt,ot]=h.useState();return yn(()=>{R&&ot(window.getComputedStyle(R).zIndex)},[R]),h.createElement("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:Ne?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:rt,"--radix-popper-transform-origin":[(a=oe.transformOrigin)===null||a===void 0?void 0:a.x,(l=oe.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:e.dir},h.createElement(Nj,{scope:u,placedSide:B,onArrowChange:F,arrowX:Q,arrowY:G,shouldHideArrow:Z},h.createElement(Ve.div,re({"data-side":B,"data-align":ne},C,{ref:N,style:{...C.style,animation:Ne?void 0:"none",opacity:(c=oe.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function Lj(e){return e!==null}const Dj=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,i,s;const{placement:a,rects:l,middlewareData:c}=t,d=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,f=d?0:e.arrowWidth,p=d?0:e.arrowHeight,[w,g]=Mx(a),x={start:"0%",center:"50%",end:"100%"}[g],v=((r=(o=c.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+f/2,m=((i=(s=c.arrow)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0)+p/2;let y="",b="";return w==="bottom"?(y=d?x:`${v}px`,b=`${-p}px`):w==="top"?(y=d?x:`${v}px`,b=`${l.floating.height+p}px`):w==="right"?(y=`${-p}px`,b=d?x:`${m}px`):w==="left"&&(y=`${l.floating.width+p}px`,b=d?x:`${m}px`),{data:{x:y,y:b}}}});function Mx(e){const[t,n="center"]=e.split("-");return[t,n]}const Mj=$j,Fj=jj,Vj=Ij,Bj=h.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?n0.createPortal(h.createElement(Ve.div,re({},o,{ref:t})),r):null});function Rg({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=Uj({defaultProp:t,onChange:n}),i=e!==void 0,s=i?e:r,a=vn(n),l=h.useCallback(c=>{if(i){const d=typeof c=="function"?c(e):c;d!==e&&a(d)}else o(c)},[i,e,o,a]);return[s,l]}function Uj({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,o=h.useRef(r),i=vn(t);return h.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}function zj(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const Wj=h.forwardRef((e,t)=>h.createElement(Ve.span,re({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var Hj=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hr=new WeakMap,Gs=new WeakMap,qs={},Gc=0,Fx=function(e){return e&&(e.host||Fx(e.parentNode))},Kj=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Fx(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Gj=function(e,t,n,r){var o=Kj(t,Array.isArray(e)?e:[e]);qs[n]||(qs[n]=new WeakMap);var i=qs[n],s=[],a=new Set,l=new Set(o),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};o.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var p=f.getAttribute(r),w=p!==null&&p!=="false",g=(Hr.get(f)||0)+1,x=(i.get(f)||0)+1;Hr.set(f,g),i.set(f,x),s.push(f),g===1&&w&&Gs.set(f,!0),x===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(t),a.clear(),Gc++,function(){s.forEach(function(d){var f=Hr.get(d)-1,p=i.get(d)-1;Hr.set(d,f),i.set(d,p),f||(Gs.has(d)||d.removeAttribute(r),Gs.delete(d)),p||d.removeAttribute(n)}),Gc--,Gc||(Hr=new WeakMap,Hr=new WeakMap,Gs=new WeakMap,qs={})}},qj=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||Hj(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),Gj(r,o,n,"aria-hidden")):function(){return null}},Wt=function(){return Wt=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wt.apply(this,arguments)};function Vx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Yj(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var ma="right-scroll-bar-position",ga="width-before-scroll-bar",Xj="with-scroll-bars-hidden",Jj="--removed-body-scroll-bar-size";function qc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Qj(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var Zj=typeof window<"u"?h.useLayoutEffect:h.useEffect,Ag=new WeakMap;function eN(e,t){var n=Qj(t||null,function(r){return e.forEach(function(o){return qc(o,r)})});return Zj(function(){var r=Ag.get(n);if(r){var o=new Set(r),i=new Set(e),s=n.current;o.forEach(function(a){i.has(a)||qc(a,null)}),i.forEach(function(a){o.has(a)||qc(a,s)})}Ag.set(n,e)},[e]),n}function tN(e){return e}function nN(e,t){t===void 0&&(t=tN);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var l=function(){var u=s;s=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return o}function rN(e){e===void 0&&(e={});var t=nN(null);return t.options=Wt({async:!0,ssr:!1},e),t}var Bx=function(e){var t=e.sideCar,n=Vx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Wt({},n))};Bx.isSideCarExport=!0;function oN(e,t){return e.useMedium(t),Bx}var Ux=rN(),Yc=function(){},zl=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Yc,onWheelCapture:Yc,onTouchMoveCapture:Yc}),o=r[0],i=r[1],s=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,p=e.noIsolation,w=e.inert,g=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,m=Vx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=f,b=eN([n,t]),E=Wt(Wt({},m),o);return h.createElement(h.Fragment,null,u&&h.createElement(y,{sideCar:Ux,removeScrollBar:c,shards:d,noIsolation:p,inert:w,setCallbacks:i,allowPinchZoom:!!g,lockRef:n}),s?h.cloneElement(h.Children.only(a),Wt(Wt({},E),{ref:b})):h.createElement(v,Wt({},E,{className:l,ref:b}),a))});zl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zl.classNames={fullWidth:ga,zeroRight:ma};var $g,iN=function(){if($g)return $g;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sN(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=iN();return t&&e.setAttribute("nonce",t),e}function aN(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function lN(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var cN=function(){var e=0,t=null;return{add:function(n){e==0&&(t=sN())&&(aN(t,n),lN(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},uN=function(){var e=cN();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},zx=function(){var e=uN(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},dN={left:0,top:0,right:0,gap:0},Xc=function(e){return parseInt(e||"",10)||0},fN=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Xc(n),Xc(r),Xc(o)]},hN=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return dN;var t=fN(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},pN=zx(),xo="data-scroll-locked",mN=function(e,t,n,r){var o=e.left,i=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Xj,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(xo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ma,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ga,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ma," .").concat(ma,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ga," .").concat(ga,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xo,`] {
    `).concat(Jj,": ").concat(a,`px;
  }
`)},Og=function(){var e=parseInt(document.body.getAttribute(xo)||"0",10);return isFinite(e)?e:0},gN=function(){h.useEffect(function(){return document.body.setAttribute(xo,(Og()+1).toString()),function(){var e=Og()-1;e<=0?document.body.removeAttribute(xo):document.body.setAttribute(xo,e.toString())}},[])},vN=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;gN();var i=h.useMemo(function(){return hN(o)},[o]);return h.createElement(pN,{styles:mN(i,!t,o,n?"":"!important")})},Sd=!1;if(typeof window<"u")try{var Ys=Object.defineProperty({},"passive",{get:function(){return Sd=!0,!0}});window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{Sd=!1}var Kr=Sd?{passive:!1}:!1,yN=function(e){return e.tagName==="TEXTAREA"},Wx=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!yN(e)&&n[t]==="visible")},wN=function(e){return Wx(e,"overflowY")},xN=function(e){return Wx(e,"overflowX")},jg=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Hx(e,n);if(r){var o=Kx(e,n),i=o[1],s=o[2];if(i>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},SN=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},bN=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Hx=function(e,t){return e==="v"?wN(t):xN(t)},Kx=function(e,t){return e==="v"?SN(t):bN(t)},EN=function(e,t){return e==="h"&&t==="rtl"?-1:1},CN=function(e,t,n,r,o){var i=EN(e,window.getComputedStyle(t).direction),s=i*r,a=n.target,l=t.contains(a),c=!1,u=s>0,d=0,f=0;do{var p=Kx(e,a),w=p[0],g=p[1],x=p[2],v=g-x-i*w;(w||v)&&Hx(e,a)&&(d+=v,f+=w),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(o&&d===0||!o&&s>d)||!u&&(o&&f===0||!o&&-s>f))&&(c=!0),c},Xs=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ng=function(e){return[e.deltaX,e.deltaY]},Ig=function(e){return e&&"current"in e?e.current:e},_N=function(e,t){return e[0]===t[0]&&e[1]===t[1]},kN=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},PN=0,Gr=[];function TN(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),o=h.useState(PN++)[0],i=h.useState(function(){return zx()})[0],s=h.useRef(e);h.useEffect(function(){s.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=Yj([e.lockRef.current],(e.shards||[]).map(Ig),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(g,x){if("touches"in g&&g.touches.length===2)return!s.current.allowPinchZoom;var v=Xs(g),m=n.current,y="deltaX"in g?g.deltaX:m[0]-v[0],b="deltaY"in g?g.deltaY:m[1]-v[1],E,k=g.target,C=Math.abs(y)>Math.abs(b)?"h":"v";if("touches"in g&&C==="h"&&k.type==="range")return!1;var _=jg(C,k);if(!_)return!0;if(_?E=C:(E=C==="v"?"h":"v",_=jg(C,k)),!_)return!1;if(!r.current&&"changedTouches"in g&&(y||b)&&(r.current=E),!E)return!0;var R=r.current||E;return CN(R,x,g,R==="h"?y:b,!0)},[]),l=h.useCallback(function(g){var x=g;if(!(!Gr.length||Gr[Gr.length-1]!==i)){var v="deltaY"in x?Ng(x):Xs(x),m=t.current.filter(function(E){return E.name===x.type&&E.target===x.target&&_N(E.delta,v)})[0];if(m&&m.should){x.cancelable&&x.preventDefault();return}if(!m){var y=(s.current.shards||[]).map(Ig).filter(Boolean).filter(function(E){return E.contains(x.target)}),b=y.length>0?a(x,y[0]):!s.current.noIsolation;b&&x.cancelable&&x.preventDefault()}}},[]),c=h.useCallback(function(g,x,v,m){var y={name:g,delta:x,target:v,should:m};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(b){return b!==y})},1)},[]),u=h.useCallback(function(g){n.current=Xs(g),r.current=void 0},[]),d=h.useCallback(function(g){c(g.type,Ng(g),g.target,a(g,e.lockRef.current))},[]),f=h.useCallback(function(g){c(g.type,Xs(g),g.target,a(g,e.lockRef.current))},[]);h.useEffect(function(){return Gr.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Kr),document.addEventListener("touchmove",l,Kr),document.addEventListener("touchstart",u,Kr),function(){Gr=Gr.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Kr),document.removeEventListener("touchmove",l,Kr),document.removeEventListener("touchstart",u,Kr)}},[]);var p=e.removeScrollBar,w=e.inert;return h.createElement(h.Fragment,null,w?h.createElement(i,{styles:kN(o)}):null,p?h.createElement(vN,{gapMode:"margin"}):null)}const RN=oN(Ux,TN);var Gx=h.forwardRef(function(e,t){return h.createElement(zl,Wt({},e,{ref:t,sideCar:RN}))});Gx.classNames=zl.classNames;const AN=Gx,$N=[" ","Enter","ArrowUp","ArrowDown"],ON=[" ","Enter"],Wl="Select",[Hl,fh,jN]=uO(Wl),[Wo,M2]=oh(Wl,[jN,Ix]),hh=Ix(),[NN,Fr]=Wo(Wl),[IN,LN]=Wo(Wl),DN=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:p}=e,w=hh(t),[g,x]=h.useState(null),[v,m]=h.useState(null),[y,b]=h.useState(!1),E=fO(c),[k=!1,C]=Rg({prop:r,defaultProp:o,onChange:i}),[_,R]=Rg({prop:s,defaultProp:a,onChange:l}),O=h.useRef(null),N=g?!!g.closest("form"):!0,[A,F]=h.useState(new Set),T=Array.from(A).map(V=>V.props.value).join(";");return h.createElement(Mj,w,h.createElement(NN,{required:p,scope:t,trigger:g,onTriggerChange:x,valueNode:v,onValueNodeChange:m,valueNodeHasChildren:y,onValueNodeHasChildrenChange:b,contentId:bx(),value:_,onValueChange:R,open:k,onOpenChange:C,dir:E,triggerPointerDownPosRef:O,disabled:f},h.createElement(Hl.Provider,{scope:t},h.createElement(IN,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(V=>{F(I=>new Set(I).add(V))},[]),onNativeOptionRemove:h.useCallback(V=>{F(I=>{const U=new Set(I);return U.delete(V),U})},[])},n)),N?h.createElement(Jx,{key:T,"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:_,onChange:V=>R(V.target.value),disabled:f},_===void 0?h.createElement("option",{value:""}):null,Array.from(A)):null))},MN="SelectTrigger",FN=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=hh(n),s=Fr(MN,n),a=s.disabled||r,l=nt(t,s.onTriggerChange),c=fh(n),[u,d,f]=Qx(w=>{const g=c().filter(m=>!m.disabled),x=g.find(m=>m.value===s.value),v=Zx(g,w,x);v!==void 0&&s.onValueChange(v.value)}),p=()=>{a||(s.onOpenChange(!0),f())};return h.createElement(Fj,re({asChild:!0},i),h.createElement(Ve.button,re({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Xx(s.value)?"":void 0},o,{ref:l,onClick:We(o.onClick,w=>{w.currentTarget.focus()}),onPointerDown:We(o.onPointerDown,w=>{const g=w.target;g.hasPointerCapture(w.pointerId)&&g.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&(p(),s.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)},w.preventDefault())}),onKeyDown:We(o.onKeyDown,w=>{const g=u.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&d(w.key),!(g&&w.key===" ")&&$N.includes(w.key)&&(p(),w.preventDefault())})})))}),VN="SelectValue",BN=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:s="",...a}=e,l=Fr(VN,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=nt(t,l.onValueNodeChange);return yn(()=>{c(u)},[c,u]),h.createElement(Ve.span,re({},a,{ref:d,style:{pointerEvents:"none"}}),Xx(l.value)?h.createElement(h.Fragment,null,s):i)}),UN=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return h.createElement(Ve.span,re({"aria-hidden":!0},o,{ref:t}),r||"")}),zN=e=>h.createElement(Bj,re({asChild:!0},e)),No="SelectContent",WN=h.forwardRef((e,t)=>{const n=Fr(No,e.__scopeSelect),[r,o]=h.useState();if(yn(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?or.createPortal(h.createElement(qx,{scope:e.__scopeSelect},h.createElement(Hl.Slot,{scope:e.__scopeSelect},h.createElement("div",null,e.children))),i):null}return h.createElement(HN,re({},e,{ref:t}))}),rn=10,[qx,Kl]=Wo(No),HN=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:x,...v}=e,m=Fr(No,n),[y,b]=h.useState(null),[E,k]=h.useState(null),C=nt(t,B=>b(B)),[_,R]=h.useState(null),[O,N]=h.useState(null),A=fh(n),[F,T]=h.useState(!1),V=h.useRef(!1);h.useEffect(()=>{if(y)return qj(y)},[y]),bO();const I=h.useCallback(B=>{const[ne,...ye]=A().map(Z=>Z.ref.current),[Q]=ye.slice(-1),G=document.activeElement;for(const Z of B)if(Z===G||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===ne&&E&&(E.scrollTop=0),Z===Q&&E&&(E.scrollTop=E.scrollHeight),Z==null||Z.focus(),document.activeElement!==G))return},[A,E]),U=h.useCallback(()=>I([_,y]),[I,_,y]);h.useEffect(()=>{F&&U()},[F,U]);const{onOpenChange:P,triggerPointerDownPosRef:j}=m;h.useEffect(()=>{if(y){let B={x:0,y:0};const ne=Q=>{var G,Z,rt,ot;B={x:Math.abs(Math.round(Q.pageX)-((G=(Z=j.current)===null||Z===void 0?void 0:Z.x)!==null&&G!==void 0?G:0)),y:Math.abs(Math.round(Q.pageY)-((rt=(ot=j.current)===null||ot===void 0?void 0:ot.y)!==null&&rt!==void 0?rt:0))}},ye=Q=>{B.x<=10&&B.y<=10?Q.preventDefault():y.contains(Q.target)||P(!1),document.removeEventListener("pointermove",ne),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",ye,{capture:!0})}}},[y,P,j]),h.useEffect(()=>{const B=()=>P(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[P]);const[M,L]=Qx(B=>{const ne=A().filter(G=>!G.disabled),ye=ne.find(G=>G.ref.current===document.activeElement),Q=Zx(ne,B,ye);Q&&setTimeout(()=>Q.ref.current.focus())}),W=h.useCallback((B,ne,ye)=>{const Q=!V.current&&!ye;(m.value!==void 0&&m.value===ne||Q)&&(R(B),Q&&(V.current=!0))},[m.value]),X=h.useCallback(()=>y==null?void 0:y.focus(),[y]),ve=h.useCallback((B,ne,ye)=>{const Q=!V.current&&!ye;(m.value!==void 0&&m.value===ne||Q)&&N(B)},[m.value]),Ne=r==="popper"?Lg:KN,oe=Ne===Lg?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:x}:{};return h.createElement(qx,{scope:n,content:y,viewport:E,onViewportChange:k,itemRefCallback:W,selectedItem:_,onItemLeave:X,itemTextRefCallback:ve,focusSelectedItem:U,selectedItemText:O,position:r,isPositioned:F,searchRef:M},h.createElement(AN,{as:Zi,allowPinchZoom:!0},h.createElement(EO,{asChild:!0,trapped:m.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:We(o,B=>{var ne;(ne=m.trigger)===null||ne===void 0||ne.focus({preventScroll:!0}),B.preventDefault()})},h.createElement(wO,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>m.onOpenChange(!1)},h.createElement(Ne,re({role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:B=>B.preventDefault()},v,oe,{onPlaced:()=>T(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:We(v.onKeyDown,B=>{const ne=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!ne&&B.key.length===1&&L(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let Q=A().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(B.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const G=B.target,Z=Q.indexOf(G);Q=Q.slice(Z+1)}setTimeout(()=>I(Q)),B.preventDefault()}})}))))))}),KN=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=Fr(No,n),s=Kl(No,n),[a,l]=h.useState(null),[c,u]=h.useState(null),d=nt(t,C=>u(C)),f=fh(n),p=h.useRef(!1),w=h.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:v,focusSelectedItem:m}=s,y=h.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&x&&v){const C=i.trigger.getBoundingClientRect(),_=c.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),O=v.getBoundingClientRect();if(i.dir!=="rtl"){const G=O.left-_.left,Z=R.left-G,rt=C.left-Z,ot=C.width+rt,Zt=Math.max(ot,_.width),Vr=window.innerWidth-rn,Ho=hg(Z,[rn,Vr-Zt]);a.style.minWidth=ot+"px",a.style.left=Ho+"px"}else{const G=_.right-O.right,Z=window.innerWidth-R.right-G,rt=window.innerWidth-C.right-Z,ot=C.width+rt,Zt=Math.max(ot,_.width),Vr=window.innerWidth-rn,Ho=hg(Z,[rn,Vr-Zt]);a.style.minWidth=ot+"px",a.style.right=Ho+"px"}const N=f(),A=window.innerHeight-rn*2,F=g.scrollHeight,T=window.getComputedStyle(c),V=parseInt(T.borderTopWidth,10),I=parseInt(T.paddingTop,10),U=parseInt(T.borderBottomWidth,10),P=parseInt(T.paddingBottom,10),j=V+I+F+P+U,M=Math.min(x.offsetHeight*5,j),L=window.getComputedStyle(g),W=parseInt(L.paddingTop,10),X=parseInt(L.paddingBottom,10),ve=C.top+C.height/2-rn,Ne=A-ve,oe=x.offsetHeight/2,B=x.offsetTop+oe,ne=V+I+B,ye=j-ne;if(ne<=ve){const G=x===N[N.length-1].ref.current;a.style.bottom="0px";const Z=c.clientHeight-g.offsetTop-g.offsetHeight,rt=Math.max(Ne,oe+(G?X:0)+Z+U),ot=ne+rt;a.style.height=ot+"px"}else{const G=x===N[0].ref.current;a.style.top="0px";const rt=Math.max(ve,V+g.offsetTop+(G?W:0)+oe)+ye;a.style.height=rt+"px",g.scrollTop=ne-ve+g.offsetTop}a.style.margin=`${rn}px 0`,a.style.minHeight=M+"px",a.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,a,c,g,x,v,i.dir,r]);yn(()=>y(),[y]);const[b,E]=h.useState();yn(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const k=h.useCallback(C=>{C&&w.current===!0&&(y(),m==null||m(),w.current=!1)},[y,m]);return h.createElement(GN,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:k},h.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b}},h.createElement(Ve.div,re({},o,{ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}}))))}),Lg=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=rn,...i}=e,s=hh(n);return h.createElement(Vj,re({},s,i,{ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[GN,qN]=Wo(No,{}),Dg="SelectViewport",YN=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Kl(Dg,n),i=qN(Dg,n),s=nt(t,o.onViewportChange),a=h.useRef(0);return h.createElement(h.Fragment,null,h.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),h.createElement(Hl.Slot,{scope:n},h.createElement(Ve.div,re({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:We(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:d}=i;if(d!=null&&d.current&&u){const f=Math.abs(a.current-c.scrollTop);if(f>0){const p=window.innerHeight-rn*2,w=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),x=Math.max(w,g);if(x<p){const v=x+f,m=Math.min(p,v),y=v-m;u.style.height=m+"px",u.style.bottom==="0px"&&(c.scrollTop=y>0?y:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),XN="SelectGroup",[F2,JN]=Wo(XN),QN="SelectLabel",ZN=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=JN(QN,n);return h.createElement(Ve.div,re({id:o.id},r,{ref:t}))}),bd="SelectItem",[eI,Yx]=Wo(bd),tI=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...s}=e,a=Fr(bd,n),l=Kl(bd,n),c=a.value===r,[u,d]=h.useState(i??""),[f,p]=h.useState(!1),w=nt(t,v=>{var m;return(m=l.itemRefCallback)===null||m===void 0?void 0:m.call(l,v,r,o)}),g=bx(),x=()=>{o||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.createElement(eI,{scope:n,value:r,disabled:o,textId:g,isSelected:c,onItemTextChange:h.useCallback(v=>{d(m=>{var y;return m||((y=v==null?void 0:v.textContent)!==null&&y!==void 0?y:"").trim()})},[])},h.createElement(Hl.ItemSlot,{scope:n,value:r,disabled:o,textValue:u},h.createElement(Ve.div,re({role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},s,{ref:w,onFocus:We(s.onFocus,()=>p(!0)),onBlur:We(s.onBlur,()=>p(!1)),onPointerUp:We(s.onPointerUp,x),onPointerMove:We(s.onPointerMove,v=>{if(o){var m;(m=l.onItemLeave)===null||m===void 0||m.call(l)}else v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:We(s.onPointerLeave,v=>{if(v.currentTarget===document.activeElement){var m;(m=l.onItemLeave)===null||m===void 0||m.call(l)}}),onKeyDown:We(s.onKeyDown,v=>{var m;((m=l.searchRef)===null||m===void 0?void 0:m.current)!==""&&v.key===" "||(ON.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})}))))}),Js="SelectItemText",nI=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,s=Fr(Js,n),a=Kl(Js,n),l=Yx(Js,n),c=LN(Js,n),[u,d]=h.useState(null),f=nt(t,v=>d(v),l.onItemTextChange,v=>{var m;return(m=a.itemTextRefCallback)===null||m===void 0?void 0:m.call(a,v,l.value,l.disabled)}),p=u==null?void 0:u.textContent,w=h.useMemo(()=>h.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},p),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return yn(()=>(g(w),()=>x(w)),[g,x,w]),h.createElement(h.Fragment,null,h.createElement(Ve.span,re({id:l.textId},i,{ref:f})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?or.createPortal(i.children,s.valueNode):null)}),rI="SelectItemIndicator",oI=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Yx(rI,n).isSelected?h.createElement(Ve.span,re({"aria-hidden":!0},r,{ref:t})):null}),iI=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return h.createElement(Ve.div,re({"aria-hidden":!0},r,{ref:t}))});function Xx(e){return e===""||e===void 0}const Jx=h.forwardRef((e,t)=>{const{value:n,...r}=e,o=h.useRef(null),i=nt(t,o),s=zj(n);return h.useEffect(()=>{const a=o.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[s,n]),h.createElement(Wj,{asChild:!0},h.createElement("select",re({},r,{ref:i,defaultValue:n})))});Jx.displayName="BubbleSelect";function Qx(e){const t=vn(e),n=h.useRef(""),r=h.useRef(0),o=h.useCallback(s=>{const a=n.current+s;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function Zx(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let s=sI(e,Math.max(i,0));o.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function sI(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const aI=DN,eS=FN,lI=BN,cI=UN,uI=zN,tS=WN,dI=YN,nS=ZN,rS=tI,fI=nI,hI=oI,oS=iI,pI=aI,mI=lI,iS=h.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(eS,{ref:r,className:pt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,S.jsx(cI,{asChild:!0,children:S.jsx(B$,{className:"h-4 w-4 opacity-50"})})]}));iS.displayName=eS.displayName;const sS=h.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>S.jsx(uI,{children:S.jsx(tS,{ref:o,className:pt("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:S.jsx(dI,{className:pt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));sS.displayName=tS.displayName;const gI=h.forwardRef(({className:e,...t},n)=>S.jsx(nS,{ref:n,className:pt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));gI.displayName=nS.displayName;const en=h.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(rS,{ref:r,className:pt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(hI,{children:S.jsx(V$,{className:"h-4 w-4"})})}),S.jsx(fI,{children:t})]}));en.displayName=rS.displayName;const vI=h.forwardRef(({className:e,...t},n)=>S.jsx(oS,{ref:n,className:pt("-mx-1 my-1 h-px bg-muted",e),...t}));vI.displayName=oS.displayName;function Mg(){const{user:e}=us(),t=!!e,[n,r]=h.useState(!1),[o,i]=h.useState(Za(t)),[s,a]=h.useState(Oo()),[l,c]=h.useState(""),[u,d]=h.useState("genre"),[f,p]=h.useState(""),[w,g]=h.useState(!0),x=Ft(),{toast:v}=sr();h.useEffect(()=>{a(Oo())},[]),h.useEffect(()=>{i(Za(t))},[t,n]);const m=()=>{if(!l.trim()){v({title:"Espera!",description:"Por favor, ingresa tu nombre o alias para comenzar.",variant:"destructive"});return}if(u==="genre"&&!f){v({title:"Espera!",description:"Por favor, selecciona un gnero para la historia.",variant:"destructive"});return}localStorage.setItem("username",l),localStorage.setItem("storyType",u),localStorage.setItem("genre",f),localStorage.setItem("useIllustrations",w),x("/story")},y=()=>{if(!l.trim()){v({title:"Espera!",description:"Por favor, ingresa tu nombre o alias para continuar.",variant:"destructive"});return}localStorage.setItem("username",l),localStorage.setItem("storyType","custom"),x("/custom-story")};return S.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen flex items-center justify-center p-4",children:S.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg p-8 rounded-2xl shadow-xl",children:[S.jsxs(Se.div,{initial:{y:-20},animate:{y:0},transition:{delay:.2},className:"text-center",children:[S.jsx("img",{src:Al,alt:"Chacho Relatos Logo",className:"mx-auto mb-6 w-48 h-auto"}),S.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"Chacho Relatos"}),S.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Embrcate en una aventura donde t decides el destino"})]}),S.jsxs(Se.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tu nombre o alias"}),S.jsx("input",{type:"text",id:"username",maxLength:20,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:text-white",value:l,onChange:b=>c(b.target.value),placeholder:"Ingresa tu nombre"})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo de historia"}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsx(he,{variant:u==="genre"?"default":"outline",onClick:()=>d("genre"),className:"w-full",children:"Por gnero"}),S.jsx(he,{variant:u==="personal"?"default":"outline",onClick:()=>{d("personal"),p("")},className:"w-full",children:"Historia sobre m"})]})]}),u==="genre"&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selecciona un gnero"}),S.jsxs(pI,{value:f,onValueChange:p,children:[S.jsx(iS,{className:"w-full",children:S.jsx(mI,{placeholder:"Elige un gnero"})}),S.jsxs(sS,{children:[S.jsx(en,{value:"aventura",children:"Aventura"}),S.jsx(en,{value:"fantasia",children:"Fantasa"}),S.jsx(en,{value:"misterio",children:"Misterio"}),S.jsx(en,{value:"ciencia-ficcion",children:"Ciencia Ficcin"}),S.jsx(en,{value:"amor",children:"Romance"}),S.jsx(en,{value:"comedia",children:"Comedia"}),S.jsx(en,{value:"historico",children:"Histrico"}),S.jsx(en,{value:"mitologia",children:"Mitologa"})]})]})]}),S.jsxs("div",{className:"mb-4 flex items-center",children:[S.jsx("input",{id:"use-illustrations",type:"checkbox",checked:w,onChange:b=>g(b.target.checked),className:"mr-2 accent-indigo-600"}),S.jsx("label",{htmlFor:"use-illustrations",className:"text-gray-800 dark:text-gray-200 select-none",children:"Incluir ilustraciones"})]}),S.jsx(he,{onClick:y,className:"w-full bg-purple-500 hover:bg-purple-600",children:"Customizar"}),S.jsx("div",{className:"grid grid-cols-2 gap-4",children:S.jsx(he,{onClick:m,className:"col-span-2 h-16 text-xl bg-blue-500 hover:bg-blue-600 font-bold shadow-lg",children:"Comenzar Aventura"})}),S.jsxs("div",{className:"mt-4 text-center space-y-2",children:[S.jsxs("p",{className:"text-gray-800 dark:text-gray-200",children:[o," crditos disponibles"]}),t&&S.jsx(he,{onClick:()=>r(!0),className:"w-full bg-yellow-500 hover:bg-yellow-600",children:"Comprar crditos"})]}),n&&S.jsx(rh,{onClose:()=>r(!1)})]})]})})}function yI(){const[e,t]=h.useState(""),[n,r]=h.useState(()=>{const a=localStorage.getItem("useIllustrations");return a===null?!0:a==="true"}),o=Ft(),{toast:i}=sr();localStorage.getItem("username");const s=()=>{if(!e.trim()){i({title:"Espera!",description:"Por favor, escribe cmo quieres que empiece tu historia.",variant:"destructive"});return}localStorage.setItem("customPrompt",e),localStorage.setItem("useIllustrations",n),o("/story")};return S.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen flex items-center justify-center p-4",children:S.jsxs("div",{className:"max-w-2xl w-full space-y-8 bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg p-8 rounded-2xl shadow-xl",children:[S.jsxs(Se.div,{initial:{y:-20},animate:{y:0},transition:{delay:.2},className:"text-center",children:[S.jsx("img",{src:Al,alt:"Chacho Relatos Logo",className:"mx-auto mb-6 w-32 h-auto"}),S.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Sobre qu quieres comenzar tu aventura?"}),S.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"Puedes escribir cmo quieres que empiece la historia: describe una situacin, un personaje, un lugar, un conflicto Si quieres, aade nombres de personajes (hombres, mujeres, animales, lo que quieras). Tu imaginacin marca el rumbo!"})]}),S.jsxs(Se.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"space-y-6",children:[S.jsx("textarea",{className:"w-full h-40 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white resize-none",value:e,onChange:a=>t(a.target.value),placeholder:"Ej: Quiero una historia sobre un ratn que explora planetas en una nave hecha de queso..."}),S.jsxs("div",{className:"mb-2 flex items-center",children:[S.jsx("input",{id:"use-illustrations",type:"checkbox",checked:n,onChange:a=>r(a.target.checked),className:"mr-2 accent-indigo-600"}),S.jsx("label",{htmlFor:"use-illustrations",className:"text-gray-800 dark:text-gray-200 select-none",children:"Incluir ilustraciones"})]}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx(he,{variant:"outline",onClick:()=>o("/"),className:"flex-1",children:"Volver"}),S.jsx(he,{onClick:s,className:"flex-1 bg-blue-500 hover:bg-blue-600",children:"Comenzar tu aventura"})]})]})]})})}async function Gl({messages:e,temperature:t=.8,max_tokens:n=512}){const r={}.VITE_API_BASE||"",o=r?`${r}/api/chat-completion`:"/api/chat-completion";if(!Array.isArray(e)||e.length===0)throw new Error("Se requiere un array de mensajes para la generacin de historia.");const i=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e,temperature:t,max_tokens:n})});if(!i.ok)throw new Error("CHAT_COMPLETION_ERROR");return i.json()}function Ed(e){return e?e.length<=200?e:e.slice(0,200)+"...":""}function Ri(){const e=localStorage.getItem("storySummaries");return e?JSON.parse(e):[]}function Cd(e){const t=e.slice(-3);localStorage.setItem("storySummaries",JSON.stringify(t))}function aS(){localStorage.removeItem("storySummaries")}async function wI(e,t){const n=Oo();if(!Fl(n))throw new Error("INSUFFICIENT_TOKENS");try{const r=[{role:"system",content:"Eres un experto en crear ttulos atractivos y memorables para historias infantiles y juveniles. Genera un ttulo breve y cautivador basado en el contenido de la historia."},{role:"user",content:`Crea un ttulo atractivo y breve (mximo 6 palabras) para esta historia:

${e}`}],o=await Gl({messages:r,temperature:.8,max_tokens:50}),i=nh(o),s=n-i;return th(s),o.choices[0].message.content.trim()}catch(r){if(console.error("Error generando el ttulo:",r),r.message==="INSUFFICIENT_TOKENS")throw new Error("INSUFFICIENT_TOKENS");return`La aventura de ${t}`}}async function Fg(e){const t=Oo();if(!Fl(t))throw new Error("INSUFFICIENT_TOKENS");aS();const n=localStorage.getItem("storyType"),r=localStorage.getItem("genre"),o=localStorage.getItem("customPrompt");if(!e||!n||n==="genre"&&!r||n==="custom"&&!o)throw new Error("Faltan datos requeridos para generar la historia.");try{let i,s;n==="custom"&&o?(i=`Eres un narrador experto en crear historias interactivas para nios y jvenes. Crea una historia inmersiva y emocionante basada en la idea proporcionada por el usuario, manteniendo un tono apropiado para todo pblico.
IMPORTANTE: Siempre responde usando el formato: [Historia...] |OPCIONES| 1. ... 2. ... 3. ... Si no usas |OPCIONES|, la aplicacin fallar.`,s=`Genera una historia interactiva basada en esta idea: "${o}". Incluye la historia inicial Y tres opciones para continuar, separadas por '|OPCIONES|'.
Por ejemplo:
[Historia inicial...]
|OPCIONES|
1. [Primera opcin]
2. [Segunda opcin]
3. [Tercera opcin]`):(i=n==="personal"?`Eres un narrador experto en crear historias interactivas para nios y jvenes donde ${e} es el protagonista. Crea historias inmersivas y emocionantes, siempre manteniendo un tono apropiado para todo pblico.
IMPORTANTE: Siempre responde usando el formato: [Historia...] |OPCIONES| 1. ... 2. ... 3. ... Si no usas |OPCIONES|, la aplicacin fallar.`:`Eres un narrador experto en crear historias interactivas de ${r} para nios y jvenes. Crea historias inmersivas y emocionantes en este gnero, siempre manteniendo un tono apropiado para todo pblico.
IMPORTANTE: Siempre responde usando el formato: [Historia...] |OPCIONES| 1. ... 2. ... 3. ... Si no usas |OPCIONES|, la aplicacin fallar.`,s=n==="personal"?`Genera una historia interactiva donde ${e} es el protagonista. Incluye la historia inicial Y tres opciones para continuar, separadas por '|OPCIONES|'.
Por ejemplo:
[Historia inicial...]
|OPCIONES|
1. [Primera opcin]
2. [Segunda opcin]
3. [Tercera opcin]`:`Genera una historia interactiva de ${r}. Incluye la historia inicial Y tres opciones para continuar, separadas por '|OPCIONES|'.
Por ejemplo:
[Historia inicial...]
|OPCIONES|
1. [Primera opcin]
2. [Segunda opcin]
3. [Tercera opcin]`);const a=[{role:"system",content:i},{role:"user",content:`${s}

Por ejemplo:
[Historia inicial...]
|OPCIONES|
1. [Primera opcin]
2. [Segunda opcin]
3. [Tercera opcin]`}],l=await Gl({messages:a,temperature:.8,max_tokens:800});let c="";if(l!=null&&l.reply)c=l.reply;else if(typeof l=="string")c=l;else throw console.error("Respuesta inesperada del backend:",l),new Error("La respuesta del modelo no tiene el formato esperado.");if(!c||typeof c!="string"||!c.includes("|OPCIONES|"))throw new Error("La respuesta del modelo no tiene el formato esperado.");const[u]=c.split("|OPCIONES|"),f=(c.split("|OPCIONES|")[1]||"").split(`
`).filter(p=>p.trim()&&/^\d+\./.test(p.trim())).map(p=>({text:p.replace(/^\d+\.\s*/,"").trim(),nextScene:`scene_${Date.now()}_${Math.random()}`}));return n==="custom"&&localStorage.removeItem("customPrompt"),{text:u?u.trim():"",choices:f,isEnding:!1}}catch(i){throw console.error("Error generando la historia inicial:",i),i.message==="INSUFFICIENT_TOKENS"?new Error("INSUFFICIENT_TOKENS"):new Error("No se pudo generar la historia inicial")}}async function xI(e,t,n,r=[]){const o=Oo();if(!Fl(o))throw new Error("INSUFFICIENT_TOKENS");const i=localStorage.getItem("storyType"),s=localStorage.getItem("genre");try{let a=Ri();const l=Ed(e);a.push(l),Cd(a),a=Ri();const c=a.length>0?`[ltimos resmenes:]
${a.join(`
`)}

`:"",u=r.slice(-3),d=u.length>0?`[Contexto reciente:]
${u.join(`

`)}

`:"",p=[{role:"system",content:i==="personal"?`Eres un narrador experto en crear historias interactivas para nios y jvenes donde ${n} es el protagonista. Contina la historia de forma coherente y emocionante basndote en la eleccin del usuario.`:`Eres un narrador experto en crear historias interactivas de ${s}. Contina la historia de forma coherente y emocionante basndote en la eleccin del usuario.`},{role:"user",content:`${c}${d}Historia actual: "${e}"
Eleccin: "${t}"

Contina la historia y proporciona tres nuevas opciones, separadas por '|OPCIONES|'.

Por ejemplo:
[Continuacin de la historia...]
|OPCIONES|
1. [Primera opcin]
2. [Segunda opcin]
3. [Tercera opcin]`}],w=await Gl({messages:p,temperature:.7,max_tokens:800});let g="";if(w!=null&&w.reply)g=w.reply;else if(typeof w=="string")g=w;else throw console.error("Respuesta inesperada del backend:",w),new Error("La respuesta del modelo no tiene el formato esperado.");const[x]=g.split("|OPCIONES|"),v=Ed(x.trim());let m=Ri();m.push(v),Cd(m);const y=nh(w),b=o-y;th(b);const k=g.split("|OPCIONES|")[1].split(`
`).filter(C=>C.trim()&&/^\d+\./.test(C.trim())).map(C=>({text:C.replace(/^\d+\.\s*/,"").trim(),nextScene:`scene_${Date.now()}_${Math.random()}`}));return{text:x.trim(),choices:k,isEnding:!1}}catch(a){throw console.error("Error continuando la historia:",a),a.message==="INSUFFICIENT_TOKENS"?new Error("INSUFFICIENT_TOKENS"):new Error("No se pudo continuar la historia")}}async function SI(e,t,n=[]){const r=Oo();if(!Fl(r))throw new Error("INSUFFICIENT_TOKENS");const o=localStorage.getItem("storyType"),i=localStorage.getItem("genre");try{let s=Ri();const a=Ed(e);s.push(a),Cd(s),s=Ri();const l=s.length>0?`[ltimos resmenes:]
${s.join(`
`)}

`:"",c=n.slice(-3),u=c.length>0?`[Contexto reciente:]
${c.join(`

`)}

`:"",f=[{role:"system",content:o==="personal"?`Genera un final pico y satisfactorio para la historia de ${t}, cerrando todas las tramas pendientes de forma positiva y memorable.`:`Genera un final pico y satisfactorio para esta historia de ${i}, cerrando todas las tramas pendientes de forma positiva y memorable.`},{role:"user",content:`${l}${u}Historia actual: "${e}"

Crea un final memorable para la aventura.`}],p=await Gl({messages:f,temperature:.8,max_tokens:500});let w="";if(p!=null&&p.reply)w=p.reply;else if(typeof p=="string")w=p;else throw console.error("Respuesta inesperada del backend:",p),new Error("La respuesta del modelo no tiene el formato esperado.");aS();const g=nh(p),x=r-g;return th(x),{text:w.trim(),choices:[],isEnding:!0}}catch(s){throw console.error("Error generando el final:",s),s.message==="INSUFFICIENT_TOKENS"?new Error("INSUFFICIENT_TOKENS"):new Error("No se pudo generar el final de la historia")}}const bI="simple black and white line art, clean pencil sketch, no shading, no background, coloring book style, only outlines, no fill, no shadows, minimal detail, just contours";function EI(e,t=200){if(!e)return"";if(e.length<=t)return e;const n=e.slice(0,t),r=n.lastIndexOf(" ");return n.slice(0,r>t/2?r:t).trim()}async function CI(e){try{const t=EI(e,200),n=`${bI}. ${t}`,r=await fetch("http://localhost:4000/api/generate-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:n})});if(!r.ok)throw new Error("Backend error");const o=await r.json();if(console.log("Respuesta imagen:",o),o.url&&typeof o.url=="string")return{url:`data:image/png;base64,${o.url}`,error:!1};if(o.base64&&typeof o.base64=="string")return{url:`data:image/png;base64,${o.base64}`,error:!1};throw new Error("Respuesta de imagen invlida")}catch(t){return console.error("Error ilustracin:",t),{url:null,error:!0}}}function _I({username:e,history:t,onBack:n,onEndStory:r,isEnding:o}){const{user:i}=us(),s=!!i,a=Ft(),{toast:l}=sr(),[c,u]=h.useState(!1),d=Za(s),f=()=>{localStorage.removeItem("currentScene"),localStorage.removeItem("storyHistory"),a("/welcome")};return S.jsxs("div",{className:"flex flex-col gap-4 w-full mb-6",children:[S.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[S.jsx("div",{className:"flex items-center gap-4",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("img",{src:Al,alt:"Chacho Relatos Logo",className:"w-8 h-8"}),S.jsxs("div",{className:"flex flex-col",children:[S.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e}),S.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:s?"Usuario registrado":"Invitado"})]})]})}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(G$,{balance:d}),s?S.jsxs(he,{variant:"outline",size:"sm",onClick:()=>u(!0),className:"bg-yellow-100 hover:bg-yellow-200 text-yellow-700 border-yellow-300",children:[S.jsx(Qa,{className:"mr-2 h-4 w-4"}),"Comprar crditos"]}):S.jsxs(he,{variant:"outline",size:"sm",onClick:()=>alert("Debes registrarte para comprar crditos."),className:"bg-yellow-100 hover:bg-yellow-200 text-yellow-700 border-yellow-300",children:[S.jsx(Qa,{className:"mr-2 h-4 w-4"}),"Comprar crditos"]})]})]}),S.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[s&&S.jsxs(he,{variant:"secondary",size:"sm",className:"w-full md:w-auto bg-purple-500 hover:bg-purple-600 text-white",onClick:()=>l({title:"Prximamente",description:"Tus historias guardadas estarn disponibles muy pronto."}),children:[S.jsx(M$,{className:"mr-2 h-4 w-4"}),"Tus Historias"]}),t.length>0&&S.jsx(S.Fragment,{children:!o&&S.jsxs(he,{variant:"default",size:"sm",onClick:r,className:"w-full md:w-auto bg-amber-500 hover:bg-amber-600 text-white",children:[S.jsx(z$,{className:"mr-2 h-4 w-4"}),"Finalizar historia"]})}),S.jsx(he,{variant:"default",size:"sm",onClick:f,className:"w-full md:w-auto bg-blue-500 hover:bg-blue-600 text-white",children:"Volver a empezar Barco de Vapor"})]}),c&&S.jsx(rh,{onClose:()=>u(!1)})]})}function kI({choices:e,onChoice:t,isLoading:n,isGeneratingImage:r}){return!e||e.length===0?null:S.jsx("div",{className:"space-y-4",children:n?S.jsx("div",{className:"flex justify-center py-4",children:S.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):e.map((o,i)=>S.jsx(Se.button,{onClick:()=>t(o),className:"w-full p-4 bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm rounded-lg shadow-md hover:shadow-lg transition-all text-left text-gray-800 dark:text-gray-200 hover:bg-indigo-500 hover:text-white transform hover:-translate-y-1",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},whileHover:{scale:1.02},whileTap:{scale:.98},disabled:n||r,children:o.text},i))})}function PI({username:e}){return S.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center space-y-4 p-8",children:[S.jsxs(Se.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"relative",children:[S.jsx(W$,{className:"w-8 h-8 text-purple-500"}),S.jsx(Se.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},className:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full"})]}),S.jsxs(Se.div,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"text-center",children:[S.jsxs("p",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:[" Generando una historia mgica para ",e," "]}),S.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Preparando una aventura nica..."})]}),S.jsx("div",{className:"w-64 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:S.jsx(Se.div,{className:"h-full bg-gradient-to-r from-purple-500 via-pink-500 to-purple-500 rounded-full",animate:{x:[-256,256],background:["linear-gradient(to right, #8B5CF6, #EC4899, #8B5CF6)","linear-gradient(to right, #EC4899, #8B5CF6, #EC4899)"]},transition:{duration:2,repeat:1/0,ease:"linear"}})})]})}function TI(){const[e,t]=h.useState(null),[n,r]=h.useState([]),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[l,c]=h.useState(!1),[u,d]=h.useState(null),[f,p]=h.useState(!1),[w,g]=h.useState(!1),x=Ft(),{toast:v}=sr(),m=localStorage.getItem("username"),y=h.useRef(!1),[b]=h.useState(()=>localStorage.getItem("useIllustrations")!=="false");h.useEffect(()=>{if(y.current)return;if(y.current=!0,!m){x("/");return}(async()=>{try{i(!0),localStorage.removeItem("currentScene"),localStorage.removeItem("storyHistory");const A=await Fg(m);t(A),r([]),a(!1)}catch(A){E(A)}finally{i(!1)}})()},[x,m]),h.useEffect(()=>{let N=!1,A;return(async()=>e&&e.text&&b?(g(!0),d(null),p(!1),A=setTimeout(async()=>{if(N){g(!1);return}try{const F=await CI(e.text);!N&&(F!=null&&F.url)?(d(F.url),p(!1)):N||(d(null),p(!0))}catch{N||(d(null),p(!0))}finally{g(!1)}},500)):(d(null),p(!1)))(),()=>{N=!0,g(!1),A&&clearTimeout(A)}},[e,b]);const E=N=>{N.message==="INSUFFICIENT_TOKENS"?(c(!0),v({title:"Te has quedado sin monedas",description:"Compra ms monedas para seguir creando historias",variant:"destructive"})):v({title:"Error",description:N.message,variant:"destructive"})},k=async N=>{if(!(o||s))try{i(!0);const A=[...n,e],F=await xI(e.text,N.text,m,A.map(T=>T.text));r(A),t(F)}catch(A){E(A)}finally{i(!1)}},C=async()=>{try{i(!0);const{data:N,error:A}=await dt.from("users").upsert({username:m},{onConflict:"username"}).select("id").single();if(A)throw A;const F=N.id,T=[...n,e],V=T.map(W=>W.text).join(`

`),I=await wI(V,m),{data:U,error:P}=await dt.from("stories").insert({user_id:F,title:I}).select("id").single();if(P)throw P;const j=U.id,M=T.map((W,X)=>({story_id:j,order_index:X,scene_text:W.text,image_url:W.imageUrl||null})),{error:L}=await dt.from("scenes").insert(M);if(L)throw L;v({title:"Historia guardada en Supabase!"})}catch(N){E(N)}finally{i(!1)}},_=async()=>{if(!(o||s))try{i(!0);const N=[...n,e],A=await SI(e.text,m,N.map(F=>F.text));r(N),t(A),a(!0),await C(),v({title:"Historia completada!",description:"Tu historia ha sido guardada y puedes verla en 'Tus Historias'"})}catch(N){E(N)}finally{i(!1)}},R=()=>{if(n.length===0||s)return;const N=n[n.length-1],A=n.slice(0,-1);t(N),r(A),a(!1)},O=async()=>{try{i(!0),localStorage.removeItem("currentScene"),localStorage.removeItem("storyHistory");const N=await Fg(m);t(N),r([]),a(!1),v({title:"Historia reiniciada",description:"Comienza una nueva aventura"})}catch(N){E(N)}finally{i(!1)}};return!e||o?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-indigo-950 dark:to-purple-950",children:S.jsx(PI,{username:m})}):S.jsxs("div",{className:"min-h-screen p-4 md:p-8 flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-indigo-950 dark:to-purple-950",children:[S.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-2xl bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-2xl p-4 md:p-6 shadow-xl",children:[S.jsx(_I,{username:m,history:n,onBack:R,onReset:O,onEndStory:_,isEnding:s}),S.jsx(I$,{mode:"wait",children:S.jsxs(Se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:[S.jsxs("div",{className:"flex flex-col items-center w-full",children:[f?S.jsx("div",{className:"w-full flex justify-center mb-4",children:S.jsx("div",{className:"w-full h-64 flex items-center justify-center border-2 border-red-400 bg-red-100 text-red-700 rounded-lg text-center",children:"No se pudo generar la imagen"})}):u&&S.jsx("div",{className:"w-full flex justify-center mb-4",children:S.jsx("img",{src:u,alt:"Ilustracin generada por IA",className:"rounded-lg shadow",style:{width:"100%",objectFit:"contain"}})}),S.jsx("p",{className:"text-lg md:text-xl text-gray-800 dark:text-gray-200 leading-relaxed w-full",children:e.text})]}),!s&&S.jsx(kI,{choices:e.choices,onChoice:k,isLoading:o,isGeneratingImage:w})]},e.text)})]}),l&&S.jsx(rh,{onClose:()=>c(!1)})]})}function RI(){return S.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-8 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-indigo-950 dark:to-purple-950",children:S.jsxs("div",{className:"max-w-xl w-full bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-xl p-8 text-center",children:[S.jsx("img",{src:"https://storage.googleapis.com/hostinger-horizons-assets-prod/4ba24024-e026-48d7-a4e4-b28be0a34ffc/48f9ee038bb1133b70ed89d312d32250.png",alt:"Chacho Relatos Logo",className:"mx-auto mb-6 w-20 h-auto"}),S.jsx("h1",{className:"text-3xl font-bold mb-4 text-gray-900 dark:text-white",children:"Tus historias guardadas"}),S.jsxs("p",{className:"text-lg text-gray-700 dark:text-gray-200 mb-6",children:["Servicio disponible ",S.jsx("span",{className:"font-bold text-indigo-600",children:"prximamente"}),".",S.jsx("br",{}),"Aqu podrs ver todas tus historias, imprimirlas en PDF o compartirlas con tus amigos."]}),S.jsx(he,{onClick:()=>window.history.back(),className:"mt-4 bg-blue-500 hover:bg-blue-600 text-white",children:"Volver"})]})})}function AI(){const e=Ft();return h.useEffect(()=>{},[]),S.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:S.jsxs(Se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-2xl p-8 max-w-md w-full text-center space-y-6",children:[S.jsx(Se.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:S.jsx(F$,{className:"w-10 h-10 text-green-500"})}),S.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Pago completado con xito!"}),S.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Tu compra se ha procesado correctamente. Las monedas se han aadido a tu saldo."}),S.jsx(he,{onClick:()=>e("/story"),className:"w-full bg-blue-500 hover:bg-blue-600",children:"Continuar creando historias"})]})})}function $I(){const e=Ft();return S.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:S.jsxs(Se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-2xl p-8 max-w-md w-full text-center space-y-6",children:[S.jsx(Se.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center",children:S.jsx(H$,{className:"w-10 h-10 text-red-500"})}),S.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Pago cancelado"}),S.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"El proceso de pago ha sido cancelado. No se ha realizado ningn cargo."}),S.jsxs("div",{className:"space-y-3",children:[S.jsx(he,{onClick:()=>e("/story"),className:"w-full bg-blue-500 hover:bg-blue-600",children:"Volver a la historia"}),S.jsx(he,{variant:"outline",onClick:()=>e("/welcome"),className:"w-full",children:"Ir al inicio"})]})]})})}function lt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function lS(e,t=[]){let n=[];function r(i,s){const a=h.createContext(s),l=n.length;n=[...n,s];const c=d=>{var v;const{scope:f,children:p,...w}=d,g=((v=f==null?void 0:f[e])==null?void 0:v[l])||a,x=h.useMemo(()=>w,Object.values(w));return S.jsx(g.Provider,{value:x,children:p})};c.displayName=i+"Provider";function u(d,f){var g;const p=((g=f==null?void 0:f[e])==null?void 0:g[l])||a,w=h.useContext(p);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const o=()=>{const i=n.map(s=>h.createContext(s));return function(a){const l=(a==null?void 0:a[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,OI(o,...t)]}function OI(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function jI(e){const t=e+"CollectionProvider",[n,r]=lS(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:x,children:v}=g,m=te.useRef(null),y=te.useRef(new Map).current;return S.jsx(o,{scope:x,itemMap:y,collectionRef:m,children:v})};s.displayName=t;const a=e+"CollectionSlot",l=za(a),c=te.forwardRef((g,x)=>{const{scope:v,children:m}=g,y=i(a,v),b=Ar(x,y.collectionRef);return S.jsx(l,{ref:b,children:m})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=za(u),p=te.forwardRef((g,x)=>{const{scope:v,children:m,...y}=g,b=te.useRef(null),E=Ar(x,b),k=i(u,v);return te.useEffect(()=>(k.itemMap.set(b,{ref:b,...y}),()=>void k.itemMap.delete(b))),S.jsx(f,{[d]:"",ref:E,children:m})});p.displayName=u;function w(g){const x=i(e+"CollectionConsumer",g);return te.useCallback(()=>{const m=x.collectionRef.current;if(!m)return[];const y=Array.from(m.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((k,C)=>y.indexOf(k.ref.current)-y.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:c,ItemSlot:p},w,r]}var NI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qt=NI.reduce((e,t)=>{const n=za(`Primitive.${t}`),r=h.forwardRef((o,i)=>{const{asChild:s,...a}=o,l=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function cS(e,t){e&&or.flushSync(()=>e.dispatchEvent(t))}function Or(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function II(e,t=globalThis==null?void 0:globalThis.document){const n=Or(e);h.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var LI="DismissableLayer",_d="dismissableLayer.update",DI="dismissableLayer.pointerDownOutside",MI="dismissableLayer.focusOutside",Vg,uS=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dS=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...l}=e,c=h.useContext(uS),[u,d]=h.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),w=Ar(t,C=>d(C)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(x),m=u?g.indexOf(u):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,b=m>=v,E=VI(C=>{const _=C.target,R=[...c.branches].some(O=>O.contains(_));!b||R||(o==null||o(C),s==null||s(C),C.defaultPrevented||a==null||a())},f),k=BI(C=>{const _=C.target;[...c.branches].some(O=>O.contains(_))||(i==null||i(C),s==null||s(C),C.defaultPrevented||a==null||a())},f);return II(C=>{m===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),h.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Vg=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Bg(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Vg)}},[u,f,n,c]),h.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Bg())},[u,c]),h.useEffect(()=>{const C=()=>p({});return document.addEventListener(_d,C),()=>document.removeEventListener(_d,C)},[]),S.jsx(Qt.div,{...l,ref:w,style:{pointerEvents:y?b?"auto":"none":void 0,...e.style},onFocusCapture:lt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,E.onPointerDownCapture)})});dS.displayName=LI;var FI="DismissableLayerBranch",fS=h.forwardRef((e,t)=>{const n=h.useContext(uS),r=h.useRef(null),o=Ar(t,r);return h.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),S.jsx(Qt.div,{...e,ref:o})});fS.displayName=FI;function VI(e,t=globalThis==null?void 0:globalThis.document){const n=Or(e),r=h.useRef(!1),o=h.useRef(()=>{});return h.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){hS(DI,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function BI(e,t=globalThis==null?void 0:globalThis.document){const n=Or(e),r=h.useRef(!1);return h.useEffect(()=>{const o=i=>{i.target&&!r.current&&hS(MI,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Bg(){const e=new CustomEvent(_d);document.dispatchEvent(e)}function hS(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?cS(o,i):o.dispatchEvent(i)}var UI=dS,zI=fS,ns=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},WI="Portal",pS=h.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,i]=h.useState(!1);ns(()=>i(!0),[]);const s=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?n0.createPortal(S.jsx(Qt.div,{...r,ref:t}),s):null});pS.displayName=WI;function HI(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var mS=e=>{const{present:t,children:n}=e,r=KI(t),o=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),i=Ar(r.ref,GI(o));return typeof n=="function"||r.isPresent?h.cloneElement(o,{ref:i}):null};mS.displayName="Presence";function KI(e){const[t,n]=h.useState(),r=h.useRef(null),o=h.useRef(e),i=h.useRef("none"),s=e?"mounted":"unmounted",[a,l]=HI(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=Qs(r.current);i.current=a==="mounted"?c:"none"},[a]),ns(()=>{const c=r.current,u=o.current;if(u!==e){const f=i.current,p=Qs(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),ns(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=p=>{const g=Qs(r.current).includes(p.animationName);if(p.target===t&&g&&(l("ANIMATION_END"),!o.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=p=>{p.target===t&&(i.current=Qs(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Qs(e){return(e==null?void 0:e.animationName)||"none"}function GI(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qI=jd[" useInsertionEffect ".trim().toString()]||ns;function YI({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,i,s]=XI({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:o;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=h.useCallback(u=>{var d;if(a){const f=JI(u)?u(e):u;f!==e&&((d=s.current)==null||d.call(s,f))}else i(u)},[a,e,i,s]);return[l,c]}function XI({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),o=h.useRef(n),i=h.useRef(t);return qI(()=>{i.current=t},[t]),h.useEffect(()=>{var s;o.current!==n&&((s=i.current)==null||s.call(i,n),o.current=n)},[n,o]),[n,r,i]}function JI(e){return typeof e=="function"}var QI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ZI="VisuallyHidden",ph=h.forwardRef((e,t)=>S.jsx(Qt.span,{...e,ref:t,style:{...QI,...e.style}}));ph.displayName=ZI;var mh="ToastProvider",[gh,e2,t2]=jI("Toast"),[gS,V2]=lS("Toast",[t2]),[n2,ql]=gS(mh),vS=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:i=50,children:s}=e,[a,l]=h.useState(null),[c,u]=h.useState(0),d=h.useRef(!1),f=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${mh}\`. Expected non-empty \`string\`.`),S.jsx(gh.Provider,{scope:t,children:S.jsx(n2,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:h.useCallback(()=>u(p=>p+1),[]),onToastRemove:h.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:s})})};vS.displayName=mh;var yS="ToastViewport",r2=["F8"],kd="toast.viewportPause",Pd="toast.viewportResume",wS=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=r2,label:o="Notifications ({hotkey})",...i}=e,s=ql(yS,n),a=e2(n),l=h.useRef(null),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=Ar(t,d,s.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=s.toastCount>0;h.useEffect(()=>{const x=v=>{var y;r.length!==0&&r.every(b=>v[b]||v.code===b)&&((y=d.current)==null||y.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),h.useEffect(()=>{const x=l.current,v=d.current;if(w&&x&&v){const m=()=>{if(!s.isClosePausedRef.current){const k=new CustomEvent(kd);v.dispatchEvent(k),s.isClosePausedRef.current=!0}},y=()=>{if(s.isClosePausedRef.current){const k=new CustomEvent(Pd);v.dispatchEvent(k),s.isClosePausedRef.current=!1}},b=k=>{!x.contains(k.relatedTarget)&&y()},E=()=>{x.contains(document.activeElement)||y()};return x.addEventListener("focusin",m),x.addEventListener("focusout",b),x.addEventListener("pointermove",m),x.addEventListener("pointerleave",E),window.addEventListener("blur",m),window.addEventListener("focus",y),()=>{x.removeEventListener("focusin",m),x.removeEventListener("focusout",b),x.removeEventListener("pointermove",m),x.removeEventListener("pointerleave",E),window.removeEventListener("blur",m),window.removeEventListener("focus",y)}}},[w,s.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:x})=>{const m=a().map(y=>{const b=y.ref.current,E=[b,...g2(b)];return x==="forwards"?E:E.reverse()});return(x==="forwards"?m.reverse():m).flat()},[a]);return h.useEffect(()=>{const x=d.current;if(x){const v=m=>{var E,k,C;const y=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!y){const _=document.activeElement,R=m.shiftKey;if(m.target===x&&R){(E=c.current)==null||E.focus();return}const A=g({tabbingDirection:R?"backwards":"forwards"}),F=A.findIndex(T=>T===_);Jc(A.slice(F+1))?m.preventDefault():R?(k=c.current)==null||k.focus():(C=u.current)==null||C.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[a,g]),S.jsxs(zI,{ref:l,role:"region","aria-label":o.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&S.jsx(Td,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});Jc(x)}}),S.jsx(gh.Slot,{scope:n,children:S.jsx(Qt.ol,{tabIndex:-1,...i,ref:f})}),w&&S.jsx(Td,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});Jc(x)}})]})});wS.displayName=yS;var xS="ToastFocusProxy",Td=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,i=ql(xS,n);return S.jsx(ph,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Td.displayName=xS;var gs="Toast",o2="toast.swipeStart",i2="toast.swipeMove",s2="toast.swipeCancel",a2="toast.swipeEnd",SS=h.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:i,...s}=e,[a,l]=YI({prop:r,defaultProp:o??!0,onChange:i,caller:gs});return S.jsx(mS,{present:n||a,children:S.jsx(u2,{open:a,...s,ref:t,onClose:()=>l(!1),onPause:Or(e.onPause),onResume:Or(e.onResume),onSwipeStart:lt(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:lt(e.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:lt(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:lt(e.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});SS.displayName=gs;var[l2,c2]=gS(gs,{onClose(){}}),u2=h.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:i,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:p,...w}=e,g=ql(gs,n),[x,v]=h.useState(null),m=Ar(t,T=>v(T)),y=h.useRef(null),b=h.useRef(null),E=o||g.duration,k=h.useRef(0),C=h.useRef(E),_=h.useRef(0),{onToastAdd:R,onToastRemove:O}=g,N=Or(()=>{var V;(x==null?void 0:x.contains(document.activeElement))&&((V=g.viewport)==null||V.focus()),s()}),A=h.useCallback(T=>{!T||T===1/0||(window.clearTimeout(_.current),k.current=new Date().getTime(),_.current=window.setTimeout(N,T))},[N]);h.useEffect(()=>{const T=g.viewport;if(T){const V=()=>{A(C.current),c==null||c()},I=()=>{const U=new Date().getTime()-k.current;C.current=C.current-U,window.clearTimeout(_.current),l==null||l()};return T.addEventListener(kd,I),T.addEventListener(Pd,V),()=>{T.removeEventListener(kd,I),T.removeEventListener(Pd,V)}}},[g.viewport,E,l,c,A]),h.useEffect(()=>{i&&!g.isClosePausedRef.current&&A(E)},[i,E,g.isClosePausedRef,A]),h.useEffect(()=>(R(),()=>O()),[R,O]);const F=h.useMemo(()=>x?TS(x):null,[x]);return g.viewport?S.jsxs(S.Fragment,{children:[F&&S.jsx(d2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),S.jsx(l2,{scope:n,onClose:N,children:or.createPortal(S.jsx(gh.ItemSlot,{scope:n,children:S.jsx(UI,{asChild:!0,onEscapeKeyDown:lt(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||N(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:S.jsx(Qt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:m,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:lt(e.onKeyDown,T=>{T.key==="Escape"&&(a==null||a(T.nativeEvent),T.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:lt(e.onPointerDown,T=>{T.button===0&&(y.current={x:T.clientX,y:T.clientY})}),onPointerMove:lt(e.onPointerMove,T=>{if(!y.current)return;const V=T.clientX-y.current.x,I=T.clientY-y.current.y,U=!!b.current,P=["left","right"].includes(g.swipeDirection),j=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,M=P?j(0,V):0,L=P?0:j(0,I),W=T.pointerType==="touch"?10:2,X={x:M,y:L},ve={originalEvent:T,delta:X};U?(b.current=X,Zs(i2,d,ve,{discrete:!1})):Ug(X,g.swipeDirection,W)?(b.current=X,Zs(o2,u,ve,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(V)>W||Math.abs(I)>W)&&(y.current=null)}),onPointerUp:lt(e.onPointerUp,T=>{const V=b.current,I=T.target;if(I.hasPointerCapture(T.pointerId)&&I.releasePointerCapture(T.pointerId),b.current=null,y.current=null,V){const U=T.currentTarget,P={originalEvent:T,delta:V};Ug(V,g.swipeDirection,g.swipeThreshold)?Zs(a2,p,P,{discrete:!0}):Zs(s2,f,P,{discrete:!0}),U.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),d2=e=>{const{__scopeToast:t,children:n,...r}=e,o=ql(gs,t),[i,s]=h.useState(!1),[a,l]=h.useState(!1);return p2(()=>s(!0)),h.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:S.jsx(pS,{asChild:!0,children:S.jsx(ph,{...r,children:i&&S.jsxs(S.Fragment,{children:[o.label," ",n]})})})},f2="ToastTitle",bS=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return S.jsx(Qt.div,{...r,ref:t})});bS.displayName=f2;var h2="ToastDescription",ES=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return S.jsx(Qt.div,{...r,ref:t})});ES.displayName=h2;var CS="ToastAction",_S=h.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?S.jsx(PS,{altText:n,asChild:!0,children:S.jsx(vh,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${CS}\`. Expected non-empty \`string\`.`),null)});_S.displayName=CS;var kS="ToastClose",vh=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=c2(kS,n);return S.jsx(PS,{asChild:!0,children:S.jsx(Qt.button,{type:"button",...r,ref:t,onClick:lt(e.onClick,o.onClose)})})});vh.displayName=kS;var PS=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return S.jsx(Qt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function TS(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),m2(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!o)if(i){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...TS(r))}}),t}function Zs(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?cS(o,i):o.dispatchEvent(i)}var Ug=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),i=r>o;return t==="left"||t==="right"?i&&r>n:!i&&o>n};function p2(e=()=>{}){const t=Or(e);ns(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function m2(e){return e.nodeType===e.ELEMENT_NODE}function g2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Jc(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var v2=vS,RS=wS,AS=SS,$S=bS,OS=ES,jS=_S,NS=vh;const y2=v2,IS=te.forwardRef(({className:e,...t},n)=>S.jsx(RS,{ref:n,className:pt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));IS.displayName=RS.displayName;const w2=K0("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),LS=te.forwardRef(({className:e,variant:t,...n},r)=>S.jsx(AS,{ref:r,className:pt(w2({variant:t}),e),...n}));LS.displayName=AS.displayName;const x2=te.forwardRef(({className:e,...t},n)=>S.jsx(jS,{ref:n,className:pt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));x2.displayName=jS.displayName;const DS=te.forwardRef(({className:e,...t},n)=>S.jsx(NS,{ref:n,className:pt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:S.jsx(K$,{className:"h-4 w-4"})}));DS.displayName=NS.displayName;const MS=te.forwardRef(({className:e,...t},n)=>S.jsx($S,{ref:n,className:pt("text-sm font-semibold",e),...t}));MS.displayName=$S.displayName;const FS=te.forwardRef(({className:e,...t},n)=>S.jsx(OS,{ref:n,className:pt("text-sm opacity-90",e),...t}));FS.displayName=OS.displayName;function S2(){const{toasts:e}=sr();return S.jsxs(y2,{children:[e.map(({id:t,title:n,description:r,action:o,dismiss:i,...s})=>S.jsxs(LS,{...s,children:[S.jsxs("div",{className:"grid gap-1",children:[n&&S.jsx(MS,{children:n}),r&&S.jsx(FS,{children:r})]}),o,S.jsx(DS,{})]},t)),S.jsx(IS,{})]})}class b2 extends h.Component{constructor(){super(...arguments);yh(this,"state",{error:null})}static getDerivedStateFromError(n){return{error:n}}render(){return this.state.error?S.jsxs("div",{style:{padding:40,color:"red"},children:[S.jsx("h2",{children:"Se produjo un error:"}),S.jsx("pre",{children:this.state.error.message})]}):this.props.children}}function E2(){var o,i,s;const{user:e}=us(),t=Ak(),n=Ft(),r=!!e;return S.jsxs("header",{className:"flex justify-between items-center p-4 border-b",children:[S.jsxs("div",{className:"flex items-center gap-6",children:[S.jsx("h1",{className:"text-xl font-bold",children:"Chacho Relatos"}),r&&S.jsxs("span",{className:"text-base text-gray-700 dark:text-gray-200 font-medium",children:["Bienvenido ",((o=e==null?void 0:e.user_metadata)==null?void 0:o.username)||((i=e==null?void 0:e.user_metadata)==null?void 0:i.full_name)||((s=e==null?void 0:e.email)==null?void 0:s.split("@")[0])||"Usuario"]})]}),S.jsx("div",{children:r?S.jsx("button",{className:"btn btn-secondary",onClick:async()=>{await t(),n("/")},children:"Salir"}):S.jsx("button",{className:"btn btn-primary",onClick:()=>n("/register"),children:"Entrar"})})]})}function C2(){return S.jsx(b2,{children:S.jsx(Rk,{children:S.jsxs(dC,{future:{v7_startTransition:!0},children:[S.jsx(E2,{}),S.jsxs(lC,{children:[S.jsx(wt,{path:"/",element:S.jsx(Mg,{})}),S.jsx(wt,{path:"/login",element:S.jsx($k,{})}),S.jsx(wt,{path:"/auth/callback",element:S.jsx(Ok,{})}),S.jsx(wt,{path:"/reset-password",element:S.jsx(yP,{})}),S.jsx(wt,{path:"/register",element:S.jsx(vP,{})}),S.jsx(wt,{path:"/welcome",element:S.jsx(Mg,{})}),S.jsx(wt,{path:"/custom-story",element:S.jsx(yI,{})}),S.jsx(wt,{path:"/story",element:S.jsx(TI,{})}),S.jsx(wt,{path:"/saved-stories",element:S.jsx(RI,{})}),S.jsx(wt,{path:"/payment-success",element:S.jsx(AI,{})}),S.jsx(wt,{path:"/payment-cancelled",element:S.jsx($I,{})})]}),S.jsx(S2,{})]})})})}Qc.createRoot(document.getElementById("root")).render(S.jsx(te.StrictMode,{children:S.jsx(C2,{})}));export{zg as g};
